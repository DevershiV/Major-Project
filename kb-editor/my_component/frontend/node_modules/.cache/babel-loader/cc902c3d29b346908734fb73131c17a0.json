{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LoginRequestResponse = exports.ErrorResponse = exports.SuccessResponse = exports.ActivityResponse = exports.ActivityRequestError = exports.ActivityRequestTrigger = void 0;\nvar ActivityRequestTrigger;\n(function (ActivityRequestTrigger) {\n  ActivityRequestTrigger[\"Automatic\"] = \"automatic\";\n  ActivityRequestTrigger[\"Manual\"] = \"manual\";\n})(ActivityRequestTrigger = exports.ActivityRequestTrigger || (exports.ActivityRequestTrigger = {}));\nvar ActivityRequestError = /** @class */function () {\n  function ActivityRequestError(code, message) {\n    this.code = code;\n    this.message = message;\n  }\n  return ActivityRequestError;\n}();\nexports.ActivityRequestError = ActivityRequestError;\nvar ActivityResponse = /** @class */function () {\n  function ActivityResponse(request) {\n    this.request = request;\n  }\n  return ActivityResponse;\n}();\nexports.ActivityResponse = ActivityResponse;\nvar SuccessResponse = /** @class */function (_super) {\n  __extends(SuccessResponse, _super);\n  function SuccessResponse(request, rawContent) {\n    var _this = _super.call(this, request) || this;\n    _this.request = request;\n    _this.rawContent = rawContent;\n    return _this;\n  }\n  return SuccessResponse;\n}(ActivityResponse);\nexports.SuccessResponse = SuccessResponse;\nvar ErrorResponse = /** @class */function (_super) {\n  __extends(ErrorResponse, _super);\n  function ErrorResponse(request, error) {\n    var _this = _super.call(this, request) || this;\n    _this.request = request;\n    _this.error = error;\n    return _this;\n  }\n  return ErrorResponse;\n}(ActivityResponse);\nexports.ErrorResponse = ErrorResponse;\nvar LoginRequestResponse = /** @class */function (_super) {\n  __extends(LoginRequestResponse, _super);\n  function LoginRequestResponse(request, auth) {\n    var _this = _super.call(this, request) || this;\n    _this.request = request;\n    _this._auth = auth;\n    for (var _i = 0, _a = _this._auth.buttons; _i < _a.length; _i++) {\n      var button = _a[_i];\n      if (button.type === \"signin\" && button.value !== undefined) {\n        try {\n          new URL(button.value);\n          _this.signinButton = button;\n          break;\n        } catch (e) {\n          // Ignore parsing error\n        }\n      }\n    }\n    return _this;\n  }\n  Object.defineProperty(LoginRequestResponse.prototype, \"tokenExchangeResource\", {\n    get: function () {\n      return this._auth.tokenExchangeResource;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return LoginRequestResponse;\n}(ActivityResponse);\nexports.LoginRequestResponse = LoginRequestResponse;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AASA,IAAYA,sBAGX;AAHD,WAAYA,sBAAsB;EAC9BA,iDAAuB;EACvBA,2CAAiB;AACrB,CAAC,EAHWA,sBAAsB,GAAtBC,8BAAsB,KAAtBA,8BAAsB;AAiBlC;EACI,8BAAqBC,IAAa,EAAWC,OAAgB;IAAxC,SAAI,GAAJD,IAAI;IAAoB,YAAO,GAAPC,OAAO;EAAY;EACpE,2BAAC;AAAD,CAAC,EAFD;AAAaF;AAIb;EACI,0BAAqBG,OAAyB;IAAzB,YAAO,GAAPA,OAAO;EAAqB;EACrD,uBAAC;AAAD,CAAC,EAFD;AAAsBH;AAItB;EAAqCI;EACjC,yBAAqBD,OAAyB,EAAWE,UAAmB;IAA5E,YACIC,kBAAMH,OAAO,CAAC;IADGI,aAAO,GAAPJ,OAAO;IAA6BI,gBAAU,GAAVF,UAAU;;EAEnE;EACJ,sBAAC;AAAD,CAAC,CAJoCG,gBAAgB;AAAxCR;AAMb;EAAmCI;EAC/B,uBAAqBD,OAAyB,EAAWM,KAA2B;IAApF,YACIH,kBAAMH,OAAO,CAAC;IADGI,aAAO,GAAPJ,OAAO;IAA6BI,WAAK,GAALE,KAAK;;EAE9D;EACJ,oBAAC;AAAD,CAAC,CAJkCD,gBAAgB;AAAtCR;AAMb;EAA0CI;EAItC,8BAAqBD,OAAyB,EAAEO,IAAoB;IAApE,YACIJ,kBAAMH,OAAO,CAAC;IADGI,aAAO,GAAPJ,OAAO;IAExBI,KAAI,CAACI,KAAK,GAAGD,IAAI;IAEjB,KAAqB,UAAkB,EAAlBE,UAAI,CAACD,KAAK,CAACE,OAAO,EAAlBC,cAAkB,EAAlBA,IAAkB,EAAE;MAApC,IAAMC,MAAM;MACb,IAAIA,MAAM,CAACC,IAAI,KAAK,QAAQ,IAAID,MAAM,CAACE,KAAK,KAAKC,SAAS,EAAE;QACxD,IAAI;UACA,IAAIC,GAAG,CAACJ,MAAM,CAACE,KAAK,CAAC;UAErBV,KAAI,CAACa,YAAY,GAAGL,MAAM;UAE1B;SACH,CAAC,OAAOM,CAAC,EAAE;UACR;QAAA;;;;EAIhB;EAEAC,sBAAIC,uDAAqB;SAAzB;MACI,OAAO,IAAI,CAACZ,KAAK,CAACa,qBAAqB;IAC3C,CAAC;;;;EACL,2BAAC;AAAD,CAAC,CA1ByChB,gBAAgB;AAA7CR","names":["ActivityRequestTrigger","exports","code","message","request","__extends","rawContent","_super","_this","ActivityResponse","error","auth","_auth","_a","buttons","_i","button","type","value","undefined","URL","signinButton","e","Object","LoginRequestResponse","tokenExchangeResource"],"sourceRoot":"","sources":["../src/activity-request.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}