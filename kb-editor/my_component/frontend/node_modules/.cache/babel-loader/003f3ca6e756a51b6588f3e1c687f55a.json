{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatText = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar AbstractTextFormatter = /** @class */function () {\n  function AbstractTextFormatter(regularExpression) {\n    this._regularExpression = regularExpression;\n  }\n  AbstractTextFormatter.prototype.format = function (lang, input) {\n    var matches;\n    if (input) {\n      var result = input;\n      while ((matches = this._regularExpression.exec(input)) != null) {\n        result = result.replace(matches[0], this.internalFormat(lang, matches));\n      }\n      return result;\n    } else {\n      return input;\n    }\n  };\n  return AbstractTextFormatter;\n}();\nvar DateFormatter = /** @class */function (_super) {\n  __extends(DateFormatter, _super);\n  function DateFormatter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  DateFormatter.prototype.internalFormat = function (lang, matches) {\n    var date = new Date(Date.parse(matches[1]));\n    var format = matches[2] !== undefined ? matches[2].toLowerCase() : \"compact\";\n    if (format !== \"compact\") {\n      return date.toLocaleDateString(lang, {\n        day: \"numeric\",\n        weekday: format,\n        month: format,\n        year: \"numeric\"\n      });\n    } else {\n      return date.toLocaleDateString();\n    }\n  };\n  return DateFormatter;\n}(AbstractTextFormatter);\nvar TimeFormatter = /** @class */function (_super) {\n  __extends(TimeFormatter, _super);\n  function TimeFormatter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  TimeFormatter.prototype.internalFormat = function (lang, matches) {\n    var date = new Date(Date.parse(matches[1]));\n    return date.toLocaleTimeString(lang, {\n      hour: \"numeric\",\n      minute: \"2-digit\"\n    });\n  };\n  return TimeFormatter;\n}(AbstractTextFormatter);\nfunction formatText(lang, text) {\n  var formatters = [new DateFormatter(/\\{{2}DATE\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))(?:, ?(COMPACT|LONG|SHORT))?\\)\\}{2}/g), new TimeFormatter(/\\{{2}TIME\\((\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:Z|(?:(?:-|\\+)\\d{2}:\\d{2})))\\)\\}{2}/g)];\n  var result = text;\n  for (var _i = 0, formatters_1 = formatters; _i < formatters_1.length; _i++) {\n    var formatter = formatters_1[_i];\n    result = formatter.format(lang, result);\n  }\n  return result;\n}\nexports.formatText = formatText;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;EAKI,+BAAYA,iBAAyB;IACjC,IAAI,CAACC,kBAAkB,GAAGD,iBAAiB;EAC/C;EAEAE,sCAAM,GAAN,UAAOC,IAAwB,EAAEC,KAAyB;IACtD,IAAIC,OAAO;IAEX,IAAID,KAAK,EAAE;MACP,IAAIE,MAAM,GAAGF,KAAK;MAElB,OAAO,CAACC,OAAO,GAAG,IAAI,CAACJ,kBAAkB,CAACM,IAAI,CAACH,KAAK,CAAC,KAAK,IAAI,EAAE;QAC5DE,MAAM,GAAGA,MAAM,CAACE,OAAO,CAACH,OAAO,CAAC,CAAC,CAAC,EAAE,IAAI,CAACI,cAAc,CAACN,IAAI,EAAEE,OAAO,CAAC,CAAC;;MAG3E,OAAOC,MAAM;KAChB,MAAM;MACH,OAAOF,KAAK;;EAEpB,CAAC;EACL,4BAAC;AAAD,CAAC,EAxBD;AA0BA;EAA4BM;EAA5B;;EAgBA;EAfcC,sCAAc,GAAxB,UAAyBR,IAAwB,EAAEE,OAAwB;IACvE,IAAMO,IAAI,GAAG,IAAIC,IAAI,CAACA,IAAI,CAACC,KAAK,CAACT,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7C,IAAMU,MAAM,GAAGV,OAAO,CAAC,CAAC,CAAC,KAAKW,SAAS,GAAGX,OAAO,CAAC,CAAC,CAAC,CAACY,WAAW,EAAE,GAAG,SAAS;IAE9E,IAAIF,MAAM,KAAK,SAAS,EAAE;MACtB,OAAOH,IAAI,CAACM,kBAAkB,CAACf,IAAI,EAAE;QACjCgB,GAAG,EAAE,SAAS;QACdC,OAAO,EAAEL,MAAM;QACfM,KAAK,EAAEN,MAAM;QACbO,IAAI,EAAE;OACqB,CAAC;KACnC,MAAM;MACH,OAAOV,IAAI,CAACM,kBAAkB,EAAE;;EAExC,CAAC;EACL,oBAAC;AAAD,CAAC,CAhB2BhB,qBAAqB;AAkBjD;EAA4BQ;EAA5B;;EAMA;EALca,sCAAc,GAAxB,UAAyBpB,IAAwB,EAAEE,OAAwB;IACvE,IAAMO,IAAI,GAAG,IAAIC,IAAI,CAACA,IAAI,CAACC,KAAK,CAACT,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAE7C,OAAOO,IAAI,CAACY,kBAAkB,CAACrB,IAAI,EAAE;MAAEsB,IAAI,EAAE,SAAS;MAAEC,MAAM,EAAE;IAAS,CAAE,CAAC;EAChF,CAAC;EACL,oBAAC;AAAD,CAAC,CAN2BxB,qBAAqB;AAQjD,SAAgByB,UAAU,CAACxB,IAAwB,EAAEyB,IAAwB;EACzE,IAAMC,UAAU,GAA4B,CACxC,IAAIlB,aAAa,CACb,mHAAmH,CACtH,EACD,IAAIY,aAAa,CACb,uFAAuF,CAC1F,CACJ;EAED,IAAIjB,MAAM,GAAGsB,IAAI;EAEjB,KAAwB,UAAU,EAAVE,yBAAU,EAAVC,wBAAU,EAAVA,IAAU,EAAE;IAA/B,IAAMC,SAAS;IAChB1B,MAAM,GAAG0B,SAAS,CAACjB,MAAM,CAACZ,IAAI,EAAEG,MAAM,CAAC;;EAG3C,OAAOA,MAAM;AACjB;AAjBA2B","names":["regularExpression","_regularExpression","AbstractTextFormatter","lang","input","matches","result","exec","replace","internalFormat","__extends","DateFormatter","date","Date","parse","format","undefined","toLowerCase","toLocaleDateString","day","weekday","month","year","TimeFormatter","toLocaleTimeString","hour","minute","formatText","text","formatters","formatters_1","_i","formatter","exports"],"sourceRoot":"","sources":["../src/text-formatters.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}