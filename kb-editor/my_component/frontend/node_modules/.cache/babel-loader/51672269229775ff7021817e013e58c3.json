{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ContainerWithActions = exports.ColumnSet = exports.Column = exports.Container = exports.BackgroundImage = exports.ContainerBase = exports.StylableCardElementContainer = exports.ContainerStyleProperty = exports.ActionSet = exports.ShowCardAction = exports.HttpAction = exports.HttpHeader = exports.ToggleVisibilityAction = exports.OpenUrlAction = exports.ExecuteAction = exports.SubmitAction = exports.SubmitActionBase = exports.Action = exports.TimeInput = exports.TimeProperty = exports.DateInput = exports.NumberInput = exports.ChoiceSetInput = exports.Choice = exports.ToggleInput = exports.TextInput = exports.Input = exports.Media = exports.YouTubePlayer = exports.DailymotionPlayer = exports.VimeoPlayer = exports.IFrameMediaMediaPlayer = exports.CustomMediaPlayer = exports.HTML5MediaPlayer = exports.MediaPlayer = exports.MediaSource = exports.CaptionSource = exports.ContentSource = exports.ImageSet = exports.CardElementContainer = exports.Image = exports.FactSet = exports.Fact = exports.RichTextBlock = exports.TextRun = exports.TextBlock = exports.BaseTextBlock = exports.ActionProperty = exports.CardElement = exports.renderSeparation = void 0;\nexports.SerializationContext = exports.AdaptiveCard = exports.Authentication = exports.TokenExchangeResource = exports.AuthCardButton = exports.RefreshDefinition = exports.RefreshActionProperty = void 0;\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT License.\nvar Enums = require(\"./enums\");\nvar shared_1 = require(\"./shared\");\nvar Utils = require(\"./utils\");\nvar host_config_1 = require(\"./host-config\");\nvar TextFormatters = require(\"./text-formatters\");\nvar card_object_1 = require(\"./card-object\");\nvar serialization_1 = require(\"./serialization\");\nvar registry_1 = require(\"./registry\");\nvar strings_1 = require(\"./strings\");\nvar controls_1 = require(\"./controls\");\nfunction clearElement(element) {\n  var _a, _b;\n  var trustedHtml = typeof window === 'undefined' ? \"\" : (_b = (_a = window.trustedTypes) === null || _a === void 0 ? void 0 : _a.emptyHTML) !== null && _b !== void 0 ? _b : \"\";\n  element.innerHTML = trustedHtml;\n}\nfunction renderSeparation(hostConfig, separationDefinition, orientation) {\n  if (separationDefinition.spacing > 0 || separationDefinition.lineThickness && separationDefinition.lineThickness > 0) {\n    var separator = document.createElement(\"div\");\n    separator.className = hostConfig.makeCssClassName(\"ac-\" + (orientation === Enums.Orientation.Horizontal ? \"horizontal\" : \"vertical\") + \"-separator\");\n    separator.setAttribute(\"aria-hidden\", \"true\");\n    var color = separationDefinition.lineColor ? Utils.stringToCssColor(separationDefinition.lineColor) : \"\";\n    if (orientation === Enums.Orientation.Horizontal) {\n      if (separationDefinition.lineThickness) {\n        separator.style.paddingTop = separationDefinition.spacing / 2 + \"px\";\n        separator.style.marginBottom = separationDefinition.spacing / 2 + \"px\";\n        separator.style.borderBottom = separationDefinition.lineThickness + \"px solid \" + color;\n      } else {\n        separator.style.height = separationDefinition.spacing + \"px\";\n      }\n    } else {\n      if (separationDefinition.lineThickness) {\n        separator.style.paddingLeft = separationDefinition.spacing / 2 + \"px\";\n        separator.style.marginRight = separationDefinition.spacing / 2 + \"px\";\n        separator.style.borderRight = separationDefinition.lineThickness + \"px solid \" + color;\n      } else {\n        separator.style.width = separationDefinition.spacing + \"px\";\n      }\n    }\n    separator.style.overflow = \"hidden\";\n    separator.style.flex = \"0 0 auto\";\n    return separator;\n  } else {\n    return undefined;\n  }\n}\nexports.renderSeparation = renderSeparation;\nvar CardElement = /** @class */function (_super) {\n  __extends(CardElement, _super);\n  function CardElement() {\n    //#region Schema\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._truncatedDueToOverflow = false;\n    return _this;\n  }\n  Object.defineProperty(CardElement.prototype, \"lang\", {\n    get: function () {\n      var lang = this.getValue(CardElement.langProperty);\n      if (lang) {\n        return lang;\n      } else {\n        if (this.parent) {\n          return this.parent.lang;\n        } else {\n          return undefined;\n        }\n      }\n    },\n    set: function (value) {\n      this.setValue(CardElement.langProperty, value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CardElement.prototype, \"isVisible\", {\n    get: function () {\n      return this.getValue(CardElement.isVisibleProperty);\n    },\n    set: function (value) {\n      // If the element is going to be hidden, reset any changes that were due\n      // to overflow truncation (this ensures that if the element is later\n      // un-hidden it has the right content)\n      if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation && !value) {\n        this.undoOverflowTruncation();\n      }\n      if (this.isVisible !== value) {\n        this.setValue(CardElement.isVisibleProperty, value);\n        this.updateRenderedElementVisibility();\n        if (this._renderedElement) {\n          raiseElementVisibilityChangedEvent(this);\n        }\n      }\n      if (this._renderedElement) {\n        this._renderedElement.setAttribute(\"aria-expanded\", value.toString());\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  CardElement.prototype.internalRenderSeparator = function () {\n    var renderedSeparator = renderSeparation(this.hostConfig, {\n      spacing: this.hostConfig.getEffectiveSpacing(this.spacing),\n      lineThickness: this.separator ? this.hostConfig.separator.lineThickness : undefined,\n      lineColor: this.separator ? this.hostConfig.separator.lineColor : undefined\n    }, this.separatorOrientation);\n    if (shared_1.GlobalSettings.alwaysBleedSeparators && renderedSeparator && this.separatorOrientation === Enums.Orientation.Horizontal) {\n      // Adjust separator's margins if the option to always bleed separators is turned on\n      var parentContainer = this.getParentContainer();\n      if (parentContainer && parentContainer.getEffectivePadding()) {\n        var parentPhysicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(parentContainer.getEffectivePadding());\n        renderedSeparator.style.marginLeft = \"-\" + parentPhysicalPadding.left + \"px\";\n        renderedSeparator.style.marginRight = \"-\" + parentPhysicalPadding.right + \"px\";\n      }\n    }\n    return renderedSeparator;\n  };\n  CardElement.prototype.updateRenderedElementVisibility = function () {\n    var displayMode = this.isDesignMode() || this.isVisible ? this._defaultRenderedElementDisplayMode : \"none\";\n    if (this._renderedElement) {\n      if (displayMode) {\n        this._renderedElement.style.display = displayMode;\n      } else {\n        this._renderedElement.style.removeProperty(\"display\");\n      }\n    }\n    if (this._separatorElement) {\n      if (this.parent && this.parent.isFirstElement(this)) {\n        this._separatorElement.style.display = \"none\";\n      } else {\n        if (displayMode) {\n          this._separatorElement.style.display = displayMode;\n        } else {\n          this._separatorElement.style.removeProperty(\"display\");\n        }\n      }\n    }\n  };\n  CardElement.prototype.hideElementDueToOverflow = function () {\n    if (this._renderedElement && this.isVisible) {\n      this._renderedElement.style.visibility = \"hidden\";\n      this.isVisible = false;\n      raiseElementVisibilityChangedEvent(this, false);\n    }\n  };\n  CardElement.prototype.showElementHiddenDueToOverflow = function () {\n    if (this._renderedElement && !this.isVisible) {\n      this._renderedElement.style.removeProperty(\"visibility\");\n      this.isVisible = true;\n      raiseElementVisibilityChangedEvent(this, false);\n    }\n  };\n  // Marked private to emulate internal access\n  CardElement.prototype.handleOverflow = function (maxHeight) {\n    if (this.isVisible || this.isHiddenDueToOverflow()) {\n      var handled = this.truncateOverflow(maxHeight);\n      // Even if we were unable to truncate the element to fit this time,\n      // it still could have been previously truncated\n      this._truncatedDueToOverflow = handled || this._truncatedDueToOverflow;\n      if (!handled) {\n        this.hideElementDueToOverflow();\n      } else if (handled && !this.isVisible) {\n        this.showElementHiddenDueToOverflow();\n      }\n    }\n  };\n  // Marked private to emulate internal access\n  CardElement.prototype.resetOverflow = function () {\n    var sizeChanged = false;\n    if (this._truncatedDueToOverflow) {\n      this.undoOverflowTruncation();\n      this._truncatedDueToOverflow = false;\n      sizeChanged = true;\n    }\n    if (this.isHiddenDueToOverflow()) {\n      this.showElementHiddenDueToOverflow();\n    }\n    return sizeChanged;\n  };\n  CardElement.prototype.getDefaultSerializationContext = function () {\n    return new SerializationContext();\n  };\n  CardElement.prototype.createPlaceholderElement = function () {\n    var styleDefinition = this.getEffectiveStyleDefinition();\n    var foregroundCssColor = Utils.stringToCssColor(styleDefinition.foregroundColors.default.subtle);\n    var element = document.createElement(\"div\");\n    element.style.border = \"1px dashed \" + foregroundCssColor;\n    element.style.padding = \"4px\";\n    element.style.minHeight = \"32px\";\n    element.style.fontSize = \"10px\";\n    if (foregroundCssColor) {\n      element.style.color = foregroundCssColor;\n    }\n    element.innerText = \"Empty \" + this.getJsonTypeName();\n    return element;\n  };\n  CardElement.prototype.adjustRenderedElementSize = function (renderedElement) {\n    if (this.height === \"auto\") {\n      renderedElement.style.flex = \"0 0 auto\";\n    } else {\n      renderedElement.style.flex = \"1 1 auto\";\n    }\n  };\n  CardElement.prototype.isDisplayed = function () {\n    return this._renderedElement !== undefined && this.isVisible && this._renderedElement.offsetHeight > 0;\n  };\n  CardElement.prototype.overrideInternalRender = function () {\n    return this.internalRender();\n  };\n  CardElement.prototype.applyPadding = function () {\n    if (this.separatorElement && this.separatorOrientation === Enums.Orientation.Horizontal) {\n      if (shared_1.GlobalSettings.alwaysBleedSeparators && !this.isBleeding()) {\n        var padding = new shared_1.PaddingDefinition();\n        this.getImmediateSurroundingPadding(padding);\n        var physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n        this.separatorElement.style.marginLeft = \"-\" + physicalPadding.left + \"px\";\n        this.separatorElement.style.marginRight = \"-\" + physicalPadding.right + \"px\";\n      } else {\n        this.separatorElement.style.marginRight = \"0\";\n        this.separatorElement.style.marginLeft = \"0\";\n      }\n    }\n  };\n  /*\r\n   * Called when this element overflows the bottom of the card.\r\n   * maxHeight will be the amount of space still available on the card (0 if\r\n   * the element is fully off the card).\r\n   */\n  CardElement.prototype.truncateOverflow = function (_maxHeight) {\n    // Child implementations should return true if the element handled\n    // the truncation request such that its content fits within maxHeight,\n    // false if the element should fall back to being hidden\n    return false;\n  };\n  /*\r\n   * This should reverse any changes performed in truncateOverflow().\r\n   */\n  CardElement.prototype.undoOverflowTruncation = function () {\n    return;\n  };\n  CardElement.prototype.getDefaultPadding = function () {\n    return new shared_1.PaddingDefinition();\n  };\n  CardElement.prototype.getHasBackground = function (ignoreBackgroundImages) {\n    if (ignoreBackgroundImages === void 0) {\n      ignoreBackgroundImages = false;\n    }\n    return false;\n  };\n  CardElement.prototype.getHasBorder = function () {\n    return false;\n  };\n  CardElement.prototype.getPadding = function () {\n    return this._padding;\n  };\n  CardElement.prototype.setPadding = function (value) {\n    this._padding = value;\n  };\n  CardElement.prototype.shouldSerialize = function (context) {\n    return context.elementRegistry.findByName(this.getJsonTypeName()) !== undefined;\n  };\n  Object.defineProperty(CardElement.prototype, \"useDefaultSizing\", {\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CardElement.prototype, \"separatorOrientation\", {\n    get: function () {\n      return Enums.Orientation.Horizontal;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CardElement.prototype, \"defaultStyle\", {\n    get: function () {\n      return Enums.ContainerStyle.Default;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  CardElement.prototype.parse = function (source, context) {\n    _super.prototype.parse.call(this, source, context ? context : new SerializationContext());\n  };\n  CardElement.prototype.asString = function () {\n    return \"\";\n  };\n  CardElement.prototype.isBleeding = function () {\n    return false;\n  };\n  CardElement.prototype.getEffectiveStyle = function () {\n    if (this.parent) {\n      return this.parent.getEffectiveStyle();\n    }\n    return this.defaultStyle;\n  };\n  CardElement.prototype.getEffectiveStyleDefinition = function () {\n    return this.hostConfig.containerStyles.getStyleByName(this.getEffectiveStyle());\n  };\n  CardElement.prototype.getEffectiveTextStyleDefinition = function () {\n    if (this.parent) {\n      return this.parent.getEffectiveTextStyleDefinition();\n    }\n    return this.hostConfig.textStyles.default;\n  };\n  CardElement.prototype.getForbiddenActionTypes = function () {\n    return [];\n  };\n  CardElement.prototype.getImmediateSurroundingPadding = function (result, processTop, processRight, processBottom, processLeft) {\n    if (processTop === void 0) {\n      processTop = true;\n    }\n    if (processRight === void 0) {\n      processRight = true;\n    }\n    if (processBottom === void 0) {\n      processBottom = true;\n    }\n    if (processLeft === void 0) {\n      processLeft = true;\n    }\n    if (this.parent) {\n      var doProcessTop = processTop && this.parent.isTopElement(this);\n      var doProcessRight = processRight && this.parent.isRightMostElement(this);\n      var doProcessBottom = processBottom && this.parent.isBottomElement(this);\n      var doProcessLeft = processLeft && this.parent.isLeftMostElement(this);\n      var effectivePadding = this.parent.getEffectivePadding();\n      if (effectivePadding) {\n        if (doProcessTop && effectivePadding.top !== Enums.Spacing.None) {\n          result.top = effectivePadding.top;\n          doProcessTop = false;\n        }\n        if (doProcessRight && effectivePadding.right !== Enums.Spacing.None) {\n          result.right = effectivePadding.right;\n          doProcessRight = false;\n        }\n        if (doProcessBottom && effectivePadding.bottom !== Enums.Spacing.None) {\n          result.bottom = effectivePadding.bottom;\n          doProcessBottom = false;\n        }\n        if (doProcessLeft && effectivePadding.left !== Enums.Spacing.None) {\n          result.left = effectivePadding.left;\n          doProcessLeft = false;\n        }\n      }\n      if (doProcessTop || doProcessRight || doProcessBottom || doProcessLeft) {\n        this.parent.getImmediateSurroundingPadding(result, doProcessTop, doProcessRight, doProcessBottom, doProcessLeft);\n      }\n    }\n  };\n  CardElement.prototype.getActionCount = function () {\n    return 0;\n  };\n  CardElement.prototype.getActionAt = function (index) {\n    throw new Error(strings_1.Strings.errors.indexOutOfRange(index));\n  };\n  CardElement.prototype.indexOfAction = function (action) {\n    for (var i = 0; i < this.getActionCount(); i++) {\n      if (this.getActionAt(i) === action) {\n        return i;\n      }\n    }\n    return -1;\n  };\n  CardElement.prototype.remove = function () {\n    if (this.parent && this.parent instanceof CardElementContainer) {\n      return this.parent.removeItem(this);\n    }\n    return false;\n  };\n  CardElement.prototype.render = function () {\n    this._renderedElement = this.overrideInternalRender();\n    this._separatorElement = this.internalRenderSeparator();\n    if (this._renderedElement) {\n      if (this.id) {\n        this._renderedElement.id = this.id;\n      }\n      if (this.customCssSelector) {\n        this._renderedElement.classList.add(this.customCssSelector);\n      }\n      this._renderedElement.style.boxSizing = \"border-box\";\n      this._defaultRenderedElementDisplayMode = this._renderedElement.style.display ? this._renderedElement.style.display : undefined;\n      this.adjustRenderedElementSize(this._renderedElement);\n      this.updateLayout(false);\n    } else if (this.isDesignMode()) {\n      this._renderedElement = this.createPlaceholderElement();\n    }\n    this.getRootElement().updateActionsEnabledState();\n    return this._renderedElement;\n  };\n  CardElement.prototype.updateLayout = function (_processChildren) {\n    if (_processChildren === void 0) {\n      _processChildren = true;\n    }\n    this.updateRenderedElementVisibility();\n    this.applyPadding();\n  };\n  CardElement.prototype.updateActionsEnabledState = function () {\n    var allActions = this.getRootElement().getAllActions();\n    for (var _i = 0, allActions_1 = allActions; _i < allActions_1.length; _i++) {\n      var action = allActions_1[_i];\n      action.updateEnabledState();\n    }\n  };\n  CardElement.prototype.indexOf = function (_cardElement) {\n    return -1;\n  };\n  CardElement.prototype.isDesignMode = function () {\n    var rootElement = this.getRootElement();\n    return rootElement instanceof AdaptiveCard && rootElement.designMode;\n  };\n  CardElement.prototype.isFirstElement = function (_element) {\n    return true;\n  };\n  CardElement.prototype.isLastElement = function (_element) {\n    return true;\n  };\n  CardElement.prototype.isAtTheVeryLeft = function () {\n    return this.parent ? this.parent.isLeftMostElement(this) && this.parent.isAtTheVeryLeft() : true;\n  };\n  CardElement.prototype.isAtTheVeryRight = function () {\n    return this.parent ? this.parent.isRightMostElement(this) && this.parent.isAtTheVeryRight() : true;\n  };\n  CardElement.prototype.isAtTheVeryTop = function () {\n    return this.parent ? this.parent.isFirstElement(this) && this.parent.isAtTheVeryTop() : true;\n  };\n  CardElement.prototype.isAtTheVeryBottom = function () {\n    return this.parent ? this.parent.isLastElement(this) && this.parent.isAtTheVeryBottom() : true;\n  };\n  CardElement.prototype.isBleedingAtTop = function () {\n    return false;\n  };\n  CardElement.prototype.isBleedingAtBottom = function () {\n    return false;\n  };\n  CardElement.prototype.isLeftMostElement = function (_element) {\n    return true;\n  };\n  CardElement.prototype.isRightMostElement = function (_element) {\n    return true;\n  };\n  CardElement.prototype.isTopElement = function (element) {\n    return this.isFirstElement(element);\n  };\n  CardElement.prototype.isBottomElement = function (element) {\n    return this.isLastElement(element);\n  };\n  CardElement.prototype.isHiddenDueToOverflow = function () {\n    return this._renderedElement !== undefined && this._renderedElement.style.visibility === \"hidden\";\n  };\n  CardElement.prototype.getRootElement = function () {\n    return this.getRootObject();\n  };\n  CardElement.prototype.getParentContainer = function () {\n    var currentElement = this.parent;\n    while (currentElement) {\n      if (currentElement instanceof Container) {\n        return currentElement;\n      }\n      currentElement = currentElement.parent;\n    }\n    return undefined;\n  };\n  CardElement.prototype.getAllInputs = function (processActions) {\n    if (processActions === void 0) {\n      processActions = true;\n    }\n    return [];\n  };\n  CardElement.prototype.getAllActions = function () {\n    var result = [];\n    for (var i = 0; i < this.getActionCount(); i++) {\n      var action = this.getActionAt(i);\n      if (action) {\n        result.push(action);\n      }\n    }\n    return result;\n  };\n  CardElement.prototype.getResourceInformation = function () {\n    return [];\n  };\n  CardElement.prototype.getElementById = function (id) {\n    return this.id === id ? this : undefined;\n  };\n  CardElement.prototype.getActionById = function (_id) {\n    return undefined;\n  };\n  CardElement.prototype.getEffectivePadding = function () {\n    var padding = this.getPadding();\n    return padding ? padding : this.getDefaultPadding();\n  };\n  CardElement.prototype.getEffectiveHorizontalAlignment = function () {\n    if (this.horizontalAlignment !== undefined) {\n      return this.horizontalAlignment;\n    }\n    if (this.parent) {\n      return this.parent.getEffectiveHorizontalAlignment();\n    }\n    return Enums.HorizontalAlignment.Left;\n  };\n  Object.defineProperty(CardElement.prototype, \"hostConfig\", {\n    get: function () {\n      if (this._hostConfig) {\n        return this._hostConfig;\n      } else {\n        if (this.parent) {\n          return this.parent.hostConfig;\n        } else {\n          return host_config_1.defaultHostConfig;\n        }\n      }\n    },\n    set: function (value) {\n      this._hostConfig = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CardElement.prototype, \"index\", {\n    get: function () {\n      if (this.parent) {\n        return this.parent.indexOf(this);\n      } else {\n        return 0;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CardElement.prototype, \"isInteractive\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CardElement.prototype, \"isStandalone\", {\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CardElement.prototype, \"isInline\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CardElement.prototype, \"hasVisibleSeparator\", {\n    get: function () {\n      if (this.parent && this.separatorElement) {\n        return !this.parent.isFirstElement(this) && (this.isVisible || this.isDesignMode());\n      } else {\n        return false;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CardElement.prototype, \"separatorElement\", {\n    get: function () {\n      return this._separatorElement;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(CardElement.prototype, \"parent\", {\n    get: function () {\n      return this._parent;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  CardElement.prototype.getElementSingletonBehavior = function () {\n    return registry_1.ElementSingletonBehavior.NotAllowed;\n  };\n  CardElement.langProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"lang\", true, /^[a-z]{2,3}$/gi);\n  CardElement.isVisibleProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"isVisible\", true);\n  CardElement.separatorProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"separator\", false);\n  CardElement.heightProperty = new serialization_1.ValueSetProperty(serialization_1.Versions.v1_1, \"height\", [{\n    value: \"auto\"\n  }, {\n    value: \"stretch\"\n  }], \"auto\");\n  CardElement.horizontalAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"horizontalAlignment\", Enums.HorizontalAlignment);\n  CardElement.spacingProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"spacing\", Enums.Spacing, Enums.Spacing.Default);\n  __decorate([(0, serialization_1.property)(CardElement.horizontalAlignmentProperty)], CardElement.prototype, \"horizontalAlignment\", void 0);\n  __decorate([(0, serialization_1.property)(CardElement.spacingProperty)], CardElement.prototype, \"spacing\", void 0);\n  __decorate([(0, serialization_1.property)(CardElement.separatorProperty)], CardElement.prototype, \"separator\", void 0);\n  __decorate([(0, serialization_1.property)(CardElement.heightProperty)], CardElement.prototype, \"height\", void 0);\n  __decorate([(0, serialization_1.property)(CardElement.langProperty)], CardElement.prototype, \"lang\", null);\n  __decorate([(0, serialization_1.property)(CardElement.isVisibleProperty)], CardElement.prototype, \"isVisible\", null);\n  return CardElement;\n}(card_object_1.CardObject);\nexports.CardElement = CardElement;\nvar ActionProperty = /** @class */function (_super) {\n  __extends(ActionProperty, _super);\n  function ActionProperty(targetVersion, name, forbiddenActionTypes) {\n    if (forbiddenActionTypes === void 0) {\n      forbiddenActionTypes = [];\n    }\n    var _this = _super.call(this, targetVersion, name, undefined) || this;\n    _this.targetVersion = targetVersion;\n    _this.name = name;\n    _this.forbiddenActionTypes = forbiddenActionTypes;\n    return _this;\n  }\n  ActionProperty.prototype.parse = function (sender, source, context) {\n    var parent = sender;\n    return context.parseAction(parent, source[this.name], this.forbiddenActionTypes, parent.isDesignMode());\n  };\n  ActionProperty.prototype.toJSON = function (sender, target, value, context) {\n    context.serializeValue(target, this.name, value ? value.toJSON(context) : undefined, undefined, true);\n  };\n  return ActionProperty;\n}(serialization_1.PropertyDefinition);\nexports.ActionProperty = ActionProperty;\nvar BaseTextBlock = /** @class */function (_super) {\n  __extends(BaseTextBlock, _super);\n  function BaseTextBlock(text) {\n    var _this = _super.call(this) || this;\n    _this.ariaHidden = false;\n    if (text) {\n      _this.text = text;\n    }\n    return _this;\n  }\n  BaseTextBlock.prototype.populateSchema = function (schema) {\n    _super.prototype.populateSchema.call(this, schema);\n    // selectAction is declared on BaseTextBlock but is only exposed on TextRun,\n    // so the property is removed from the BaseTextBlock schema.\n    schema.remove(BaseTextBlock.selectActionProperty);\n  };\n  Object.defineProperty(BaseTextBlock.prototype, \"text\", {\n    get: function () {\n      return this.getValue(BaseTextBlock.textProperty);\n    },\n    set: function (value) {\n      this.setText(value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  //#endregion\n  BaseTextBlock.prototype.getFontSize = function (fontType) {\n    switch (this.effectiveSize) {\n      case Enums.TextSize.Small:\n        return fontType.fontSizes.small;\n      case Enums.TextSize.Medium:\n        return fontType.fontSizes.medium;\n      case Enums.TextSize.Large:\n        return fontType.fontSizes.large;\n      case Enums.TextSize.ExtraLarge:\n        return fontType.fontSizes.extraLarge;\n      default:\n        return fontType.fontSizes.default;\n    }\n  };\n  BaseTextBlock.prototype.getColorDefinition = function (colorSet, color) {\n    switch (color) {\n      case Enums.TextColor.Accent:\n        return colorSet.accent;\n      case Enums.TextColor.Dark:\n        return colorSet.dark;\n      case Enums.TextColor.Light:\n        return colorSet.light;\n      case Enums.TextColor.Good:\n        return colorSet.good;\n      case Enums.TextColor.Warning:\n        return colorSet.warning;\n      case Enums.TextColor.Attention:\n        return colorSet.attention;\n      default:\n        return colorSet.default;\n    }\n  };\n  BaseTextBlock.prototype.setText = function (value) {\n    this.setValue(BaseTextBlock.textProperty, value);\n  };\n  BaseTextBlock.prototype.init = function (textDefinition) {\n    this.size = textDefinition.size;\n    this.weight = textDefinition.weight;\n    this.color = textDefinition.color;\n    this.isSubtle = textDefinition.isSubtle;\n  };\n  BaseTextBlock.prototype.asString = function () {\n    return this.text;\n  };\n  BaseTextBlock.prototype.applyStylesTo = function (targetElement) {\n    var fontType = this.hostConfig.getFontTypeDefinition(this.effectiveFontType);\n    if (fontType.fontFamily) {\n      targetElement.style.fontFamily = fontType.fontFamily;\n    }\n    var fontSize;\n    switch (this.effectiveSize) {\n      case Enums.TextSize.Small:\n        fontSize = fontType.fontSizes.small;\n        break;\n      case Enums.TextSize.Medium:\n        fontSize = fontType.fontSizes.medium;\n        break;\n      case Enums.TextSize.Large:\n        fontSize = fontType.fontSizes.large;\n        break;\n      case Enums.TextSize.ExtraLarge:\n        fontSize = fontType.fontSizes.extraLarge;\n        break;\n      default:\n        fontSize = fontType.fontSizes.default;\n        break;\n    }\n    targetElement.style.fontSize = fontSize + \"px\";\n    var colorDefinition = this.getColorDefinition(this.getEffectiveStyleDefinition().foregroundColors, this.effectiveColor);\n    var targetColor = Utils.stringToCssColor(this.effectiveIsSubtle ? colorDefinition.subtle : colorDefinition.default);\n    if (targetColor) {\n      targetElement.style.color = targetColor;\n    }\n    var fontWeight;\n    switch (this.effectiveWeight) {\n      case Enums.TextWeight.Lighter:\n        fontWeight = fontType.fontWeights.lighter;\n        break;\n      case Enums.TextWeight.Bolder:\n        fontWeight = fontType.fontWeights.bolder;\n        break;\n      default:\n        fontWeight = fontType.fontWeights.default;\n        break;\n    }\n    targetElement.style.fontWeight = fontWeight.toString();\n    if (this.ariaHidden) {\n      targetElement.setAttribute(\"aria-hidden\", \"true\");\n    }\n  };\n  BaseTextBlock.prototype.getAllActions = function () {\n    var result = _super.prototype.getAllActions.call(this);\n    if (this.selectAction) {\n      result.push(this.selectAction);\n    }\n    return result;\n  };\n  Object.defineProperty(BaseTextBlock.prototype, \"effectiveColor\", {\n    get: function () {\n      return this.color !== undefined ? this.color : this.getEffectiveTextStyleDefinition().color;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTextBlock.prototype, \"effectiveFontType\", {\n    get: function () {\n      return this.fontType !== undefined ? this.fontType : this.getEffectiveTextStyleDefinition().fontType;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTextBlock.prototype, \"effectiveIsSubtle\", {\n    get: function () {\n      return this.isSubtle !== undefined ? this.isSubtle : this.getEffectiveTextStyleDefinition().isSubtle;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTextBlock.prototype, \"effectiveSize\", {\n    get: function () {\n      return this.size !== undefined ? this.size : this.getEffectiveTextStyleDefinition().size;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(BaseTextBlock.prototype, \"effectiveWeight\", {\n    get: function () {\n      return this.weight !== undefined ? this.weight : this.getEffectiveTextStyleDefinition().weight;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  //#region Schema\n  BaseTextBlock.textProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"text\", true);\n  BaseTextBlock.sizeProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"size\", Enums.TextSize);\n  BaseTextBlock.weightProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"weight\", Enums.TextWeight);\n  BaseTextBlock.colorProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"color\", Enums.TextColor);\n  BaseTextBlock.isSubtleProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"isSubtle\");\n  BaseTextBlock.fontTypeProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_2, \"fontType\", Enums.FontType);\n  BaseTextBlock.selectActionProperty = new ActionProperty(serialization_1.Versions.v1_1, \"selectAction\", [\"Action.ShowCard\"]);\n  __decorate([(0, serialization_1.property)(BaseTextBlock.sizeProperty)], BaseTextBlock.prototype, \"size\", void 0);\n  __decorate([(0, serialization_1.property)(BaseTextBlock.weightProperty)], BaseTextBlock.prototype, \"weight\", void 0);\n  __decorate([(0, serialization_1.property)(BaseTextBlock.colorProperty)], BaseTextBlock.prototype, \"color\", void 0);\n  __decorate([(0, serialization_1.property)(BaseTextBlock.fontTypeProperty)], BaseTextBlock.prototype, \"fontType\", void 0);\n  __decorate([(0, serialization_1.property)(BaseTextBlock.isSubtleProperty)], BaseTextBlock.prototype, \"isSubtle\", void 0);\n  __decorate([(0, serialization_1.property)(BaseTextBlock.textProperty)], BaseTextBlock.prototype, \"text\", null);\n  __decorate([(0, serialization_1.property)(BaseTextBlock.selectActionProperty)], BaseTextBlock.prototype, \"selectAction\", void 0);\n  return BaseTextBlock;\n}(CardElement);\nexports.BaseTextBlock = BaseTextBlock;\nvar TextBlock = /** @class */function (_super) {\n  __extends(TextBlock, _super);\n  function TextBlock() {\n    //#region Schema\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.wrap = false;\n    _this._treatAsPlainText = true;\n    _this.useMarkdown = true;\n    return _this;\n  }\n  TextBlock.prototype.restoreOriginalContent = function () {\n    var _a, _b;\n    if (this.renderedElement !== undefined) {\n      if (this.maxLines && this.maxLines > 0) {\n        this.renderedElement.style.maxHeight = this._computedLineHeight * this.maxLines + \"px\";\n      }\n      var originalHtml = (_b = (_a = TextBlock._ttRoundtripPolicy) === null || _a === void 0 ? void 0 : _a.createHTML(this._originalInnerHtml)) !== null && _b !== void 0 ? _b : this._originalInnerHtml;\n      this.renderedElement.innerHTML = originalHtml;\n    }\n  };\n  TextBlock.prototype.truncateIfSupported = function (maxHeight) {\n    if (this.renderedElement !== undefined) {\n      // For now, only truncate TextBlocks that contain just a single\n      // paragraph -- since the maxLines calculation doesn't take into\n      // account Markdown lists\n      var children = this.renderedElement.children;\n      var isTextOnly = !children.length;\n      var truncationSupported = isTextOnly || children.length === 1 && children[0].tagName.toLowerCase() === \"p\" && !children[0].children.length;\n      if (truncationSupported) {\n        var element = isTextOnly ? this.renderedElement : children[0];\n        Utils.truncateText(element, maxHeight, this._computedLineHeight);\n        return true;\n      }\n    }\n    return false;\n  };\n  TextBlock.prototype.setText = function (value) {\n    _super.prototype.setText.call(this, value);\n    this._processedText = undefined;\n  };\n  TextBlock.prototype.internalRender = function () {\n    var _this = this;\n    var _a, _b;\n    this._processedText = undefined;\n    if (this.text) {\n      var preProcessedText = this.preProcessPropertyValue(BaseTextBlock.textProperty);\n      var hostConfig = this.hostConfig;\n      var element = void 0;\n      if (this.forElementId) {\n        var labelElement = document.createElement(\"label\");\n        labelElement.htmlFor = this.forElementId;\n        element = labelElement;\n      } else {\n        element = document.createElement(\"div\");\n      }\n      element.classList.add(hostConfig.makeCssClassName(\"ac-textBlock\"));\n      element.style.overflow = \"hidden\";\n      this.applyStylesTo(element);\n      if (this.style === \"heading\") {\n        element.setAttribute(\"role\", \"heading\");\n        var headingLevel = this.hostConfig.textBlock.headingLevel;\n        if (headingLevel !== undefined && headingLevel > 0) {\n          element.setAttribute(\"aria-level\", headingLevel.toString());\n        }\n      }\n      if (this.selectAction && hostConfig.supportsInteractivity) {\n        element.onclick = function (e) {\n          if (_this.selectAction && _this.selectAction.isEffectivelyEnabled()) {\n            e.preventDefault();\n            e.cancelBubble = true;\n            _this.selectAction.execute();\n          }\n        };\n        this.selectAction.setupElementForAccessibility(element);\n        if (this.selectAction.isEffectivelyEnabled()) {\n          element.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n        }\n      }\n      if (!this._processedText) {\n        this._treatAsPlainText = true;\n        var formattedText = TextFormatters.formatText(this.lang, preProcessedText);\n        if (this.useMarkdown && formattedText) {\n          if (shared_1.GlobalSettings.allowMarkForTextHighlighting) {\n            formattedText = formattedText.replace(/<mark>/g, \"===\").replace(/<\\/mark>/g, \"/==/\");\n          }\n          var markdownProcessingResult = AdaptiveCard.applyMarkdown(formattedText);\n          if (markdownProcessingResult.didProcess && markdownProcessingResult.outputHtml) {\n            this._processedText = markdownProcessingResult.outputHtml;\n            this._treatAsPlainText = false;\n            // Only process <mark> tag if markdown processing was applied because\n            // markdown processing is also responsible for sanitizing the input string\n            if (shared_1.GlobalSettings.allowMarkForTextHighlighting && this._processedText) {\n              var markStyle = \"\";\n              var effectiveStyle = this.getEffectiveStyleDefinition();\n              if (effectiveStyle.highlightBackgroundColor) {\n                markStyle += \"background-color: \" + effectiveStyle.highlightBackgroundColor + \";\";\n              }\n              if (effectiveStyle.highlightForegroundColor) {\n                markStyle += \"color: \" + effectiveStyle.highlightForegroundColor + \";\";\n              }\n              if (markStyle) {\n                markStyle = 'style=\"' + markStyle + '\"';\n              }\n              this._processedText = this._processedText.replace(/===/g, \"<mark \" + markStyle + \">\").replace(/\\/==\\//g, \"</mark>\");\n            }\n          } else {\n            this._processedText = formattedText;\n            this._treatAsPlainText = true;\n          }\n        } else {\n          this._processedText = formattedText;\n          this._treatAsPlainText = true;\n        }\n      }\n      if (!this._processedText) {\n        this._processedText = \"\";\n      }\n      if (this._treatAsPlainText) {\n        element.innerText = this._processedText;\n      } else {\n        var processedHtml = (_b = (_a = TextBlock._ttMarkdownPolicy) === null || _a === void 0 ? void 0 : _a.createHTML(this._processedText)) !== null && _b !== void 0 ? _b : this._processedText;\n        element.innerHTML = processedHtml;\n      }\n      if (element.firstElementChild instanceof HTMLElement) {\n        var firstElementChild = element.firstElementChild;\n        firstElementChild.style.marginTop = \"0px\";\n        firstElementChild.style.width = \"100%\";\n        if (!this.wrap) {\n          firstElementChild.style.overflow = \"hidden\";\n          firstElementChild.style.textOverflow = \"ellipsis\";\n        }\n      }\n      if (element.lastElementChild instanceof HTMLElement) {\n        element.lastElementChild.style.marginBottom = \"0px\";\n      }\n      var anchors = element.getElementsByTagName(\"a\");\n      var _loop_1 = function (anchor) {\n        anchor.classList.add(hostConfig.makeCssClassName(\"ac-anchor\"));\n        anchor.target = \"_blank\";\n        anchor.onclick = function (e) {\n          if (raiseAnchorClickedEvent(_this, anchor, e)) {\n            e.preventDefault();\n            e.cancelBubble = true;\n          }\n        };\n        anchor.oncontextmenu = function (e) {\n          if (raiseAnchorClickedEvent(_this, anchor, e)) {\n            e.preventDefault();\n            e.cancelBubble = true;\n            return false;\n          }\n          return true;\n        };\n      };\n      for (var _i = 0, _c = Array.from(anchors); _i < _c.length; _i++) {\n        var anchor = _c[_i];\n        _loop_1(anchor);\n      }\n      if (this.wrap) {\n        element.style.wordWrap = \"break-word\";\n        if (this.maxLines && this.maxLines > 0) {\n          element.style.overflow = \"hidden\";\n          if (Utils.isInternetExplorer() || !shared_1.GlobalSettings.useWebkitLineClamp) {\n            element.style.maxHeight = this._computedLineHeight * this.maxLines + \"px\";\n          } else {\n            // While non standard, --webkit-line-clamp works in every browser (except IE)\n            // and is a great solution to support the maxLines feature with ellipsis\n            // truncation. With --webkit-line-clamp there is need to use explicit line heights\n            element.style.removeProperty(\"line-height\");\n            element.style.display = \"-webkit-box\";\n            element.style.webkitBoxOrient = \"vertical\";\n            element.style.webkitLineClamp = this.maxLines.toString();\n          }\n        }\n      } else {\n        element.style.whiteSpace = \"nowrap\";\n        element.style.textOverflow = \"ellipsis\";\n      }\n      if (shared_1.GlobalSettings.useAdvancedTextBlockTruncation || shared_1.GlobalSettings.useAdvancedCardBottomTruncation) {\n        this._originalInnerHtml = element.innerHTML;\n      }\n      return element;\n    } else {\n      return undefined;\n    }\n  };\n  TextBlock.prototype.truncateOverflow = function (maxHeight) {\n    if (maxHeight >= this._computedLineHeight) {\n      return this.truncateIfSupported(maxHeight);\n    }\n    return false;\n  };\n  TextBlock.prototype.undoOverflowTruncation = function () {\n    this.restoreOriginalContent();\n    if (shared_1.GlobalSettings.useAdvancedTextBlockTruncation && this.maxLines) {\n      var maxHeight = this._computedLineHeight * this.maxLines;\n      this.truncateIfSupported(maxHeight);\n    }\n  };\n  TextBlock.prototype.applyStylesTo = function (targetElement) {\n    _super.prototype.applyStylesTo.call(this, targetElement);\n    switch (this.getEffectiveHorizontalAlignment()) {\n      case Enums.HorizontalAlignment.Center:\n        targetElement.style.textAlign = \"center\";\n        break;\n      case Enums.HorizontalAlignment.Right:\n        targetElement.style.textAlign = \"end\";\n        break;\n      default:\n        targetElement.style.textAlign = \"start\";\n        break;\n    }\n    var lineHeights = this.hostConfig.lineHeights;\n    if (lineHeights) {\n      switch (this.effectiveSize) {\n        case Enums.TextSize.Small:\n          this._computedLineHeight = lineHeights.small;\n          break;\n        case Enums.TextSize.Medium:\n          this._computedLineHeight = lineHeights.medium;\n          break;\n        case Enums.TextSize.Large:\n          this._computedLineHeight = lineHeights.large;\n          break;\n        case Enums.TextSize.ExtraLarge:\n          this._computedLineHeight = lineHeights.extraLarge;\n          break;\n        default:\n          this._computedLineHeight = lineHeights.default;\n          break;\n      }\n    } else {\n      // Looks like 1.33 is the magic number to compute line-height\n      // from font size.\n      this._computedLineHeight = this.getFontSize(this.hostConfig.getFontTypeDefinition(this.effectiveFontType)) * 1.33;\n    }\n    targetElement.style.lineHeight = this._computedLineHeight + \"px\";\n  };\n  TextBlock.prototype.getJsonTypeName = function () {\n    return \"TextBlock\";\n  };\n  TextBlock.prototype.getEffectiveTextStyleDefinition = function () {\n    if (this.style) {\n      return this.hostConfig.textStyles.getStyleByName(this.style);\n    }\n    return _super.prototype.getEffectiveTextStyleDefinition.call(this);\n  };\n  TextBlock.prototype.updateLayout = function (processChildren) {\n    if (processChildren === void 0) {\n      processChildren = false;\n    }\n    _super.prototype.updateLayout.call(this, processChildren);\n    if (shared_1.GlobalSettings.useAdvancedTextBlockTruncation && this.maxLines && this.isDisplayed()) {\n      // Reset the element's innerHTML in case the available room for\n      // content has increased\n      this.restoreOriginalContent();\n      this.truncateIfSupported(this._computedLineHeight * this.maxLines);\n    }\n  };\n  var _a, _b;\n  TextBlock.wrapProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"wrap\", false);\n  TextBlock.maxLinesProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_0, \"maxLines\");\n  TextBlock.styleProperty = new serialization_1.ValueSetProperty(serialization_1.Versions.v1_5, \"style\", [{\n    value: \"default\"\n  }, {\n    value: \"columnHeader\"\n  }, {\n    value: \"heading\"\n  }]);\n  // Markdown processing is handled outside of Adaptive Cards. It's up to the host to ensure that markdown is safely\n  // processed.\n  TextBlock._ttMarkdownPolicy = typeof window === 'undefined' ? undefined : (_a = window.trustedTypes) === null || _a === void 0 ? void 0 : _a.createPolicy(\"adaptivecards#markdownPassthroughPolicy\", {\n    createHTML: function (value) {\n      return value;\n    }\n  });\n  // When \"advanced\" truncation is enabled (see GlobalSettings.useAdvancedCardBottomTruncation and\n  // GlobalSettings.useAdvancedTextBlockTruncation), we store the original pre-truncation content in\n  // _originalInnerHtml so that we can restore/recalculate truncation later if space availability has changed (see\n  // TextBlock.restoreOriginalContent())\n  TextBlock._ttRoundtripPolicy = typeof window === 'undefined' ? undefined : (_b = window.trustedTypes) === null || _b === void 0 ? void 0 : _b.createPolicy(\"adaptivecards#restoreContentsPolicy\", {\n    createHTML: function (value) {\n      return value;\n    }\n  });\n  __decorate([(0, serialization_1.property)(TextBlock.wrapProperty)], TextBlock.prototype, \"wrap\", void 0);\n  __decorate([(0, serialization_1.property)(TextBlock.maxLinesProperty)], TextBlock.prototype, \"maxLines\", void 0);\n  __decorate([(0, serialization_1.property)(TextBlock.styleProperty)], TextBlock.prototype, \"style\", void 0);\n  return TextBlock;\n}(BaseTextBlock);\nexports.TextBlock = TextBlock;\nvar TextRun = /** @class */function (_super) {\n  __extends(TextRun, _super);\n  function TextRun() {\n    //#region Schema\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.italic = false;\n    _this.strikethrough = false;\n    _this.highlight = false;\n    _this.underline = false;\n    return _this;\n  }\n  TextRun.prototype.populateSchema = function (schema) {\n    _super.prototype.populateSchema.call(this, schema);\n    schema.add(BaseTextBlock.selectActionProperty);\n  };\n  //#endregion\n  TextRun.prototype.internalRender = function () {\n    var _this = this;\n    if (this.text) {\n      var preProcessedText = this.preProcessPropertyValue(BaseTextBlock.textProperty);\n      var hostConfig = this.hostConfig;\n      var formattedText = TextFormatters.formatText(this.lang, preProcessedText);\n      if (!formattedText) {\n        formattedText = \"\";\n      }\n      var element = document.createElement(\"span\");\n      element.classList.add(hostConfig.makeCssClassName(\"ac-textRun\"));\n      this.applyStylesTo(element);\n      if (this.selectAction && hostConfig.supportsInteractivity) {\n        var anchor = document.createElement(\"a\");\n        anchor.classList.add(hostConfig.makeCssClassName(\"ac-anchor\"));\n        var href = this.selectAction.getHref();\n        anchor.href = href ? href : \"\";\n        anchor.target = \"_blank\";\n        anchor.onclick = function (e) {\n          if (_this.selectAction && _this.selectAction.isEffectivelyEnabled()) {\n            e.preventDefault();\n            e.cancelBubble = true;\n            _this.selectAction.execute();\n          }\n        };\n        this.selectAction.setupElementForAccessibility(anchor);\n        anchor.innerText = formattedText;\n        element.appendChild(anchor);\n      } else {\n        element.innerText = formattedText;\n      }\n      return element;\n    } else {\n      return undefined;\n    }\n  };\n  TextRun.prototype.applyStylesTo = function (targetElement) {\n    _super.prototype.applyStylesTo.call(this, targetElement);\n    if (this.italic) {\n      targetElement.style.fontStyle = \"italic\";\n    }\n    if (this.strikethrough) {\n      targetElement.style.textDecoration = \"line-through\";\n    }\n    if (this.highlight) {\n      var colorDefinition = this.getColorDefinition(this.getEffectiveStyleDefinition().foregroundColors, this.effectiveColor);\n      var backgroundColor = Utils.stringToCssColor(this.effectiveIsSubtle ? colorDefinition.highlightColors.subtle : colorDefinition.highlightColors.default);\n      if (backgroundColor) {\n        targetElement.style.backgroundColor = backgroundColor;\n      }\n    }\n    if (this.underline) {\n      targetElement.style.textDecoration = \"underline\";\n    }\n  };\n  TextRun.prototype.getJsonTypeName = function () {\n    return \"TextRun\";\n  };\n  Object.defineProperty(TextRun.prototype, \"isStandalone\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(TextRun.prototype, \"isInline\", {\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  TextRun.italicProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"italic\", false);\n  TextRun.strikethroughProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"strikethrough\", false);\n  TextRun.highlightProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"highlight\", false);\n  TextRun.underlineProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_3, \"underline\", false);\n  __decorate([(0, serialization_1.property)(TextRun.italicProperty)], TextRun.prototype, \"italic\", void 0);\n  __decorate([(0, serialization_1.property)(TextRun.strikethroughProperty)], TextRun.prototype, \"strikethrough\", void 0);\n  __decorate([(0, serialization_1.property)(TextRun.highlightProperty)], TextRun.prototype, \"highlight\", void 0);\n  __decorate([(0, serialization_1.property)(TextRun.underlineProperty)], TextRun.prototype, \"underline\", void 0);\n  return TextRun;\n}(BaseTextBlock);\nexports.TextRun = TextRun;\nvar RichTextBlock = /** @class */function (_super) {\n  __extends(RichTextBlock, _super);\n  function RichTextBlock() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._inlines = [];\n    return _this;\n  }\n  RichTextBlock.prototype.internalAddInline = function (inline, forceAdd) {\n    if (forceAdd === void 0) {\n      forceAdd = false;\n    }\n    if (!inline.isInline) {\n      throw new Error(strings_1.Strings.errors.elementCannotBeUsedAsInline());\n    }\n    var doAdd = inline.parent === undefined || forceAdd;\n    if (!doAdd && inline.parent !== this) {\n      throw new Error(strings_1.Strings.errors.inlineAlreadyParented());\n    } else {\n      inline.setParent(this);\n      this._inlines.push(inline);\n    }\n  };\n  RichTextBlock.prototype.internalParse = function (source, context) {\n    _super.prototype.internalParse.call(this, source, context);\n    this._inlines = [];\n    if (Array.isArray(source[\"inlines\"])) {\n      for (var _i = 0, _a = source[\"inlines\"]; _i < _a.length; _i++) {\n        var jsonInline = _a[_i];\n        var inline = void 0;\n        if (typeof jsonInline === \"string\") {\n          var textRun = new TextRun();\n          textRun.text = jsonInline;\n          inline = textRun;\n        } else {\n          // No fallback for inlines in 1.2\n          inline = context.parseElement(this, jsonInline, [], false);\n        }\n        if (inline) {\n          this.internalAddInline(inline, true);\n        }\n      }\n    }\n  };\n  RichTextBlock.prototype.internalToJSON = function (target, context) {\n    _super.prototype.internalToJSON.call(this, target, context);\n    if (this._inlines.length > 0) {\n      var jsonInlines = [];\n      for (var _i = 0, _a = this._inlines; _i < _a.length; _i++) {\n        var inline = _a[_i];\n        jsonInlines.push(inline.toJSON(context));\n      }\n      context.serializeValue(target, \"inlines\", jsonInlines);\n    }\n  };\n  RichTextBlock.prototype.internalRender = function () {\n    if (this._inlines.length > 0) {\n      var element = void 0;\n      if (this.forElementId) {\n        var labelElement = document.createElement(\"label\");\n        labelElement.htmlFor = this.forElementId;\n        element = labelElement;\n      } else {\n        element = document.createElement(\"div\");\n      }\n      element.className = this.hostConfig.makeCssClassName(\"ac-richTextBlock\");\n      switch (this.getEffectiveHorizontalAlignment()) {\n        case Enums.HorizontalAlignment.Center:\n          element.style.textAlign = \"center\";\n          break;\n        case Enums.HorizontalAlignment.Right:\n          element.style.textAlign = \"end\";\n          break;\n        default:\n          element.style.textAlign = \"start\";\n          break;\n      }\n      var renderedInlines = 0;\n      for (var _i = 0, _a = this._inlines; _i < _a.length; _i++) {\n        var inline = _a[_i];\n        var renderedInline = inline.render();\n        if (renderedInline) {\n          element.appendChild(renderedInline);\n          renderedInlines++;\n        }\n      }\n      if (renderedInlines > 0) {\n        return element;\n      }\n    }\n    return undefined;\n  };\n  RichTextBlock.prototype.asString = function () {\n    var result = \"\";\n    for (var _i = 0, _a = this._inlines; _i < _a.length; _i++) {\n      var inline = _a[_i];\n      result += inline.asString();\n    }\n    return result;\n  };\n  RichTextBlock.prototype.getJsonTypeName = function () {\n    return \"RichTextBlock\";\n  };\n  RichTextBlock.prototype.getInlineCount = function () {\n    return this._inlines.length;\n  };\n  RichTextBlock.prototype.getInlineAt = function (index) {\n    if (index >= 0 && index < this._inlines.length) {\n      return this._inlines[index];\n    } else {\n      throw new Error(strings_1.Strings.errors.indexOutOfRange(index));\n    }\n  };\n  RichTextBlock.prototype.addInline = function (inline) {\n    if (typeof inline === \"string\") {\n      this.internalAddInline(new TextRun(inline));\n    } else {\n      this.internalAddInline(inline);\n    }\n  };\n  RichTextBlock.prototype.removeInline = function (inline) {\n    var index = this._inlines.indexOf(inline);\n    if (index >= 0) {\n      this._inlines[index].setParent(undefined);\n      this._inlines.splice(index, 1);\n      return true;\n    }\n    return false;\n  };\n  return RichTextBlock;\n}(CardElement);\nexports.RichTextBlock = RichTextBlock;\nvar Fact = /** @class */function (_super) {\n  __extends(Fact, _super);\n  function Fact(name, value) {\n    var _this = _super.call(this) || this;\n    _this.name = name;\n    _this.value = value;\n    return _this;\n  }\n  //#endregion\n  Fact.prototype.getSchemaKey = function () {\n    return \"Fact\";\n  };\n  //#region Schema\n  Fact.titleProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"title\");\n  Fact.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n  __decorate([(0, serialization_1.property)(Fact.titleProperty)], Fact.prototype, \"name\", void 0);\n  __decorate([(0, serialization_1.property)(Fact.valueProperty)], Fact.prototype, \"value\", void 0);\n  return Fact;\n}(serialization_1.SerializableObject);\nexports.Fact = Fact;\nvar FactSet = /** @class */function (_super) {\n  __extends(FactSet, _super);\n  function FactSet() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Object.defineProperty(FactSet.prototype, \"useDefaultSizing\", {\n    //#endregion\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  FactSet.prototype.internalRender = function () {\n    var element = undefined;\n    var hostConfig = this.hostConfig;\n    if (this.facts.length > 0) {\n      element = document.createElement(\"table\");\n      element.style.borderWidth = \"0px\";\n      element.style.borderSpacing = \"0px\";\n      element.style.borderStyle = \"none\";\n      element.style.borderCollapse = \"collapse\";\n      element.style.display = \"block\";\n      element.style.overflow = \"hidden\";\n      element.classList.add(hostConfig.makeCssClassName(\"ac-factset\"));\n      element.setAttribute(\"role\", \"presentation\");\n      for (var i = 0; i < this.facts.length; i++) {\n        var trElement = document.createElement(\"tr\");\n        if (i > 0) {\n          trElement.style.marginTop = hostConfig.factSet.spacing + \"px\";\n        }\n        // Title column\n        var tdElement = document.createElement(\"td\");\n        tdElement.style.padding = \"0\";\n        tdElement.classList.add(hostConfig.makeCssClassName(\"ac-fact-title\"));\n        if (hostConfig.factSet.title.maxWidth) {\n          tdElement.style.maxWidth = hostConfig.factSet.title.maxWidth + \"px\";\n        }\n        tdElement.style.verticalAlign = \"top\";\n        var textBlock = new TextBlock();\n        textBlock.setParent(this);\n        textBlock.text = !this.facts[i].name && this.isDesignMode() ? \"Title\" : this.facts[i].name;\n        textBlock.size = hostConfig.factSet.title.size;\n        textBlock.color = hostConfig.factSet.title.color;\n        textBlock.isSubtle = hostConfig.factSet.title.isSubtle;\n        textBlock.weight = hostConfig.factSet.title.weight;\n        textBlock.wrap = hostConfig.factSet.title.wrap;\n        textBlock.spacing = Enums.Spacing.None;\n        Utils.appendChild(tdElement, textBlock.render());\n        Utils.appendChild(trElement, tdElement);\n        // Spacer column\n        tdElement = document.createElement(\"td\");\n        tdElement.style.width = \"10px\";\n        Utils.appendChild(trElement, tdElement);\n        // Value column\n        tdElement = document.createElement(\"td\");\n        tdElement.style.padding = \"0\";\n        tdElement.style.verticalAlign = \"top\";\n        tdElement.classList.add(hostConfig.makeCssClassName(\"ac-fact-value\"));\n        textBlock = new TextBlock();\n        textBlock.setParent(this);\n        textBlock.text = this.facts[i].value;\n        textBlock.size = hostConfig.factSet.value.size;\n        textBlock.color = hostConfig.factSet.value.color;\n        textBlock.isSubtle = hostConfig.factSet.value.isSubtle;\n        textBlock.weight = hostConfig.factSet.value.weight;\n        textBlock.wrap = hostConfig.factSet.value.wrap;\n        textBlock.spacing = Enums.Spacing.None;\n        Utils.appendChild(tdElement, textBlock.render());\n        Utils.appendChild(trElement, tdElement);\n        Utils.appendChild(element, trElement);\n      }\n    }\n    return element;\n  };\n  FactSet.prototype.getJsonTypeName = function () {\n    return \"FactSet\";\n  };\n  //#region Schema\n  FactSet.factsProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_0, \"facts\", Fact);\n  __decorate([(0, serialization_1.property)(FactSet.factsProperty)], FactSet.prototype, \"facts\", void 0);\n  return FactSet;\n}(CardElement);\nexports.FactSet = FactSet;\nvar ImageDimensionProperty = /** @class */function (_super) {\n  __extends(ImageDimensionProperty, _super);\n  function ImageDimensionProperty(targetVersion, name, internalName, fallbackProperty) {\n    var _this = _super.call(this, targetVersion, name) || this;\n    _this.targetVersion = targetVersion;\n    _this.name = name;\n    _this.internalName = internalName;\n    _this.fallbackProperty = fallbackProperty;\n    return _this;\n  }\n  ImageDimensionProperty.prototype.getInternalName = function () {\n    return this.internalName;\n  };\n  ImageDimensionProperty.prototype.parse = function (sender, source, context) {\n    var result = undefined;\n    var sourceValue = source[this.name];\n    if (sourceValue === undefined) {\n      return this.defaultValue;\n    }\n    var isValid = false;\n    if (typeof sourceValue === \"string\") {\n      try {\n        var size = shared_1.SizeAndUnit.parse(sourceValue, true);\n        if (size.unit === Enums.SizeUnit.Pixel) {\n          result = size.physicalSize;\n          isValid = true;\n        }\n      } catch (_a) {\n        // Swallow the exception\n      }\n      // If the source value isn't valid per this property definition,\n      // check its validity per the fallback property, if specified\n      if (!isValid && this.fallbackProperty) {\n        isValid = this.fallbackProperty.isValidValue(sourceValue, context);\n      }\n    }\n    if (!isValid) {\n      context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(sourceValue, this.name));\n    }\n    return result;\n  };\n  ImageDimensionProperty.prototype.toJSON = function (sender, target, value, context) {\n    context.serializeValue(target, this.name, typeof value === \"number\" && !isNaN(value) ? value + \"px\" : undefined);\n  };\n  return ImageDimensionProperty;\n}(serialization_1.PropertyDefinition);\nvar Image = /** @class */function (_super) {\n  __extends(Image, _super);\n  function Image() {\n    //#region Schema\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.size = Enums.Size.Auto;\n    _this.style = Enums.ImageStyle.Default;\n    return _this;\n  }\n  Image.prototype.populateSchema = function (schema) {\n    _super.prototype.populateSchema.call(this, schema);\n    schema.remove(CardElement.heightProperty);\n  };\n  //#endregion\n  Image.prototype.applySize = function (element) {\n    if (this.pixelWidth || this.pixelHeight) {\n      if (this.pixelWidth) {\n        element.style.width = this.pixelWidth + \"px\";\n      }\n      if (this.pixelHeight) {\n        element.style.height = this.pixelHeight + \"px\";\n      }\n    } else {\n      if (this.maxHeight) {\n        // If the image is constrained in height, we set its height property and\n        // auto and stretch are ignored (default to medium). THis is necessary for\n        // ImageSet which uses a maximum image height as opposed to the cards width\n        // as a constraining dimension\n        switch (this.size) {\n          case Enums.Size.Small:\n            element.style.height = this.hostConfig.imageSizes.small + \"px\";\n            break;\n          case Enums.Size.Large:\n            element.style.height = this.hostConfig.imageSizes.large + \"px\";\n            break;\n          default:\n            element.style.height = this.hostConfig.imageSizes.medium + \"px\";\n            break;\n        }\n        element.style.maxHeight = this.maxHeight + \"px\";\n      } else {\n        switch (this.size) {\n          case Enums.Size.Stretch:\n            element.style.width = \"100%\";\n            break;\n          case Enums.Size.Auto:\n            element.style.maxWidth = \"100%\";\n            break;\n          case Enums.Size.Small:\n            element.style.width = this.hostConfig.imageSizes.small + \"px\";\n            break;\n          case Enums.Size.Large:\n            element.style.width = this.hostConfig.imageSizes.large + \"px\";\n            break;\n          case Enums.Size.Medium:\n            element.style.width = this.hostConfig.imageSizes.medium + \"px\";\n            break;\n        }\n        element.style.maxHeight = \"100%\";\n      }\n    }\n  };\n  Object.defineProperty(Image.prototype, \"useDefaultSizing\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Image.prototype.internalRender = function () {\n    var _this = this;\n    var element = undefined;\n    if (this.url) {\n      element = document.createElement(\"div\");\n      element.style.display = \"flex\";\n      element.style.alignItems = \"flex-start\";\n      // Cache hostConfig to avoid walking the parent hierarchy multiple times\n      var hostConfig = this.hostConfig;\n      switch (this.getEffectiveHorizontalAlignment()) {\n        case Enums.HorizontalAlignment.Center:\n          element.style.justifyContent = \"center\";\n          break;\n        case Enums.HorizontalAlignment.Right:\n          element.style.justifyContent = \"flex-end\";\n          break;\n        default:\n          element.style.justifyContent = \"flex-start\";\n          break;\n      }\n      var imageElement = document.createElement(\"img\");\n      imageElement.onload = function (_e) {\n        raiseImageLoadedEvent(_this);\n      };\n      imageElement.onerror = function (_e) {\n        if (_this.renderedElement) {\n          var card = _this.getRootElement();\n          _this.renderedElement;\n          if (card && card.designMode) {\n            var errorElement = document.createElement(\"div\");\n            errorElement.style.display = \"flex\";\n            errorElement.style.alignItems = \"center\";\n            errorElement.style.justifyContent = \"center\";\n            errorElement.style.backgroundColor = \"#EEEEEE\";\n            errorElement.style.color = \"black\";\n            errorElement.innerText = \":-(\";\n            errorElement.style.padding = \"10px\";\n            _this.applySize(errorElement);\n            _this.renderedElement.appendChild(errorElement);\n          }\n        }\n        raiseImageLoadedEvent(_this);\n      };\n      imageElement.style.minWidth = \"0\";\n      imageElement.classList.add(hostConfig.makeCssClassName(\"ac-image\"));\n      if (this.selectAction && hostConfig.supportsInteractivity) {\n        imageElement.onkeypress = function (e) {\n          if (_this.selectAction && _this.selectAction.isEffectivelyEnabled() && (e.code === \"Enter\" || e.code === \"Space\")) {\n            // enter or space pressed\n            e.preventDefault();\n            e.cancelBubble = true;\n            _this.selectAction.execute();\n          }\n        };\n        imageElement.onclick = function (e) {\n          if (_this.selectAction && _this.selectAction.isEffectivelyEnabled()) {\n            e.preventDefault();\n            e.cancelBubble = true;\n            _this.selectAction.execute();\n          }\n        };\n        this.selectAction.setupElementForAccessibility(imageElement);\n        if (this.selectAction.isEffectivelyEnabled()) {\n          imageElement.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n        }\n      }\n      this.applySize(imageElement);\n      if (this.style === Enums.ImageStyle.Person) {\n        imageElement.style.borderRadius = \"50%\";\n        imageElement.style.backgroundPosition = \"50% 50%\";\n        imageElement.style.backgroundRepeat = \"no-repeat\";\n      }\n      var backgroundColor = Utils.stringToCssColor(this.backgroundColor);\n      if (backgroundColor) {\n        imageElement.style.backgroundColor = backgroundColor;\n      }\n      imageElement.src = this.preProcessPropertyValue(Image.urlProperty);\n      var altTextProperty = this.preProcessPropertyValue(Image.altTextProperty);\n      if (altTextProperty) {\n        imageElement.alt = altTextProperty;\n      }\n      element.appendChild(imageElement);\n    }\n    return element;\n  };\n  Image.prototype.getJsonTypeName = function () {\n    return \"Image\";\n  };\n  Image.prototype.getAllActions = function () {\n    var result = _super.prototype.getAllActions.call(this);\n    if (this.selectAction) {\n      result.push(this.selectAction);\n    }\n    return result;\n  };\n  Image.prototype.getActionById = function (id) {\n    var result = _super.prototype.getActionById.call(this, id);\n    if (!result && this.selectAction) {\n      result = this.selectAction.getActionById(id);\n    }\n    return result;\n  };\n  Image.prototype.getResourceInformation = function () {\n    return this.url ? [{\n      url: this.url,\n      mimeType: \"image\"\n    }] : [];\n  };\n  Image.urlProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"url\");\n  Image.altTextProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"altText\");\n  Image.backgroundColorProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"backgroundColor\");\n  Image.styleProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"style\", Enums.ImageStyle, Enums.ImageStyle.Default);\n  Image.sizeProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"size\", Enums.Size, Enums.Size.Auto);\n  Image.pixelWidthProperty = new ImageDimensionProperty(serialization_1.Versions.v1_1, \"width\", \"pixelWidth\");\n  Image.pixelHeightProperty = new ImageDimensionProperty(serialization_1.Versions.v1_1, \"height\", \"pixelHeight\", CardElement.heightProperty);\n  Image.selectActionProperty = new ActionProperty(serialization_1.Versions.v1_1, \"selectAction\", [\"Action.ShowCard\"]);\n  __decorate([(0, serialization_1.property)(Image.urlProperty)], Image.prototype, \"url\", void 0);\n  __decorate([(0, serialization_1.property)(Image.altTextProperty)], Image.prototype, \"altText\", void 0);\n  __decorate([(0, serialization_1.property)(Image.backgroundColorProperty)], Image.prototype, \"backgroundColor\", void 0);\n  __decorate([(0, serialization_1.property)(Image.sizeProperty)], Image.prototype, \"size\", void 0);\n  __decorate([(0, serialization_1.property)(Image.styleProperty)], Image.prototype, \"style\", void 0);\n  __decorate([(0, serialization_1.property)(Image.pixelWidthProperty)], Image.prototype, \"pixelWidth\", void 0);\n  __decorate([(0, serialization_1.property)(Image.pixelHeightProperty)], Image.prototype, \"pixelHeight\", void 0);\n  __decorate([(0, serialization_1.property)(Image.selectActionProperty)], Image.prototype, \"selectAction\", void 0);\n  return Image;\n}(CardElement);\nexports.Image = Image;\nvar CardElementContainer = /** @class */function (_super) {\n  __extends(CardElementContainer, _super);\n  function CardElementContainer() {\n    //#region Schema\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.allowVerticalOverflow = false;\n    return _this;\n  }\n  CardElementContainer.prototype.populateSchema = function (schema) {\n    _super.prototype.populateSchema.call(this, schema);\n    if (!this.isSelectable) {\n      schema.remove(CardElementContainer.selectActionProperty);\n    }\n  };\n  //#endregion\n  CardElementContainer.prototype.isElementAllowed = function (element) {\n    return this.hostConfig.supportsInteractivity || !element.isInteractive;\n  };\n  CardElementContainer.prototype.applyPadding = function () {\n    _super.prototype.applyPadding.call(this);\n    if (!this.renderedElement) {\n      return;\n    }\n    var physicalPadding = new shared_1.SpacingDefinition();\n    if (this.getEffectivePadding()) {\n      physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(this.getEffectivePadding());\n    }\n    this.renderedElement.style.paddingTop = physicalPadding.top + \"px\";\n    this.renderedElement.style.paddingRight = physicalPadding.right + \"px\";\n    this.renderedElement.style.paddingBottom = physicalPadding.bottom + \"px\";\n    this.renderedElement.style.paddingLeft = physicalPadding.left + \"px\";\n    this.renderedElement.style.marginRight = \"0\";\n    this.renderedElement.style.marginLeft = \"0\";\n  };\n  Object.defineProperty(CardElementContainer.prototype, \"isSelectable\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  // This function is kept but return [] when removing Carousel from code\n  CardElementContainer.prototype.forbiddenChildElements = function () {\n    return [];\n  };\n  CardElementContainer.prototype.releaseDOMResources = function () {\n    _super.prototype.releaseDOMResources.call(this);\n    for (var i = 0; i < this.getItemCount(); i++) {\n      this.getItemAt(i).releaseDOMResources();\n    }\n  };\n  CardElementContainer.prototype.internalValidateProperties = function (context) {\n    _super.prototype.internalValidateProperties.call(this, context);\n    for (var i = 0; i < this.getItemCount(); i++) {\n      var item = this.getItemAt(i);\n      if (!this.hostConfig.supportsInteractivity && item.isInteractive) {\n        context.addFailure(this, Enums.ValidationEvent.InteractivityNotAllowed, strings_1.Strings.errors.interactivityNotAllowed());\n      }\n      if (!this.isElementAllowed(item)) {\n        context.addFailure(this, Enums.ValidationEvent.InteractivityNotAllowed, strings_1.Strings.errors.elementTypeNotAllowed(item.getJsonTypeName()));\n      }\n      item.internalValidateProperties(context);\n    }\n    if (this._selectAction) {\n      this._selectAction.internalValidateProperties(context);\n    }\n  };\n  CardElementContainer.prototype.render = function () {\n    var _this = this;\n    var element = _super.prototype.render.call(this);\n    if (element) {\n      var hostConfig = this.hostConfig;\n      if (this.allowVerticalOverflow) {\n        element.style.overflowX = \"hidden\";\n        element.style.overflowY = \"auto\";\n      }\n      if (element && this.isSelectable && this._selectAction && hostConfig.supportsInteractivity) {\n        element.onclick = function (e) {\n          if (_this._selectAction && _this._selectAction.isEffectivelyEnabled()) {\n            e.preventDefault();\n            e.cancelBubble = true;\n            _this._selectAction.execute();\n          }\n        };\n        element.onkeypress = function (e) {\n          if (_this._selectAction && _this._selectAction.isEffectivelyEnabled() && (e.code === \"Enter\" || e.code === \"Space\")) {\n            // Enter or space pressed\n            e.preventDefault();\n            e.cancelBubble = true;\n            _this._selectAction.execute();\n          }\n        };\n        this._selectAction.setupElementForAccessibility(element);\n        if (this._selectAction.isEffectivelyEnabled()) {\n          element.classList.add(hostConfig.makeCssClassName(\"ac-selectable\"));\n        }\n      }\n    }\n    return element;\n  };\n  CardElementContainer.prototype.updateLayout = function (processChildren) {\n    if (processChildren === void 0) {\n      processChildren = true;\n    }\n    _super.prototype.updateLayout.call(this, processChildren);\n    if (processChildren) {\n      for (var i = 0; i < this.getItemCount(); i++) {\n        this.getItemAt(i).updateLayout();\n      }\n    }\n  };\n  CardElementContainer.prototype.getAllInputs = function (processActions) {\n    if (processActions === void 0) {\n      processActions = true;\n    }\n    var result = [];\n    for (var i = 0; i < this.getItemCount(); i++) {\n      result.push.apply(result, this.getItemAt(i).getAllInputs(processActions));\n    }\n    return result;\n  };\n  CardElementContainer.prototype.getAllActions = function () {\n    var result = _super.prototype.getAllActions.call(this);\n    for (var i = 0; i < this.getItemCount(); i++) {\n      result.push.apply(result, this.getItemAt(i).getAllActions());\n    }\n    if (this._selectAction) {\n      result.push(this._selectAction);\n    }\n    return result;\n  };\n  CardElementContainer.prototype.getResourceInformation = function () {\n    var result = [];\n    for (var i = 0; i < this.getItemCount(); i++) {\n      result.push.apply(result, this.getItemAt(i).getResourceInformation());\n    }\n    return result;\n  };\n  CardElementContainer.prototype.getElementById = function (id) {\n    var result = _super.prototype.getElementById.call(this, id);\n    if (!result) {\n      for (var i = 0; i < this.getItemCount(); i++) {\n        result = this.getItemAt(i).getElementById(id);\n        if (result) {\n          break;\n        }\n      }\n    }\n    return result;\n  };\n  /**\r\n   * @inheritdoc\r\n   */\n  CardElementContainer.prototype.findDOMNodeOwner = function (node) {\n    var _a;\n    var target = undefined;\n    for (var i = 0; i < this.getItemCount(); i++) {\n      // recur through child elements\n      target = this.getItemAt(i).findDOMNodeOwner(node);\n      if (target) {\n        return target;\n      }\n    }\n    // If not found in children, check the actions\n    for (var i = 0; i < this.getActionCount(); i++) {\n      target = (_a = this.getActionAt(i)) === null || _a === void 0 ? void 0 : _a.findDOMNodeOwner(node);\n      if (target) {\n        return target;\n      }\n    }\n    // if not found in children or actions, defer to parent implementation\n    return _super.prototype.findDOMNodeOwner.call(this, node);\n  };\n  CardElementContainer.selectActionProperty = new ActionProperty(serialization_1.Versions.v1_1, \"selectAction\", [\"Action.ShowCard\"]);\n  __decorate([(0, serialization_1.property)(CardElementContainer.selectActionProperty)], CardElementContainer.prototype, \"_selectAction\", void 0);\n  return CardElementContainer;\n}(CardElement);\nexports.CardElementContainer = CardElementContainer;\nvar ImageSet = /** @class */function (_super) {\n  __extends(ImageSet, _super);\n  function ImageSet() {\n    //#region Schema\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._images = [];\n    _this.imageSize = Enums.ImageSize.Medium;\n    return _this;\n  }\n  //#endregion\n  ImageSet.prototype.internalRender = function () {\n    var element = undefined;\n    if (this._images.length > 0) {\n      element = document.createElement(\"div\");\n      element.style.display = \"flex\";\n      element.style.flexWrap = \"wrap\";\n      for (var _i = 0, _a = this._images; _i < _a.length; _i++) {\n        var image = _a[_i];\n        switch (this.imageSize) {\n          case Enums.ImageSize.Small:\n            image.size = Enums.Size.Small;\n            break;\n          case Enums.ImageSize.Large:\n            image.size = Enums.Size.Large;\n            break;\n          default:\n            image.size = Enums.Size.Medium;\n            break;\n        }\n        image.maxHeight = this.hostConfig.imageSet.maxImageHeight;\n        var renderedImage = image.render();\n        if (renderedImage) {\n          renderedImage.style.display = \"inline-flex\";\n          renderedImage.style.margin = \"0px\";\n          renderedImage.style.marginRight = \"10px\";\n          Utils.appendChild(element, renderedImage);\n        }\n      }\n    }\n    return element;\n  };\n  ImageSet.prototype.getItemCount = function () {\n    return this._images.length;\n  };\n  ImageSet.prototype.getItemAt = function (index) {\n    return this._images[index];\n  };\n  ImageSet.prototype.getFirstVisibleRenderedItem = function () {\n    return this._images && this._images.length > 0 ? this._images[0] : undefined;\n  };\n  ImageSet.prototype.getLastVisibleRenderedItem = function () {\n    return this._images && this._images.length > 0 ? this._images[this._images.length - 1] : undefined;\n  };\n  ImageSet.prototype.removeItem = function (item) {\n    if (item instanceof Image) {\n      var itemIndex = this._images.indexOf(item);\n      if (itemIndex >= 0) {\n        this._images.splice(itemIndex, 1);\n        item.setParent(undefined);\n        this.updateLayout();\n        return true;\n      }\n    }\n    return false;\n  };\n  ImageSet.prototype.getJsonTypeName = function () {\n    return \"ImageSet\";\n  };\n  ImageSet.prototype.addImage = function (image) {\n    if (!image.parent) {\n      this._images.push(image);\n      image.setParent(this);\n    } else {\n      throw new Error(\"This image already belongs to another ImageSet\");\n    }\n  };\n  ImageSet.prototype.indexOf = function (cardElement) {\n    return cardElement instanceof Image ? this._images.indexOf(cardElement) : -1;\n  };\n  ImageSet.imagesProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_0, \"images\", Image, function (sender, item) {\n    item.setParent(sender);\n  });\n  ImageSet.imageSizeProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"imageSize\", Enums.ImageSize, Enums.ImageSize.Medium);\n  __decorate([(0, serialization_1.property)(ImageSet.imagesProperty)], ImageSet.prototype, \"_images\", void 0);\n  __decorate([(0, serialization_1.property)(ImageSet.imageSizeProperty)], ImageSet.prototype, \"imageSize\", void 0);\n  return ImageSet;\n}(CardElementContainer);\nexports.ImageSet = ImageSet;\nvar ContentSource = /** @class */function (_super) {\n  __extends(ContentSource, _super);\n  //#endregion\n  function ContentSource(url, mimeType) {\n    var _this = _super.call(this) || this;\n    _this.url = url;\n    _this.mimeType = mimeType;\n    return _this;\n  }\n  ContentSource.prototype.isValid = function () {\n    return this.mimeType && this.url ? true : false;\n  };\n  //#region Schema\n  ContentSource.mimeTypeProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"mimeType\");\n  ContentSource.urlProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"url\");\n  __decorate([(0, serialization_1.property)(ContentSource.mimeTypeProperty)], ContentSource.prototype, \"mimeType\", void 0);\n  __decorate([(0, serialization_1.property)(ContentSource.urlProperty)], ContentSource.prototype, \"url\", void 0);\n  return ContentSource;\n}(serialization_1.SerializableObject);\nexports.ContentSource = ContentSource;\nvar CaptionSource = /** @class */function (_super) {\n  __extends(CaptionSource, _super);\n  //#endregion\n  function CaptionSource(url, mimeType, label) {\n    var _this = _super.call(this, url, mimeType) || this;\n    _this.label = label;\n    return _this;\n  }\n  CaptionSource.prototype.getSchemaKey = function () {\n    return \"CaptionSource\";\n  };\n  CaptionSource.prototype.render = function () {\n    var result = undefined;\n    if (this.isValid()) {\n      result = document.createElement(\"track\");\n      result.src = this.url;\n      result.kind = \"captions\";\n      result.label = this.label;\n    }\n    return result;\n  };\n  //#region Schema\n  CaptionSource.labelProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_6, \"label\");\n  __decorate([(0, serialization_1.property)(CaptionSource.labelProperty)], CaptionSource.prototype, \"label\", void 0);\n  return CaptionSource;\n}(ContentSource);\nexports.CaptionSource = CaptionSource;\nvar MediaSource = /** @class */function (_super) {\n  __extends(MediaSource, _super);\n  function MediaSource() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  MediaSource.prototype.getSchemaKey = function () {\n    return \"MediaSource\";\n  };\n  MediaSource.prototype.render = function () {\n    var result = undefined;\n    if (this.isValid()) {\n      result = document.createElement(\"source\");\n      result.src = this.url;\n      result.type = this.mimeType;\n    }\n    return result;\n  };\n  return MediaSource;\n}(ContentSource);\nexports.MediaSource = MediaSource;\nvar MediaPlayer = /** @class */function () {\n  function MediaPlayer() {}\n  MediaPlayer.prototype.play = function () {\n    // Do nothing in base implementation\n  };\n  Object.defineProperty(MediaPlayer.prototype, \"posterUrl\", {\n    get: function () {\n      return this._posterUrl;\n    },\n    set: function (value) {\n      this._posterUrl = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MediaPlayer.prototype, \"selectedMediaType\", {\n    get: function () {\n      return undefined;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return MediaPlayer;\n}();\nexports.MediaPlayer = MediaPlayer;\nvar HTML5MediaPlayer = /** @class */function (_super) {\n  __extends(HTML5MediaPlayer, _super);\n  function HTML5MediaPlayer(owner) {\n    var _this = _super.call(this) || this;\n    _this.owner = owner;\n    _this._selectedSources = [];\n    _this._captionSources = [];\n    _this.processSources();\n    return _this;\n  }\n  HTML5MediaPlayer.prototype.processSources = function () {\n    var _a;\n    this._selectedSources = [];\n    this._captionSources = [];\n    this._selectedMediaType = undefined;\n    for (var _i = 0, _b = this.owner.sources; _i < _b.length; _i++) {\n      var source = _b[_i];\n      var mimeComponents = source.mimeType ? source.mimeType.split(\"/\") : [];\n      if (mimeComponents.length === 2) {\n        if (!this._selectedMediaType) {\n          var index = HTML5MediaPlayer.supportedMediaTypes.indexOf(mimeComponents[0]);\n          if (index >= 0) {\n            this._selectedMediaType = HTML5MediaPlayer.supportedMediaTypes[index];\n          }\n        }\n        if (mimeComponents[0] === this._selectedMediaType) {\n          this._selectedSources.push(source);\n        }\n      }\n    }\n    (_a = this._captionSources).push.apply(_a, this.owner.captionSources);\n  };\n  HTML5MediaPlayer.prototype.canPlay = function () {\n    return this._selectedSources.length > 0;\n  };\n  HTML5MediaPlayer.prototype.fetchVideoDetails = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        return [2 /*return*/];\n      });\n    });\n  };\n\n  HTML5MediaPlayer.prototype.render = function () {\n    if (this._selectedMediaType === \"video\") {\n      this._mediaElement = document.createElement(\"video\");\n    } else {\n      this._mediaElement = document.createElement(\"audio\");\n    }\n    this._mediaElement.setAttribute(\"aria-label\", this.owner.altText ? this.owner.altText : strings_1.Strings.defaults.mediaPlayerAriaLabel());\n    this._mediaElement.setAttribute(\"webkit-playsinline\", \"\");\n    this._mediaElement.setAttribute(\"playsinline\", \"\");\n    // We enable crossorigin for cases where the caption file has a different domain than\n    // the video file. If the caption file lives in a different domain than the video file\n    // and crossorigin is not set, then the caption file will fail to load.\n    this._mediaElement.setAttribute(\"crossorigin\", \"\");\n    this._mediaElement.autoplay = true;\n    this._mediaElement.controls = true;\n    if (Utils.isMobileOS()) {\n      this._mediaElement.muted = true;\n    }\n    this._mediaElement.preload = \"none\";\n    this._mediaElement.style.width = \"100%\";\n    for (var _i = 0, _a = this.owner.sources; _i < _a.length; _i++) {\n      var source = _a[_i];\n      var renderedSource = source.render();\n      Utils.appendChild(this._mediaElement, renderedSource);\n    }\n    for (var _b = 0, _c = this.owner.captionSources; _b < _c.length; _b++) {\n      var captionSource = _c[_b];\n      if (captionSource.mimeType == \"vtt\") {\n        var renderedCaptionSource = captionSource.render();\n        Utils.appendChild(this._mediaElement, renderedCaptionSource);\n      }\n    }\n    return this._mediaElement;\n  };\n  HTML5MediaPlayer.prototype.play = function () {\n    if (this._mediaElement) {\n      this._mediaElement.play();\n    }\n  };\n  Object.defineProperty(HTML5MediaPlayer.prototype, \"selectedMediaType\", {\n    get: function () {\n      return this._selectedMediaType;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  HTML5MediaPlayer.supportedMediaTypes = [\"audio\", \"video\"];\n  return HTML5MediaPlayer;\n}(MediaPlayer);\nexports.HTML5MediaPlayer = HTML5MediaPlayer;\nvar CustomMediaPlayer = /** @class */function (_super) {\n  __extends(CustomMediaPlayer, _super);\n  function CustomMediaPlayer(matches) {\n    return _super.call(this) || this;\n  }\n  return CustomMediaPlayer;\n}(MediaPlayer);\nexports.CustomMediaPlayer = CustomMediaPlayer;\nvar IFrameMediaMediaPlayer = /** @class */function (_super) {\n  __extends(IFrameMediaMediaPlayer, _super);\n  function IFrameMediaMediaPlayer(matches, iFrameTitle) {\n    var _this = _super.call(this, matches) || this;\n    _this.iFrameTitle = iFrameTitle;\n    if (matches.length >= 2) {\n      _this._videoId = matches[1];\n    }\n    return _this;\n  }\n  IFrameMediaMediaPlayer.prototype.canPlay = function () {\n    return this._videoId !== undefined;\n  };\n  IFrameMediaMediaPlayer.prototype.render = function () {\n    var container = document.createElement(\"div\");\n    container.style.position = \"relative\";\n    container.style.width = \"100%\";\n    container.style.height = \"0\";\n    container.style.paddingBottom = \"56.25%\";\n    var iFrame = document.createElement(\"iframe\");\n    iFrame.style.position = \"absolute\";\n    iFrame.style.top = \"0\";\n    iFrame.style.left = \"0\";\n    iFrame.style.width = \"100%\";\n    iFrame.style.height = \"100%\";\n    iFrame.src = this.getEmbedVideoUrl();\n    iFrame.frameBorder = \"0\";\n    if (this.iFrameTitle) {\n      iFrame.title = this.iFrameTitle;\n    }\n    iFrame.allow = \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\";\n    iFrame.allowFullscreen = true;\n    container.appendChild(iFrame);\n    return container;\n  };\n  Object.defineProperty(IFrameMediaMediaPlayer.prototype, \"videoId\", {\n    get: function () {\n      return this._videoId;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return IFrameMediaMediaPlayer;\n}(CustomMediaPlayer);\nexports.IFrameMediaMediaPlayer = IFrameMediaMediaPlayer;\nvar VimeoPlayer = /** @class */function (_super) {\n  __extends(VimeoPlayer, _super);\n  function VimeoPlayer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  VimeoPlayer.prototype.fetchVideoDetails = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var oEmbedUrl, response, json;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            oEmbedUrl = \"https://vimeo.com/api/oembed.json?url=\".concat(this.getEmbedVideoUrl());\n            return [4 /*yield*/, fetch(oEmbedUrl)];\n          case 1:\n            response = _a.sent();\n            if (!response.ok) return [3 /*break*/, 3];\n            return [4 /*yield*/, response.json()];\n          case 2:\n            json = _a.sent();\n            this.posterUrl = json[\"thumbnail_url\"];\n            _a.label = 3;\n          case 3:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  VimeoPlayer.prototype.getEmbedVideoUrl = function () {\n    return \"https://player.vimeo.com/video/\".concat(this.videoId, \"?autoplay=1\");\n  };\n  return VimeoPlayer;\n}(IFrameMediaMediaPlayer);\nexports.VimeoPlayer = VimeoPlayer;\nvar DailymotionPlayer = /** @class */function (_super) {\n  __extends(DailymotionPlayer, _super);\n  function DailymotionPlayer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  DailymotionPlayer.prototype.fetchVideoDetails = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var apiUrl, response, json;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            apiUrl = \"https://api.dailymotion.com/video/\".concat(this.videoId, \"?fields=thumbnail_720_url\");\n            return [4 /*yield*/, fetch(apiUrl)];\n          case 1:\n            response = _a.sent();\n            if (!response.ok) return [3 /*break*/, 3];\n            return [4 /*yield*/, response.json()];\n          case 2:\n            json = _a.sent();\n            this.posterUrl = json[\"thumbnail_720_url\"];\n            _a.label = 3;\n          case 3:\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  DailymotionPlayer.prototype.getEmbedVideoUrl = function () {\n    return \"https://www.dailymotion.com/embed/video/\".concat(this.videoId, \"?autoplay=1\");\n  };\n  return DailymotionPlayer;\n}(IFrameMediaMediaPlayer);\nexports.DailymotionPlayer = DailymotionPlayer;\nvar YouTubePlayer = /** @class */function (_super) {\n  __extends(YouTubePlayer, _super);\n  function YouTubePlayer(matches, iFrameTitle) {\n    var _this = _super.call(this, matches, iFrameTitle) || this;\n    _this.iFrameTitle = iFrameTitle;\n    if (matches.length >= 3 && matches[2] !== undefined) {\n      _this._startTimeIndex = parseInt(matches[2]);\n    }\n    return _this;\n  }\n  YouTubePlayer.prototype.fetchVideoDetails = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.posterUrl = this.videoId ? \"https://img.youtube.com/vi/\".concat(this.videoId, \"/maxresdefault.jpg\") : undefined;\n        return [2 /*return*/];\n      });\n    });\n  };\n\n  YouTubePlayer.prototype.getEmbedVideoUrl = function () {\n    var url = \"https://www.youtube.com/embed/\".concat(this.videoId, \"?autoplay=1\");\n    if (this._startTimeIndex !== undefined) {\n      url += \"&start=\".concat(this._startTimeIndex);\n    }\n    return url;\n  };\n  return YouTubePlayer;\n}(IFrameMediaMediaPlayer);\nexports.YouTubePlayer = YouTubePlayer;\nvar Media = /** @class */function (_super) {\n  __extends(Media, _super);\n  function Media() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.sources = [];\n    _this.captionSources = [];\n    return _this;\n  }\n  Media.prototype.createMediaPlayer = function () {\n    for (var _i = 0, _a = Media.customMediaPlayers; _i < _a.length; _i++) {\n      var provider = _a[_i];\n      for (var _b = 0, _c = this.sources; _b < _c.length; _b++) {\n        var source = _c[_b];\n        if (source.url) {\n          for (var _d = 0, _f = provider.urlPatterns; _d < _f.length; _d++) {\n            var pattern = _f[_d];\n            var matches = pattern.exec(source.url);\n            if (matches !== null) {\n              return provider.createMediaPlayer(matches);\n            }\n          }\n        }\n      }\n    }\n    return new HTML5MediaPlayer(this);\n  };\n  Media.prototype.handlePlayButtonInvoke = function (event) {\n    if (this.hostConfig.media.allowInlinePlayback) {\n      event.preventDefault();\n      event.cancelBubble = true;\n      if (this.renderedElement) {\n        var mediaPlayerElement = this._mediaPlayer.render();\n        clearElement(this.renderedElement);\n        this.renderedElement.appendChild(mediaPlayerElement);\n        this._mediaPlayer.play();\n        mediaPlayerElement.focus();\n      }\n    } else {\n      if (Media.onPlay) {\n        event.preventDefault();\n        event.cancelBubble = true;\n        Media.onPlay(this);\n      }\n    }\n  };\n  Media.prototype.displayPoster = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var playButtonArrowWidth, playButtonArrowHeight, posterRootElement_1, posterUrl, posterImageElement_1, playButtonOuterElement, playButtonInnerElement, playButtonContainer;\n      var _this = this;\n      return __generator(this, function (_a) {\n        if (this.renderedElement) {\n          playButtonArrowWidth = 12;\n          playButtonArrowHeight = 15;\n          posterRootElement_1 = document.createElement(\"div\");\n          posterRootElement_1.className = this.hostConfig.makeCssClassName(\"ac-media-poster\");\n          posterRootElement_1.setAttribute(\"role\", \"contentinfo\");\n          posterRootElement_1.setAttribute(\"aria-label\", this.altText ? this.altText : strings_1.Strings.defaults.mediaPlayerAriaLabel());\n          posterRootElement_1.style.position = \"relative\";\n          posterRootElement_1.style.display = \"flex\";\n          posterUrl = this.poster ? this.poster : this._mediaPlayer.posterUrl;\n          if (!posterUrl) {\n            posterUrl = this.hostConfig.media.defaultPoster;\n          }\n          if (posterUrl) {\n            posterImageElement_1 = document.createElement(\"img\");\n            posterImageElement_1.style.width = \"100%\";\n            posterImageElement_1.style.height = \"100%\";\n            posterImageElement_1.setAttribute(\"role\", \"presentation\");\n            posterImageElement_1.onerror = function (_e) {\n              if (posterImageElement_1.parentNode) {\n                posterImageElement_1.parentNode.removeChild(posterImageElement_1);\n              }\n              posterRootElement_1.classList.add(\"empty\");\n              posterRootElement_1.style.minHeight = \"150px\";\n            };\n            posterImageElement_1.src = posterUrl;\n            posterRootElement_1.appendChild(posterImageElement_1);\n          } else {\n            posterRootElement_1.classList.add(\"empty\");\n            posterRootElement_1.style.minHeight = \"150px\";\n          }\n          if (this.hostConfig.supportsInteractivity && this._mediaPlayer.canPlay()) {\n            playButtonOuterElement = document.createElement(\"div\");\n            playButtonOuterElement.tabIndex = 0;\n            playButtonOuterElement.setAttribute(\"role\", \"button\");\n            playButtonOuterElement.setAttribute(\"aria-label\", strings_1.Strings.defaults.mediaPlayerPlayMedia());\n            playButtonOuterElement.className = this.hostConfig.makeCssClassName(\"ac-media-playButton\");\n            playButtonOuterElement.style.display = \"flex\";\n            playButtonOuterElement.style.alignItems = \"center\";\n            playButtonOuterElement.style.justifyContent = \"center\";\n            playButtonOuterElement.onclick = function (e) {\n              _this.handlePlayButtonInvoke(e);\n            };\n            playButtonOuterElement.onkeypress = function (e) {\n              if (e.code === \"Enter\" || e.code === \"Space\") {\n                // space or enter\n                _this.handlePlayButtonInvoke(e);\n              }\n            };\n            playButtonInnerElement = document.createElement(\"div\");\n            playButtonInnerElement.className = this.hostConfig.makeCssClassName(\"ac-media-playButton-arrow\");\n            playButtonInnerElement.style.width = playButtonArrowWidth + \"px\";\n            playButtonInnerElement.style.height = playButtonArrowHeight + \"px\";\n            playButtonInnerElement.style.borderTopWidth = playButtonArrowHeight / 2 + \"px\";\n            playButtonInnerElement.style.borderBottomWidth = playButtonArrowHeight / 2 + \"px\";\n            playButtonInnerElement.style.borderLeftWidth = playButtonArrowWidth + \"px\";\n            playButtonInnerElement.style.borderRightWidth = \"0\";\n            playButtonInnerElement.style.borderStyle = \"solid\";\n            playButtonInnerElement.style.borderTopColor = \"transparent\";\n            playButtonInnerElement.style.borderRightColor = \"transparent\";\n            playButtonInnerElement.style.borderBottomColor = \"transparent\";\n            playButtonInnerElement.style.transform = \"translate(\" + playButtonArrowWidth / 10 + \"px,0px)\";\n            playButtonOuterElement.appendChild(playButtonInnerElement);\n            playButtonContainer = document.createElement(\"div\");\n            playButtonContainer.style.position = \"absolute\";\n            playButtonContainer.style.left = \"0\";\n            playButtonContainer.style.top = \"0\";\n            playButtonContainer.style.width = \"100%\";\n            playButtonContainer.style.height = \"100%\";\n            playButtonContainer.style.display = \"flex\";\n            playButtonContainer.style.justifyContent = \"center\";\n            playButtonContainer.style.alignItems = \"center\";\n            playButtonContainer.appendChild(playButtonOuterElement);\n            posterRootElement_1.appendChild(playButtonContainer);\n          }\n          clearElement(this.renderedElement);\n          this.renderedElement.appendChild(posterRootElement_1);\n        }\n        return [2 /*return*/];\n      });\n    });\n  };\n\n  Media.prototype.internalRender = function () {\n    var element = document.createElement(\"div\");\n    element.className = this.hostConfig.makeCssClassName(\"ac-media\");\n    return element;\n  };\n  Media.prototype.render = function () {\n    var _this = this;\n    var result = _super.prototype.render.call(this);\n    if (result) {\n      this._mediaPlayer = this.createMediaPlayer();\n      this._mediaPlayer.fetchVideoDetails().then(function () {\n        return _this.displayPoster();\n      });\n    }\n    return result;\n  };\n  Media.prototype.releaseDOMResources = function () {\n    _super.prototype.releaseDOMResources.call(this);\n    this.displayPoster();\n  };\n  Media.prototype.getJsonTypeName = function () {\n    return \"Media\";\n  };\n  Media.prototype.getResourceInformation = function () {\n    var result = [];\n    if (this._mediaPlayer) {\n      var posterUrl = this.poster ? this.poster : this.hostConfig.media.defaultPoster;\n      if (posterUrl) {\n        result.push({\n          url: posterUrl,\n          mimeType: \"image\"\n        });\n      }\n    }\n    for (var _i = 0, _a = this.sources; _i < _a.length; _i++) {\n      var mediaSource = _a[_i];\n      if (mediaSource.isValid()) {\n        result.push({\n          /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion -- `mediaSource.url` is of type `string | undefined`, but is validated by `isValid()` call */\n          url: mediaSource.url,\n          mimeType: mediaSource.mimeType\n          /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion */\n        });\n      }\n    }\n\n    for (var _b = 0, _c = this.captionSources; _b < _c.length; _b++) {\n      var captionSource = _c[_b];\n      if (captionSource.isValid()) {\n        result.push({\n          /* eslint-disable @typescript-eslint/no-unnecessary-type-assertion -- `captionSource.url` is of type `string | undefined`, but is validated by `isValid()` call */\n          url: captionSource.url,\n          mimeType: captionSource.mimeType\n          /* eslint-enable @typescript-eslint/no-unnecessary-type-assertion */\n        });\n      }\n    }\n\n    return result;\n  };\n  Object.defineProperty(Media.prototype, \"selectedMediaType\", {\n    get: function () {\n      return this._mediaPlayer.selectedMediaType;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Media.customMediaPlayers = [{\n    urlPatterns: [/^(?:https?:\\/\\/)?(?:www.)?youtube.com\\/watch\\?(?=.*v=([\\w\\d-_]+))(?=(?:.*t=(\\d+))?).*/gi, /^(?:https?:\\/\\/)?youtu.be\\/([\\w\\d-_]+)(?:\\?t=(\\d+))?/gi],\n    createMediaPlayer: function (matches) {\n      return new YouTubePlayer(matches, strings_1.Strings.defaults.youTubeVideoPlayer());\n    }\n  }, {\n    urlPatterns: [/^(?:https?:\\/\\/)?vimeo.com\\/([\\w\\d-_]+).*/gi],\n    createMediaPlayer: function (matches) {\n      return new VimeoPlayer(matches, strings_1.Strings.defaults.vimeoVideoPlayer());\n    }\n  }, {\n    urlPatterns: [/^(?:https?:\\/\\/)?(?:www.)?dailymotion.com\\/video\\/([\\w\\d-_]+).*/gi],\n    createMediaPlayer: function (matches) {\n      return new DailymotionPlayer(matches, strings_1.Strings.defaults.dailymotionVideoPlayer());\n    }\n  }];\n  //#region Schema\n  Media.sourcesProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_1, \"sources\", MediaSource);\n  Media.captionSourcesProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_6, \"captionSources\", CaptionSource);\n  Media.posterProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"poster\");\n  Media.altTextProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"altText\");\n  __decorate([(0, serialization_1.property)(Media.sourcesProperty)], Media.prototype, \"sources\", void 0);\n  __decorate([(0, serialization_1.property)(Media.captionSourcesProperty)], Media.prototype, \"captionSources\", void 0);\n  __decorate([(0, serialization_1.property)(Media.posterProperty)], Media.prototype, \"poster\", void 0);\n  __decorate([(0, serialization_1.property)(Media.altTextProperty)], Media.prototype, \"altText\", void 0);\n  return Media;\n}(CardElement);\nexports.Media = Media;\nvar Input = /** @class */function (_super) {\n  __extends(Input, _super);\n  function Input() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Input.prototype.getAllLabelIds = function () {\n    var labelIds = [];\n    if (this.labelledBy) {\n      labelIds.push(this.labelledBy);\n    }\n    if (this._renderedLabelElement) {\n      labelIds.push(this._renderedLabelElement.id);\n    }\n    if (this._renderedErrorMessageElement) {\n      labelIds.push(this._renderedErrorMessageElement.id);\n    }\n    return labelIds;\n  };\n  Input.prototype.updateInputControlAriaLabelledBy = function () {\n    if (this._renderedInputControlElement) {\n      var labelIds = this.getAllLabelIds();\n      if (labelIds.length > 0) {\n        this._renderedInputControlElement.setAttribute(\"aria-labelledby\", labelIds.join(\" \"));\n      } else {\n        this._renderedInputControlElement.removeAttribute(\"aria-labelledby\");\n      }\n    }\n  };\n  Object.defineProperty(Input.prototype, \"isNullable\", {\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Input.prototype, \"renderedInputControlElement\", {\n    get: function () {\n      return this._renderedInputControlElement;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Input.prototype, \"inputControlContainerElement\", {\n    get: function () {\n      return this._inputControlContainerElement;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Input.prototype.overrideInternalRender = function () {\n    var hostConfig = this.hostConfig;\n    this._outerContainerElement = document.createElement(\"div\");\n    this._outerContainerElement.style.display = \"flex\";\n    this._outerContainerElement.style.flexDirection = \"column\";\n    var renderedInputControlId = Utils.generateUniqueId();\n    if (this.label) {\n      var labelRichTextBlock = new RichTextBlock();\n      labelRichTextBlock.setParent(this);\n      labelRichTextBlock.forElementId = renderedInputControlId;\n      var labelInline = new TextRun(this.label);\n      labelRichTextBlock.addInline(labelInline);\n      if (this.isRequired) {\n        labelInline.init(hostConfig.inputs.label.requiredInputs);\n        var isRequiredCueInline = new TextRun(hostConfig.inputs.label.requiredInputs.suffix);\n        isRequiredCueInline.color = hostConfig.inputs.label.requiredInputs.suffixColor;\n        isRequiredCueInline.ariaHidden = true;\n        labelRichTextBlock.addInline(isRequiredCueInline);\n      } else {\n        labelInline.init(hostConfig.inputs.label.optionalInputs);\n      }\n      this._renderedLabelElement = labelRichTextBlock.render();\n      if (this._renderedLabelElement) {\n        this._renderedLabelElement.id = Utils.generateUniqueId();\n        this._renderedLabelElement.style.marginBottom = hostConfig.getEffectiveSpacing(hostConfig.inputs.label.inputSpacing) + \"px\";\n        this._outerContainerElement.appendChild(this._renderedLabelElement);\n      }\n    }\n    this._inputControlContainerElement = document.createElement(\"div\");\n    this._inputControlContainerElement.className = hostConfig.makeCssClassName(\"ac-input-container\");\n    this._inputControlContainerElement.style.display = \"flex\";\n    if (this.height === \"stretch\") {\n      this._inputControlContainerElement.style.alignItems = \"stretch\";\n      this._inputControlContainerElement.style.flex = \"1 1 auto\";\n    }\n    this._renderedInputControlElement = this.internalRender();\n    if (this._renderedInputControlElement) {\n      this._renderedInputControlElement.id = renderedInputControlId;\n      this._renderedInputControlElement.style.minWidth = \"0px\";\n      if (this.isNullable && this.isRequired) {\n        this._renderedInputControlElement.setAttribute(\"aria-required\", \"true\");\n        this._renderedInputControlElement.classList.add(hostConfig.makeCssClassName(\"ac-input-required\"));\n      }\n      this._inputControlContainerElement.appendChild(this._renderedInputControlElement);\n      this._outerContainerElement.appendChild(this._inputControlContainerElement);\n      this.updateInputControlAriaLabelledBy();\n      return this._outerContainerElement;\n    }\n    this.resetDirtyState();\n    return undefined;\n  };\n  Input.prototype.valueChanged = function () {\n    this.getRootElement().updateActionsEnabledState();\n    if (this.isValid()) {\n      this.resetValidationFailureCue();\n    }\n    if (this.onValueChanged) {\n      this.onValueChanged(this);\n    }\n    raiseInputValueChangedEvent(this);\n  };\n  Input.prototype.resetValidationFailureCue = function () {\n    if (this.renderedInputControlElement) {\n      this.renderedInputControlElement.classList.remove(this.hostConfig.makeCssClassName(\"ac-input-validation-failed\"));\n      this.updateInputControlAriaLabelledBy();\n      if (this._renderedErrorMessageElement) {\n        this._outerContainerElement.removeChild(this._renderedErrorMessageElement);\n        this._renderedErrorMessageElement = undefined;\n      }\n    }\n  };\n  Input.prototype.showValidationErrorMessage = function () {\n    if (this.renderedElement && this.errorMessage && shared_1.GlobalSettings.displayInputValidationErrors) {\n      var errorMessageTextBlock = new TextBlock();\n      errorMessageTextBlock.setParent(this);\n      errorMessageTextBlock.text = this.errorMessage;\n      errorMessageTextBlock.wrap = true;\n      errorMessageTextBlock.init(this.hostConfig.inputs.errorMessage);\n      this._renderedErrorMessageElement = errorMessageTextBlock.render();\n      if (this._renderedErrorMessageElement) {\n        this._renderedErrorMessageElement.id = Utils.generateUniqueId();\n        this._outerContainerElement.appendChild(this._renderedErrorMessageElement);\n        this.updateInputControlAriaLabelledBy();\n      }\n    }\n  };\n  Input.prototype.focus = function () {\n    if (this._renderedInputControlElement) {\n      this._renderedInputControlElement.focus();\n    }\n  };\n  Input.prototype.isValid = function () {\n    return true;\n  };\n  Input.prototype.isDirty = function () {\n    return this.value !== this._oldValue;\n  };\n  Input.prototype.resetDirtyState = function () {\n    this._oldValue = this.value;\n  };\n  Input.prototype.internalValidateProperties = function (context) {\n    _super.prototype.internalValidateProperties.call(this, context);\n    if (!this.id) {\n      context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.inputsMustHaveUniqueId());\n    }\n    if (this.isRequired) {\n      if (!this.label) {\n        context.addFailure(this, Enums.ValidationEvent.RequiredInputsShouldHaveLabel, \"Required inputs should have a label\");\n      }\n      if (!this.errorMessage) {\n        context.addFailure(this, Enums.ValidationEvent.RequiredInputsShouldHaveErrorMessage, \"Required inputs should have an error message\");\n      }\n    }\n  };\n  Input.prototype.validateValue = function () {\n    this.resetValidationFailureCue();\n    var result = this.isRequired ? this.isSet() && this.isValid() : this.isValid();\n    if (!result && this.renderedInputControlElement) {\n      this.renderedInputControlElement.classList.add(this.hostConfig.makeCssClassName(\"ac-input-validation-failed\"));\n      this.showValidationErrorMessage();\n    }\n    return result;\n  };\n  Input.prototype.getAllInputs = function (processActions) {\n    if (processActions === void 0) {\n      processActions = true;\n    }\n    return [this];\n  };\n  Input.prototype.render = function () {\n    var result = _super.prototype.render.call(this);\n    this.resetDirtyState();\n    return result;\n  };\n  Object.defineProperty(Input.prototype, \"isInteractive\", {\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  //#region Schema\n  Input.labelProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_3, \"label\", true);\n  Input.isRequiredProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_3, \"isRequired\", false);\n  Input.errorMessageProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_3, \"errorMessage\", true);\n  __decorate([(0, serialization_1.property)(Input.labelProperty)], Input.prototype, \"label\", void 0);\n  __decorate([(0, serialization_1.property)(Input.isRequiredProperty)], Input.prototype, \"isRequired\", void 0);\n  __decorate([(0, serialization_1.property)(Input.errorMessageProperty)], Input.prototype, \"errorMessage\", void 0);\n  return Input;\n}(CardElement);\nexports.Input = Input;\nvar TextInput = /** @class */function (_super) {\n  __extends(TextInput, _super);\n  function TextInput() {\n    //#region Schema\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.isMultiline = false;\n    _this.style = Enums.InputTextStyle.Text;\n    return _this;\n  }\n  //#endregion\n  TextInput.prototype.setupInput = function (input) {\n    var _this = this;\n    input.style.flex = \"1 1 auto\";\n    input.tabIndex = this.isDesignMode() ? -1 : 0;\n    if (this.placeholder) {\n      input.placeholder = this.placeholder;\n      input.setAttribute(\"aria-label\", this.placeholder);\n    }\n    if (this.defaultValue) {\n      input.value = this.defaultValue;\n    }\n    if (this.maxLength && this.maxLength > 0) {\n      input.maxLength = this.maxLength;\n    }\n    input.oninput = function () {\n      _this.valueChanged();\n    };\n    input.onkeypress = function (e) {\n      // Ctrl+Enter pressed\n      if (e.ctrlKey && e.code === \"Enter\" && _this.inlineAction && _this.inlineAction.isEffectivelyEnabled()) {\n        _this.inlineAction.execute();\n      }\n    };\n  };\n  TextInput.prototype.internalRender = function () {\n    var result;\n    if (this.isMultiline && this.style !== Enums.InputTextStyle.Password) {\n      result = document.createElement(\"textarea\");\n      result.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-textInput\", \"ac-multiline\");\n      if (this.height === \"stretch\") {\n        result.style.height = \"initial\";\n      }\n    } else {\n      result = document.createElement(\"input\");\n      result.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-textInput\");\n      result.type = Enums.InputTextStyle[this.style].toLowerCase();\n    }\n    this.setupInput(result);\n    return result;\n  };\n  TextInput.prototype.overrideInternalRender = function () {\n    var _this = this;\n    var renderedInputControl = _super.prototype.overrideInternalRender.call(this);\n    if (this.inlineAction) {\n      var button_1 = document.createElement(\"button\");\n      button_1.className = this.hostConfig.makeCssClassName(this.inlineAction.isEffectivelyEnabled() ? \"ac-inlineActionButton\" : \"ac-inlineActionButton-disabled\");\n      button_1.onclick = function (e) {\n        if (_this.inlineAction && _this.inlineAction.isEffectivelyEnabled()) {\n          e.preventDefault();\n          e.cancelBubble = true;\n          _this.inlineAction.execute();\n        }\n      };\n      if (this.inlineAction.iconUrl) {\n        button_1.classList.add(\"iconOnly\");\n        var icon_1 = document.createElement(\"img\");\n        icon_1.style.height = \"100%\";\n        icon_1.setAttribute(\"role\", \"presentation\");\n        // The below trick is necessary as a workaround in Chrome where the icon is initially displayed\n        // at its native size then resized to 100% of the button's height. This cfreates an unpleasant\n        // flicker. On top of that, Chrome's flex implementation fails to prperly re-layout the button\n        // after the image has loaded and been gicven its final size. The below trick also fixes that.\n        icon_1.style.display = \"none\";\n        icon_1.onload = function () {\n          icon_1.style.removeProperty(\"display\");\n        };\n        icon_1.onerror = function () {\n          button_1.removeChild(icon_1);\n          button_1.classList.remove(\"iconOnly\");\n          button_1.classList.add(\"textOnly\");\n          button_1.textContent = _this.inlineAction && _this.inlineAction.title ? _this.inlineAction.title : strings_1.Strings.defaults.inlineActionTitle();\n        };\n        icon_1.src = this.inlineAction.iconUrl;\n        button_1.appendChild(icon_1);\n        button_1.title = this.inlineAction.title ? this.inlineAction.title : strings_1.Strings.defaults.inlineActionTitle();\n      } else {\n        button_1.classList.add(\"textOnly\");\n        button_1.textContent = this.inlineAction.title ? this.inlineAction.title : strings_1.Strings.defaults.inlineActionTitle();\n      }\n      this.inlineAction.setupElementForAccessibility(button_1, true);\n      button_1.style.marginLeft = \"8px\";\n      this.inputControlContainerElement.appendChild(button_1);\n    }\n    return renderedInputControl;\n  };\n  TextInput.prototype.getJsonTypeName = function () {\n    return \"Input.Text\";\n  };\n  TextInput.prototype.getAllActions = function () {\n    var result = _super.prototype.getAllActions.call(this);\n    if (this.inlineAction) {\n      result.push(this.inlineAction);\n    }\n    return result;\n  };\n  TextInput.prototype.getActionById = function (id) {\n    var result = _super.prototype.getActionById.call(this, id);\n    if (!result && this.inlineAction) {\n      result = this.inlineAction.getActionById(id);\n    }\n    return result;\n  };\n  TextInput.prototype.isSet = function () {\n    return this.value ? true : false;\n  };\n  TextInput.prototype.isValid = function () {\n    if (!this.value) {\n      return true;\n    }\n    if (this.regex) {\n      return new RegExp(this.regex, \"g\").test(this.value);\n    }\n    return true;\n  };\n  Object.defineProperty(TextInput.prototype, \"value\", {\n    get: function () {\n      if (this.renderedInputControlElement) {\n        if (this.isMultiline) {\n          return this.renderedInputControlElement.value;\n        } else {\n          return this.renderedInputControlElement.value;\n        }\n      } else {\n        return undefined;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  TextInput.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n  TextInput.maxLengthProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_0, \"maxLength\");\n  TextInput.isMultilineProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"isMultiline\", false);\n  TextInput.placeholderProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"placeholder\");\n  TextInput.styleProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_0, \"style\", Enums.InputTextStyle, Enums.InputTextStyle.Text, [{\n    value: Enums.InputTextStyle.Text\n  }, {\n    value: Enums.InputTextStyle.Tel\n  }, {\n    value: Enums.InputTextStyle.Url\n  }, {\n    value: Enums.InputTextStyle.Email\n  }, {\n    value: Enums.InputTextStyle.Password,\n    targetVersion: serialization_1.Versions.v1_5\n  }]);\n  TextInput.inlineActionProperty = new ActionProperty(serialization_1.Versions.v1_0, \"inlineAction\", [\"Action.ShowCard\"]);\n  TextInput.regexProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_3, \"regex\", true);\n  __decorate([(0, serialization_1.property)(TextInput.valueProperty)], TextInput.prototype, \"defaultValue\", void 0);\n  __decorate([(0, serialization_1.property)(TextInput.maxLengthProperty)], TextInput.prototype, \"maxLength\", void 0);\n  __decorate([(0, serialization_1.property)(TextInput.isMultilineProperty)], TextInput.prototype, \"isMultiline\", void 0);\n  __decorate([(0, serialization_1.property)(TextInput.placeholderProperty)], TextInput.prototype, \"placeholder\", void 0);\n  __decorate([(0, serialization_1.property)(TextInput.styleProperty)], TextInput.prototype, \"style\", void 0);\n  __decorate([(0, serialization_1.property)(TextInput.inlineActionProperty)], TextInput.prototype, \"inlineAction\", void 0);\n  __decorate([(0, serialization_1.property)(TextInput.regexProperty)], TextInput.prototype, \"regex\", void 0);\n  return TextInput;\n}(Input);\nexports.TextInput = TextInput;\nvar ToggleInput = /** @class */function (_super) {\n  __extends(ToggleInput, _super);\n  function ToggleInput() {\n    //#region Schema\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.valueOn = \"true\";\n    _this.valueOff = \"false\";\n    _this.wrap = false;\n    return _this;\n  }\n  ToggleInput.prototype.updateInputControlAriaLabelledBy = function () {\n    if (this._checkboxInputElement) {\n      var joinedLabelIds = this.getAllLabelIds().join(\" \");\n      if (this._checkboxInputLabelElement && this._checkboxInputLabelElement.id) {\n        joinedLabelIds += \" \" + this._checkboxInputLabelElement.id;\n      }\n      if (joinedLabelIds) {\n        this._checkboxInputElement.setAttribute(\"aria-labelledby\", joinedLabelIds);\n      } else {\n        this._checkboxInputElement.removeAttribute(\"aria-labelledby\");\n      }\n    }\n  };\n  ToggleInput.prototype.internalRender = function () {\n    var _this = this;\n    var element = document.createElement(\"div\");\n    element.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-toggleInput\");\n    element.style.width = \"100%\";\n    element.style.display = \"flex\";\n    element.style.alignItems = \"center\";\n    this._checkboxInputElement = document.createElement(\"input\");\n    this._checkboxInputElement.id = Utils.generateUniqueId();\n    this._checkboxInputElement.type = \"checkbox\";\n    this._checkboxInputElement.style.display = \"inline-block\";\n    this._checkboxInputElement.style.verticalAlign = \"middle\";\n    this._checkboxInputElement.style.margin = \"0\";\n    this._checkboxInputElement.style.flex = \"0 0 auto\";\n    if (this.title) {\n      this._checkboxInputElement.setAttribute(\"aria-label\", this.title);\n    }\n    if (this.isRequired) {\n      this._checkboxInputElement.setAttribute(\"aria-required\", \"true\");\n    }\n    this._checkboxInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n    if (this.defaultValue === this.valueOn) {\n      this._checkboxInputElement.checked = true;\n    }\n    this._oldCheckboxValue = this._checkboxInputElement.checked;\n    this._checkboxInputElement.onchange = function () {\n      _this.valueChanged();\n    };\n    Utils.appendChild(element, this._checkboxInputElement);\n    if (this.title || this.isDesignMode()) {\n      var label = new TextBlock();\n      label.setParent(this);\n      label.forElementId = this._checkboxInputElement.id;\n      label.hostConfig = this.hostConfig;\n      label.text = !this.title ? this.getJsonTypeName() : this.title;\n      label.useMarkdown = shared_1.GlobalSettings.useMarkdownInRadioButtonAndCheckbox;\n      label.wrap = this.wrap;\n      this._checkboxInputLabelElement = label.render();\n      if (this._checkboxInputLabelElement) {\n        this._checkboxInputLabelElement.id = Utils.generateUniqueId();\n        this._checkboxInputLabelElement.style.display = \"inline-block\";\n        this._checkboxInputLabelElement.style.flex = \"1 1 auto\";\n        this._checkboxInputLabelElement.style.marginLeft = \"6px\";\n        this._checkboxInputLabelElement.style.verticalAlign = \"middle\";\n        var spacerElement = document.createElement(\"div\");\n        spacerElement.style.width = \"6px\";\n        Utils.appendChild(element, spacerElement);\n        Utils.appendChild(element, this._checkboxInputLabelElement);\n      }\n    }\n    return element;\n  };\n  Object.defineProperty(ToggleInput.prototype, \"isNullable\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ToggleInput.prototype.getJsonTypeName = function () {\n    return \"Input.Toggle\";\n  };\n  ToggleInput.prototype.focus = function () {\n    if (this._checkboxInputElement) {\n      this._checkboxInputElement.focus();\n    }\n  };\n  ToggleInput.prototype.isSet = function () {\n    if (this.isRequired) {\n      return this.value === this.valueOn;\n    }\n    return this.value ? true : false;\n  };\n  ToggleInput.prototype.isDirty = function () {\n    return this._checkboxInputElement ? this._checkboxInputElement.checked !== this._oldCheckboxValue : false;\n  };\n  Object.defineProperty(ToggleInput.prototype, \"value\", {\n    get: function () {\n      if (this._checkboxInputElement) {\n        return this._checkboxInputElement.checked ? this.valueOn : this.valueOff;\n      } else {\n        return undefined;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ToggleInput.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n  ToggleInput.titleProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"title\");\n  ToggleInput.valueOnProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"valueOn\", true, undefined, \"true\", function (sender) {\n    return \"true\";\n  });\n  ToggleInput.valueOffProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"valueOff\", true, undefined, \"false\", function (sender) {\n    return \"false\";\n  });\n  ToggleInput.wrapProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"wrap\", false);\n  __decorate([(0, serialization_1.property)(ToggleInput.valueProperty)], ToggleInput.prototype, \"defaultValue\", void 0);\n  __decorate([(0, serialization_1.property)(ToggleInput.titleProperty)], ToggleInput.prototype, \"title\", void 0);\n  __decorate([(0, serialization_1.property)(ToggleInput.valueOnProperty)], ToggleInput.prototype, \"valueOn\", void 0);\n  __decorate([(0, serialization_1.property)(ToggleInput.valueOffProperty)], ToggleInput.prototype, \"valueOff\", void 0);\n  __decorate([(0, serialization_1.property)(ToggleInput.wrapProperty)], ToggleInput.prototype, \"wrap\", void 0);\n  return ToggleInput;\n}(Input);\nexports.ToggleInput = ToggleInput;\nvar Choice = /** @class */function (_super) {\n  __extends(Choice, _super);\n  function Choice(title, value) {\n    var _this = _super.call(this) || this;\n    _this.title = title;\n    _this.value = value;\n    return _this;\n  }\n  //#endregion\n  Choice.prototype.getSchemaKey = function () {\n    return \"Choice\";\n  };\n  //#region Schema\n  Choice.titleProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"title\");\n  Choice.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n  __decorate([(0, serialization_1.property)(Choice.titleProperty)], Choice.prototype, \"title\", void 0);\n  __decorate([(0, serialization_1.property)(Choice.valueProperty)], Choice.prototype, \"value\", void 0);\n  return Choice;\n}(serialization_1.SerializableObject);\nexports.Choice = Choice;\nvar ChoiceSetInput = /** @class */function (_super) {\n  __extends(ChoiceSetInput, _super);\n  function ChoiceSetInput() {\n    //#region Schema\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.isMultiSelect = false;\n    _this.wrap = false;\n    _this.choices = [];\n    return _this;\n  }\n  Object.defineProperty(ChoiceSetInput.prototype, \"isCompact\", {\n    get: function () {\n      return !this.style || this.style === \"compact\";\n    },\n    set: function (value) {\n      this.style = value ? undefined : \"expanded\";\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ChoiceSetInput.getUniqueCategoryName = function () {\n    var uniqueCategoryName = \"__ac-category\" + ChoiceSetInput._uniqueCategoryCounter;\n    ChoiceSetInput._uniqueCategoryCounter++;\n    return uniqueCategoryName;\n  };\n  // Make sure `aria-current` is applied to the currently-selected item\n  ChoiceSetInput.prototype.internalApplyAriaCurrent = function () {\n    if (this._selectElement) {\n      var options = this._selectElement.options;\n      if (options) {\n        for (var _i = 0, _a = Array.from(options); _i < _a.length; _i++) {\n          var option = _a[_i];\n          if (option.selected) {\n            option.setAttribute(\"aria-current\", \"true\");\n          } else {\n            option.removeAttribute(\"aria-current\");\n          }\n        }\n      }\n    }\n  };\n  ChoiceSetInput.prototype.renderCompoundInput = function (cssClassName, type, defaultValues) {\n    var _this = this;\n    var element = document.createElement(\"div\");\n    element.className = this.hostConfig.makeCssClassName(\"ac-input\", cssClassName);\n    element.style.width = \"100%\";\n    element.tabIndex = this.isDesignMode() ? -1 : 0;\n    this._toggleInputs = [];\n    this._labels = [];\n    for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {\n      var choice = _a[_i];\n      var input = document.createElement(\"input\");\n      input.id = Utils.generateUniqueId();\n      input.type = type;\n      input.style.margin = \"0\";\n      input.style.display = \"inline-block\";\n      input.style.verticalAlign = \"middle\";\n      input.style.flex = \"0 0 auto\";\n      input.name = this.id ? this.id : this._uniqueCategoryName;\n      if (this.isRequired) {\n        input.setAttribute(\"aria-required\", \"true\");\n      }\n      input.tabIndex = this.isDesignMode() ? -1 : 0;\n      if (choice.value) {\n        input.value = choice.value;\n      }\n      if (choice.title) {\n        input.setAttribute(\"aria-label\", choice.title);\n      }\n      if (defaultValues && choice.value) {\n        if (defaultValues.indexOf(choice.value) >= 0) {\n          input.checked = true;\n        }\n      }\n      input.onchange = function () {\n        _this.valueChanged();\n      };\n      this._toggleInputs.push(input);\n      var compoundInput = document.createElement(\"div\");\n      compoundInput.style.display = \"flex\";\n      compoundInput.style.alignItems = \"center\";\n      Utils.appendChild(compoundInput, input);\n      var label = new TextBlock();\n      label.setParent(this);\n      label.forElementId = input.id;\n      label.hostConfig = this.hostConfig;\n      label.text = choice.title ? choice.title : \"Choice \" + this._toggleInputs.length;\n      label.useMarkdown = shared_1.GlobalSettings.useMarkdownInRadioButtonAndCheckbox;\n      label.wrap = this.wrap;\n      var labelElement = label.render();\n      this._labels.push(labelElement);\n      if (labelElement) {\n        labelElement.id = Utils.generateUniqueId();\n        labelElement.style.display = \"inline-block\";\n        labelElement.style.flex = \"1 1 auto\";\n        labelElement.style.marginLeft = \"6px\";\n        labelElement.style.verticalAlign = \"middle\";\n        var spacerElement = document.createElement(\"div\");\n        spacerElement.style.width = \"6px\";\n        Utils.appendChild(compoundInput, spacerElement);\n        Utils.appendChild(compoundInput, labelElement);\n      }\n      Utils.appendChild(element, compoundInput);\n    }\n    return element;\n  };\n  ChoiceSetInput.prototype.updateInputControlAriaLabelledBy = function () {\n    if ((this.isMultiSelect || this.style === \"expanded\") && this._toggleInputs && this._labels) {\n      var labelIds = this.getAllLabelIds();\n      for (var i = 0; i < this._toggleInputs.length; i++) {\n        var joinedLabelIds = labelIds.join(\" \");\n        var label = this._labels[i];\n        if (label && label.id) {\n          joinedLabelIds += \" \" + label.id;\n        }\n        if (joinedLabelIds) {\n          this._toggleInputs[i].setAttribute(\"aria-labelledby\", joinedLabelIds);\n        } else {\n          this._toggleInputs[i].removeAttribute(\"aria-labelledby\");\n        }\n      }\n    } else {\n      _super.prototype.updateInputControlAriaLabelledBy.call(this);\n    }\n  };\n  ChoiceSetInput.prototype.internalRender = function () {\n    var _this = this;\n    this._uniqueCategoryName = ChoiceSetInput.getUniqueCategoryName();\n    if (this.isMultiSelect) {\n      // Render as a list of toggle inputs\n      return this.renderCompoundInput(\"ac-choiceSetInput-multiSelect\", \"checkbox\", this.defaultValue ? this.defaultValue.split(this.hostConfig.choiceSetInputValueSeparator) : undefined);\n    } else {\n      if (this.style === \"expanded\") {\n        // Render as a series of radio buttons\n        return this.renderCompoundInput(\"ac-choiceSetInput-expanded\", \"radio\", this.defaultValue ? [this.defaultValue] : undefined);\n      } else if (this.style === \"filtered\") {\n        // Render as a text input coupled with a datalist\n        var inputContainer = document.createElement(\"div\");\n        inputContainer.style.width = \"100%\";\n        this._textInput = document.createElement(\"input\");\n        this._textInput.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-multichoiceInput\", \"ac-choiceSetInput-filtered\");\n        this._textInput.type = \"text\";\n        this._textInput.style.width = \"100%\";\n        this._textInput.oninput = function () {\n          _this.valueChanged();\n          if (_this._textInput) {\n            // Remove aria-label when value is not empty so narration software doesn't\n            // read the placeholder\n            if (_this.value) {\n              _this._textInput.removeAttribute(\"placeholder\");\n              _this._textInput.removeAttribute(\"aria-label\");\n            } else if (_this.placeholder) {\n              _this._textInput.placeholder = _this.placeholder;\n              _this._textInput.setAttribute(\"aria-label\", _this.placeholder);\n            }\n          }\n        };\n        if (this.defaultValue) {\n          this._textInput.value = this.defaultValue;\n        }\n        if (this.placeholder && !this._textInput.value) {\n          this._textInput.placeholder = this.placeholder;\n          this._textInput.setAttribute(\"aria-label\", this.placeholder);\n        }\n        this._textInput.tabIndex = this.isDesignMode() ? -1 : 0;\n        var dataList = document.createElement(\"datalist\");\n        dataList.id = Utils.generateUniqueId();\n        for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {\n          var choice = _a[_i];\n          var option = document.createElement(\"option\");\n          // To fix https://stackoverflow.com/questions/29882361/show-datalist-labels-but-submit-the-actual-value\n          // value is mapped to choice.title other than choice.value\n          if (choice.title) {\n            option.value = choice.title;\n            option.setAttribute(\"aria-label\", choice.title);\n          }\n          option.tabIndex = this.isDesignMode() ? -1 : 0;\n          dataList.appendChild(option);\n        }\n        this._textInput.setAttribute(\"list\", dataList.id);\n        inputContainer.append(this._textInput, dataList);\n        return inputContainer;\n      } else {\n        // Render as a combo box\n        this._selectElement = document.createElement(\"select\");\n        this._selectElement.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-multichoiceInput\", \"ac-choiceSetInput-compact\");\n        this._selectElement.style.width = \"100%\";\n        this._selectElement.tabIndex = this.isDesignMode() ? -1 : 0;\n        var placeholderOption = document.createElement(\"option\");\n        placeholderOption.selected = true;\n        placeholderOption.disabled = true;\n        placeholderOption.hidden = true;\n        placeholderOption.value = \"\";\n        if (this.placeholder) {\n          placeholderOption.text = this.placeholder;\n        }\n        Utils.appendChild(this._selectElement, placeholderOption);\n        for (var _b = 0, _c = this.choices; _b < _c.length; _b++) {\n          var choice = _c[_b];\n          var option = document.createElement(\"option\");\n          option.value = choice.value;\n          if (choice.title) {\n            option.text = choice.title;\n            option.setAttribute(\"aria-label\", choice.title);\n          }\n          option.tabIndex = this.isDesignMode() ? -1 : 0;\n          if (choice.value === this.defaultValue) {\n            option.selected = true;\n          }\n          Utils.appendChild(this._selectElement, option);\n        }\n        this._selectElement.onchange = function () {\n          _this.internalApplyAriaCurrent();\n          _this.valueChanged();\n        };\n        this.internalApplyAriaCurrent();\n        return this._selectElement;\n      }\n    }\n  };\n  ChoiceSetInput.prototype.getJsonTypeName = function () {\n    return \"Input.ChoiceSet\";\n  };\n  ChoiceSetInput.prototype.focus = function () {\n    if (this._toggleInputs && (this.isMultiSelect || this.style === \"expanded\")) {\n      if (this._toggleInputs.length > 0) {\n        this._toggleInputs[0].focus();\n      }\n    } else if (this._textInput) {\n      this._textInput.focus();\n    } else {\n      _super.prototype.focus.call(this);\n    }\n  };\n  ChoiceSetInput.prototype.internalValidateProperties = function (context) {\n    _super.prototype.internalValidateProperties.call(this, context);\n    if (this.choices.length === 0) {\n      context.addFailure(this, Enums.ValidationEvent.CollectionCantBeEmpty, strings_1.Strings.errors.choiceSetMustHaveAtLeastOneChoice());\n    }\n    for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {\n      var choice = _a[_i];\n      if (!choice.title || !choice.value) {\n        context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.choiceSetChoicesMustHaveTitleAndValue());\n      }\n    }\n  };\n  ChoiceSetInput.prototype.isSet = function () {\n    return this.value ? true : false;\n  };\n  ChoiceSetInput.prototype.isValid = function () {\n    if (this._textInput) {\n      if (this.value === \"\" || this.value === this.placeholder) {\n        return true;\n      }\n      for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {\n        var choice = _a[_i];\n        if (this.value === choice.value) {\n          return true;\n        }\n      }\n      return false;\n    }\n    return _super.prototype.isValid.call(this);\n  };\n  Object.defineProperty(ChoiceSetInput.prototype, \"value\", {\n    get: function () {\n      if (!this.isMultiSelect) {\n        if (this._selectElement) {\n          return this._selectElement.selectedIndex > 0 ? this._selectElement.value : undefined;\n        } else if (this._textInput) {\n          for (var _i = 0, _a = this.choices; _i < _a.length; _i++) {\n            var choice = _a[_i];\n            if (choice.title && this._textInput.value === choice.title) {\n              return choice.value;\n            }\n          }\n          return this._textInput.value;\n        } else if (this._toggleInputs && this._toggleInputs.length > 0) {\n          for (var _b = 0, _c = this._toggleInputs; _b < _c.length; _b++) {\n            var toggleInput = _c[_b];\n            if (toggleInput.checked) {\n              return toggleInput.value;\n            }\n          }\n        }\n        return undefined;\n      } else {\n        if (!this._toggleInputs || this._toggleInputs.length === 0) {\n          return undefined;\n        }\n        var result = \"\";\n        for (var _d = 0, _f = this._toggleInputs; _d < _f.length; _d++) {\n          var toggleInput = _f[_d];\n          if (toggleInput.checked) {\n            if (result !== \"\") {\n              result += this.hostConfig.choiceSetInputValueSeparator;\n            }\n            result += toggleInput.value;\n          }\n        }\n        return result ? result : undefined;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ChoiceSetInput.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n  ChoiceSetInput.choicesProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_0, \"choices\", Choice);\n  ChoiceSetInput.styleProperty = new serialization_1.ValueSetProperty(serialization_1.Versions.v1_0, \"style\", [{\n    value: \"compact\"\n  }, {\n    value: \"expanded\"\n  }, {\n    value: \"filtered\",\n    targetVersion: serialization_1.Versions.v1_5\n  }], \"compact\");\n  ChoiceSetInput.isMultiSelectProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"isMultiSelect\", false);\n  ChoiceSetInput.placeholderProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"placeholder\");\n  ChoiceSetInput.wrapProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"wrap\", false);\n  //#endregion\n  ChoiceSetInput._uniqueCategoryCounter = 0;\n  __decorate([(0, serialization_1.property)(ChoiceSetInput.valueProperty)], ChoiceSetInput.prototype, \"defaultValue\", void 0);\n  __decorate([(0, serialization_1.property)(ChoiceSetInput.styleProperty)], ChoiceSetInput.prototype, \"style\", void 0);\n  __decorate([(0, serialization_1.property)(ChoiceSetInput.isMultiSelectProperty)], ChoiceSetInput.prototype, \"isMultiSelect\", void 0);\n  __decorate([(0, serialization_1.property)(ChoiceSetInput.placeholderProperty)], ChoiceSetInput.prototype, \"placeholder\", void 0);\n  __decorate([(0, serialization_1.property)(ChoiceSetInput.wrapProperty)], ChoiceSetInput.prototype, \"wrap\", void 0);\n  __decorate([(0, serialization_1.property)(ChoiceSetInput.choicesProperty)], ChoiceSetInput.prototype, \"choices\", void 0);\n  return ChoiceSetInput;\n}(Input);\nexports.ChoiceSetInput = ChoiceSetInput;\nvar NumberInput = /** @class */function (_super) {\n  __extends(NumberInput, _super);\n  function NumberInput() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  NumberInput.prototype.internalRender = function () {\n    var _this = this;\n    this._numberInputElement = document.createElement(\"input\");\n    this._numberInputElement.setAttribute(\"type\", \"number\");\n    if (this.min !== undefined) {\n      this._numberInputElement.setAttribute(\"min\", this.min.toString());\n    }\n    if (this.max !== undefined) {\n      this._numberInputElement.setAttribute(\"max\", this.max.toString());\n    }\n    this._numberInputElement.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-numberInput\");\n    this._numberInputElement.style.width = \"100%\";\n    this._numberInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n    if (this.defaultValue !== undefined) {\n      this._numberInputElement.valueAsNumber = this.defaultValue;\n    }\n    if (this.placeholder) {\n      this._numberInputElement.placeholder = this.placeholder;\n      this._numberInputElement.setAttribute(\"aria-label\", this.placeholder);\n    }\n    this._numberInputElement.oninput = function () {\n      _this.valueChanged();\n    };\n    return this._numberInputElement;\n  };\n  NumberInput.prototype.getJsonTypeName = function () {\n    return \"Input.Number\";\n  };\n  NumberInput.prototype.isSet = function () {\n    return this.value !== undefined && !isNaN(this.value);\n  };\n  NumberInput.prototype.isValid = function () {\n    if (this.value === undefined) {\n      return !this.isRequired;\n    }\n    var result = true;\n    if (this.min !== undefined) {\n      result = result && this.value >= this.min;\n    }\n    if (this.max !== undefined) {\n      result = result && this.value <= this.max;\n    }\n    return result;\n  };\n  Object.defineProperty(NumberInput.prototype, \"value\", {\n    get: function () {\n      return this._numberInputElement ? this._numberInputElement.valueAsNumber : undefined;\n    },\n    set: function (value) {\n      if (value && this._numberInputElement) {\n        this._numberInputElement.value = value.toString();\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  //#region Schema\n  NumberInput.valueProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_0, \"value\");\n  NumberInput.placeholderProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"placeholder\");\n  NumberInput.minProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_0, \"min\");\n  NumberInput.maxProperty = new serialization_1.NumProperty(serialization_1.Versions.v1_0, \"max\");\n  __decorate([(0, serialization_1.property)(NumberInput.valueProperty)], NumberInput.prototype, \"defaultValue\", void 0);\n  __decorate([(0, serialization_1.property)(NumberInput.minProperty)], NumberInput.prototype, \"min\", void 0);\n  __decorate([(0, serialization_1.property)(NumberInput.maxProperty)], NumberInput.prototype, \"max\", void 0);\n  __decorate([(0, serialization_1.property)(NumberInput.placeholderProperty)], NumberInput.prototype, \"placeholder\", void 0);\n  return NumberInput;\n}(Input);\nexports.NumberInput = NumberInput;\nvar DateInput = /** @class */function (_super) {\n  __extends(DateInput, _super);\n  function DateInput() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  DateInput.prototype.internalRender = function () {\n    var _this = this;\n    this._dateInputElement = document.createElement(\"input\");\n    this._dateInputElement.setAttribute(\"type\", \"date\");\n    if (this.min) {\n      this._dateInputElement.setAttribute(\"min\", this.min);\n    }\n    if (this.max) {\n      this._dateInputElement.setAttribute(\"max\", this.max);\n    }\n    if (this.placeholder) {\n      this._dateInputElement.placeholder = this.placeholder;\n      this._dateInputElement.setAttribute(\"aria-label\", this.placeholder);\n    }\n    this._dateInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n    this._dateInputElement.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-dateInput\");\n    this._dateInputElement.style.width = \"100%\";\n    this._dateInputElement.oninput = function () {\n      _this.valueChanged();\n    };\n    if (this.defaultValue) {\n      this._dateInputElement.value = this.defaultValue;\n    }\n    return this._dateInputElement;\n  };\n  DateInput.prototype.getJsonTypeName = function () {\n    return \"Input.Date\";\n  };\n  DateInput.prototype.isSet = function () {\n    return this.value ? true : false;\n  };\n  DateInput.prototype.isValid = function () {\n    if (!this.value) {\n      return !this.isRequired;\n    }\n    var valueAsDate = new Date(this.value);\n    var result = true;\n    if (this.min) {\n      var minDate = new Date(this.min);\n      result = result && valueAsDate >= minDate;\n    }\n    if (this.max) {\n      var maxDate = new Date(this.max);\n      result = result && valueAsDate <= maxDate;\n    }\n    return result;\n  };\n  Object.defineProperty(DateInput.prototype, \"value\", {\n    get: function () {\n      return this._dateInputElement ? this._dateInputElement.value : undefined;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  //#region Schema\n  DateInput.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"value\");\n  DateInput.placeholderProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"placeholder\");\n  DateInput.minProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"min\");\n  DateInput.maxProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"max\");\n  __decorate([(0, serialization_1.property)(DateInput.valueProperty)], DateInput.prototype, \"defaultValue\", void 0);\n  __decorate([(0, serialization_1.property)(DateInput.minProperty)], DateInput.prototype, \"min\", void 0);\n  __decorate([(0, serialization_1.property)(DateInput.maxProperty)], DateInput.prototype, \"max\", void 0);\n  __decorate([(0, serialization_1.property)(DateInput.placeholderProperty)], DateInput.prototype, \"placeholder\", void 0);\n  return DateInput;\n}(Input);\nexports.DateInput = DateInput;\nvar TimeProperty = /** @class */function (_super) {\n  __extends(TimeProperty, _super);\n  function TimeProperty(targetVersion, name) {\n    var _this = _super.call(this, targetVersion, name, function (sender, prop, source, context) {\n      var value = source[prop.name];\n      if (typeof value === \"string\" && value && /^[0-9]{2}:[0-9]{2}$/.test(value)) {\n        return value;\n      }\n      return undefined;\n    }, function (sender, prop, target, value, context) {\n      context.serializeValue(target, prop.name, value);\n    }) || this;\n    _this.targetVersion = targetVersion;\n    _this.name = name;\n    return _this;\n  }\n  return TimeProperty;\n}(serialization_1.CustomProperty);\nexports.TimeProperty = TimeProperty;\nvar TimeInput = /** @class */function (_super) {\n  __extends(TimeInput, _super);\n  function TimeInput() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  TimeInput.convertTimeStringToDate = function (timeString) {\n    return new Date(\"1973-09-04T\" + timeString + \":00Z\");\n  };\n  TimeInput.prototype.internalRender = function () {\n    var _this = this;\n    this._timeInputElement = document.createElement(\"input\");\n    this._timeInputElement.setAttribute(\"type\", \"time\");\n    if (this.min) {\n      this._timeInputElement.setAttribute(\"min\", this.min);\n    }\n    if (this.max) {\n      this._timeInputElement.setAttribute(\"max\", this.max);\n    }\n    this._timeInputElement.className = this.hostConfig.makeCssClassName(\"ac-input\", \"ac-timeInput\");\n    this._timeInputElement.style.width = \"100%\";\n    this._timeInputElement.oninput = function () {\n      _this.valueChanged();\n    };\n    if (this.placeholder) {\n      this._timeInputElement.placeholder = this.placeholder;\n      this._timeInputElement.setAttribute(\"aria-label\", this.placeholder);\n    }\n    this._timeInputElement.tabIndex = this.isDesignMode() ? -1 : 0;\n    if (this.defaultValue) {\n      this._timeInputElement.value = this.defaultValue;\n    }\n    return this._timeInputElement;\n  };\n  TimeInput.prototype.getJsonTypeName = function () {\n    return \"Input.Time\";\n  };\n  TimeInput.prototype.isSet = function () {\n    return this.value ? true : false;\n  };\n  TimeInput.prototype.isValid = function () {\n    if (!this.value) {\n      return !this.isRequired;\n    }\n    var valueAsDate = TimeInput.convertTimeStringToDate(this.value);\n    var result = true;\n    if (this.min) {\n      var minDate = TimeInput.convertTimeStringToDate(this.min);\n      result = result && valueAsDate >= minDate;\n    }\n    if (this.max) {\n      var maxDate = TimeInput.convertTimeStringToDate(this.max);\n      result = result && valueAsDate <= maxDate;\n    }\n    return result;\n  };\n  Object.defineProperty(TimeInput.prototype, \"value\", {\n    get: function () {\n      return this._timeInputElement ? this._timeInputElement.value : undefined;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  //#region Schema\n  TimeInput.valueProperty = new TimeProperty(serialization_1.Versions.v1_0, \"value\");\n  TimeInput.placeholderProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"placeholder\");\n  TimeInput.minProperty = new TimeProperty(serialization_1.Versions.v1_0, \"min\");\n  TimeInput.maxProperty = new TimeProperty(serialization_1.Versions.v1_0, \"max\");\n  __decorate([(0, serialization_1.property)(TimeInput.valueProperty)], TimeInput.prototype, \"defaultValue\", void 0);\n  __decorate([(0, serialization_1.property)(TimeInput.minProperty)], TimeInput.prototype, \"min\", void 0);\n  __decorate([(0, serialization_1.property)(TimeInput.maxProperty)], TimeInput.prototype, \"max\", void 0);\n  __decorate([(0, serialization_1.property)(TimeInput.placeholderProperty)], TimeInput.prototype, \"placeholder\", void 0);\n  return TimeInput;\n}(Input);\nexports.TimeInput = TimeInput;\nvar Action = /** @class */function (_super) {\n  __extends(Action, _super);\n  function Action() {\n    //#region Schema\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.style = Enums.ActionStyle.Default;\n    _this.mode = Enums.ActionMode.Primary;\n    _this._state = 0 /* Normal */;\n    _this._isFocusable = true;\n    return _this;\n  }\n  //#endregion\n  Action.prototype.renderButtonContent = function () {\n    if (this.renderedElement) {\n      // Cache hostConfig for perf\n      var hostConfig = this.hostConfig;\n      var titleElement = document.createElement(\"div\");\n      titleElement.style.overflow = \"hidden\";\n      titleElement.style.textOverflow = \"ellipsis\";\n      if (!(hostConfig.actions.iconPlacement === Enums.ActionIconPlacement.AboveTitle || hostConfig.actions.allowTitleToWrap)) {\n        titleElement.style.whiteSpace = \"nowrap\";\n      }\n      if (this.title) {\n        titleElement.innerText = this.title;\n      }\n      if (!this.iconUrl) {\n        this.renderedElement.classList.add(\"noIcon\");\n        this.renderedElement.appendChild(titleElement);\n      } else {\n        var iconElement = document.createElement(\"img\");\n        iconElement.src = this.iconUrl;\n        iconElement.style.width = hostConfig.actions.iconSize + \"px\";\n        iconElement.style.height = hostConfig.actions.iconSize + \"px\";\n        iconElement.style.flex = \"0 0 auto\";\n        if (hostConfig.actions.iconPlacement === Enums.ActionIconPlacement.AboveTitle) {\n          this.renderedElement.classList.add(\"iconAbove\");\n          this.renderedElement.style.flexDirection = \"column\";\n          if (this.title) {\n            iconElement.style.marginBottom = \"6px\";\n          }\n        } else {\n          this.renderedElement.classList.add(\"iconLeft\");\n          iconElement.style.maxHeight = \"100%\";\n          if (this.title) {\n            iconElement.style.marginRight = \"6px\";\n          }\n        }\n        this.renderedElement.appendChild(iconElement);\n        this.renderedElement.appendChild(titleElement);\n      }\n    }\n  };\n  Action.prototype.getParentContainer = function () {\n    if (this.parent instanceof Container) {\n      return this.parent;\n    }\n    return this.parent ? this.parent.getParentContainer() : undefined;\n  };\n  Action.prototype.isDesignMode = function () {\n    var rootElement = this.getRootObject();\n    return rootElement instanceof CardElement && rootElement.isDesignMode();\n  };\n  Action.prototype.updateCssClasses = function () {\n    var _a, _b;\n    if (this.parent && this.renderedElement) {\n      var hostConfig = this.parent.hostConfig;\n      this.renderedElement.className = hostConfig.makeCssClassName(this.isEffectivelyEnabled() ? \"ac-pushButton\" : \"ac-pushButton-disabled\");\n      var parentContainer = this.getParentContainer();\n      if (parentContainer) {\n        var parentContainerStyle = parentContainer.getEffectiveStyle();\n        if (parentContainerStyle) {\n          this.renderedElement.classList.add(\"style-\" + parentContainerStyle);\n        }\n      }\n      this.renderedElement.tabIndex = !this.isDesignMode() && this.isFocusable ? 0 : -1;\n      switch (this._state) {\n        case 0 /* Normal */:\n          // No additional classes needed\n          break;\n        case 1 /* Expanded */:\n          this.renderedElement.classList.add(hostConfig.makeCssClassName(\"expanded\"));\n          break;\n        case 2 /* Subdued */:\n          this.renderedElement.classList.add(hostConfig.makeCssClassName(\"subdued\"));\n          break;\n      }\n      if (this.style && this.isEffectivelyEnabled()) {\n        if (this.style === Enums.ActionStyle.Positive) {\n          (_a = this.renderedElement.classList).add.apply(_a, hostConfig.makeCssClassNames(\"primary\", \"style-positive\"));\n        } else {\n          (_b = this.renderedElement.classList).add.apply(_b, hostConfig.makeCssClassNames(\"style-\" + this.style.toLowerCase()));\n        }\n      }\n    }\n  };\n  Action.prototype.getDefaultSerializationContext = function () {\n    return new SerializationContext();\n  };\n  Action.prototype.internalGetReferencedInputs = function () {\n    return {};\n  };\n  Action.prototype.internalPrepareForExecution = function (_inputs) {\n    // Do nothing in base implementation\n  };\n  Action.prototype.internalValidateInputs = function (referencedInputs) {\n    var result = [];\n    if (referencedInputs) {\n      for (var _i = 0, _a = Object.keys(referencedInputs); _i < _a.length; _i++) {\n        var key = _a[_i];\n        var input = referencedInputs[key];\n        if (!input.validateValue()) {\n          result.push(input);\n        }\n      }\n    }\n    return result;\n  };\n  Action.prototype.shouldSerialize = function (context) {\n    return context.actionRegistry.findByName(this.getJsonTypeName()) !== undefined;\n  };\n  Action.prototype.raiseExecuteActionEvent = function () {\n    if (this.onExecute) {\n      this.onExecute(this);\n    }\n    raiseExecuteActionEvent(this);\n  };\n  Action.prototype.internalAfterExecute = function () {\n    var rootObject = this.getRootObject();\n    if (rootObject instanceof CardElement) {\n      rootObject.updateActionsEnabledState();\n    }\n  };\n  Action.prototype.getHref = function () {\n    return \"\";\n  };\n  Action.prototype.getAriaRole = function () {\n    return \"button\";\n  };\n  Action.prototype.setupElementForAccessibility = function (element, promoteTooltipToLabel) {\n    if (promoteTooltipToLabel === void 0) {\n      promoteTooltipToLabel = false;\n    }\n    element.tabIndex = this.isEffectivelyEnabled() && !this.isDesignMode() ? 0 : -1;\n    element.setAttribute(\"role\", this.getAriaRole());\n    if (element instanceof HTMLButtonElement) {\n      element.disabled = !this.isEffectivelyEnabled();\n    }\n    if (!this.isEffectivelyEnabled()) {\n      element.setAttribute(\"aria-disabled\", \"true\");\n    } else {\n      element.removeAttribute(\"aria-disabled\");\n      element.classList.add(this.hostConfig.makeCssClassName(\"ac-selectable\"));\n    }\n    if (this.title) {\n      element.setAttribute(\"aria-label\", this.title);\n      element.title = this.title;\n    } else {\n      element.removeAttribute(\"aria-label\");\n      element.removeAttribute(\"title\");\n    }\n    if (this.tooltip) {\n      var targetAriaAttribute = promoteTooltipToLabel ? this.title ? \"aria-description\" : \"aria-label\" : \"aria-description\";\n      element.setAttribute(targetAriaAttribute, this.tooltip);\n      element.title = this.tooltip;\n    }\n  };\n  Action.prototype.parse = function (source, context) {\n    return _super.prototype.parse.call(this, source, context ? context : new SerializationContext());\n  };\n  Action.prototype.render = function () {\n    var _this = this;\n    var buttonElement = document.createElement(\"button\");\n    buttonElement.type = \"button\";\n    buttonElement.style.display = \"flex\";\n    buttonElement.style.alignItems = \"center\";\n    buttonElement.style.justifyContent = \"center\";\n    buttonElement.onclick = function (e) {\n      if (_this.isEffectivelyEnabled()) {\n        e.preventDefault();\n        e.cancelBubble = true;\n        _this.execute();\n      }\n    };\n    this._renderedElement = buttonElement;\n    this.renderButtonContent();\n    this.updateCssClasses();\n    this.setupElementForAccessibility(buttonElement);\n  };\n  Action.prototype.execute = function () {\n    if (this._actionCollection) {\n      this._actionCollection.actionExecuted(this);\n    }\n    this.raiseExecuteActionEvent();\n    this.internalAfterExecute();\n  };\n  Action.prototype.prepareForExecution = function () {\n    var referencedInputs = this.getReferencedInputs();\n    var invalidInputs = this.internalValidateInputs(referencedInputs);\n    if (invalidInputs.length > 0) {\n      invalidInputs[0].focus();\n      return false;\n    }\n    this.internalPrepareForExecution(referencedInputs);\n    return true;\n  };\n  Action.prototype.remove = function () {\n    if (this._actionCollection) {\n      return this._actionCollection.removeAction(this);\n    }\n    return false;\n  };\n  Action.prototype.getAllInputs = function (processActions) {\n    if (processActions === void 0) {\n      processActions = true;\n    }\n    return [];\n  };\n  Action.prototype.getAllActions = function () {\n    return [this];\n  };\n  Action.prototype.getResourceInformation = function () {\n    return this.iconUrl ? [{\n      url: this.iconUrl,\n      mimeType: \"image\"\n    }] : [];\n  };\n  Action.prototype.getActionById = function (id) {\n    return this.id === id ? this : undefined;\n  };\n  Action.prototype.getReferencedInputs = function () {\n    return this.internalGetReferencedInputs();\n  };\n  /**\r\n   * Validates the inputs associated with this action.\r\n   *\r\n   * @returns A list of inputs that failed validation, or an empty array if no input failed validation.\r\n   */\n  Action.prototype.validateInputs = function () {\n    return this.internalValidateInputs(this.getReferencedInputs());\n  };\n  Action.prototype.updateEnabledState = function () {\n    // Do nothing in base implementation\n  };\n  Action.prototype.isEffectivelyEnabled = function () {\n    return this.isEnabled;\n  };\n  Object.defineProperty(Action.prototype, \"isPrimary\", {\n    get: function () {\n      return this.style === Enums.ActionStyle.Positive;\n    },\n    set: function (value) {\n      if (value) {\n        this.style = Enums.ActionStyle.Positive;\n      } else {\n        if (this.style === Enums.ActionStyle.Positive) {\n          this.style = Enums.ActionStyle.Default;\n        }\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Action.prototype, \"hostConfig\", {\n    get: function () {\n      return this.parent ? this.parent.hostConfig : host_config_1.defaultHostConfig;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Action.prototype, \"parent\", {\n    get: function () {\n      return this._parent;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Action.prototype, \"state\", {\n    get: function () {\n      return this._state;\n    },\n    set: function (value) {\n      if (this._state !== value) {\n        this._state = value;\n        this.updateCssClasses();\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Action.prototype, \"isFocusable\", {\n    get: function () {\n      return this._isFocusable;\n    },\n    set: function (value) {\n      if (this._isFocusable !== value) {\n        this._isFocusable = value;\n        this.updateCssClasses();\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Action.titleProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"title\");\n  Action.iconUrlProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_1, \"iconUrl\");\n  Action.styleProperty = new serialization_1.ValueSetProperty(serialization_1.Versions.v1_2, \"style\", [{\n    value: Enums.ActionStyle.Default\n  }, {\n    value: Enums.ActionStyle.Positive\n  }, {\n    value: Enums.ActionStyle.Destructive\n  }], Enums.ActionStyle.Default);\n  Action.modeProperty = new serialization_1.ValueSetProperty(serialization_1.Versions.v1_5, \"mode\", [{\n    value: Enums.ActionMode.Primary\n  }, {\n    value: Enums.ActionMode.Secondary\n  }], Enums.ActionMode.Primary);\n  Action.tooltipProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_5, \"tooltip\");\n  Action.isEnabledProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_5, \"isEnabled\", true);\n  __decorate([(0, serialization_1.property)(Action.titleProperty)], Action.prototype, \"title\", void 0);\n  __decorate([(0, serialization_1.property)(Action.iconUrlProperty)], Action.prototype, \"iconUrl\", void 0);\n  __decorate([(0, serialization_1.property)(Action.styleProperty)], Action.prototype, \"style\", void 0);\n  __decorate([(0, serialization_1.property)(Action.modeProperty)], Action.prototype, \"mode\", void 0);\n  __decorate([(0, serialization_1.property)(Action.tooltipProperty)], Action.prototype, \"tooltip\", void 0);\n  __decorate([(0, serialization_1.property)(Action.isEnabledProperty)], Action.prototype, \"isEnabled\", void 0);\n  return Action;\n}(card_object_1.CardObject);\nexports.Action = Action;\nvar SubmitActionBase = /** @class */function (_super) {\n  __extends(SubmitActionBase, _super);\n  function SubmitActionBase() {\n    //#region Schema\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.disabledUnlessAssociatedInputsChange = false;\n    //#endregion\n    _this._isPrepared = false;\n    _this._areReferencedInputsDirty = false;\n    return _this;\n  }\n  SubmitActionBase.prototype.internalGetReferencedInputs = function () {\n    var result = {};\n    if (this.associatedInputs !== \"none\") {\n      var current = this.parent;\n      var inputs = [];\n      while (current) {\n        inputs.push.apply(inputs, current.getAllInputs(false));\n        current = current.parent;\n      }\n      for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        if (input.id) {\n          result[input.id] = input;\n        }\n      }\n    }\n    return result;\n  };\n  SubmitActionBase.prototype.internalPrepareForExecution = function (inputs) {\n    if (this._originalData) {\n      this._processedData = JSON.parse(JSON.stringify(this._originalData));\n    } else {\n      this._processedData = {};\n    }\n    if (this._processedData && inputs) {\n      for (var _i = 0, _a = Object.keys(inputs); _i < _a.length; _i++) {\n        var key = _a[_i];\n        var input = inputs[key];\n        if (input.id && input.isSet()) {\n          this._processedData[input.id] = typeof input.value === \"string\" ? input.value : input.value.toString();\n        }\n      }\n    }\n    this._isPrepared = true;\n  };\n  SubmitActionBase.prototype.internalAfterExecute = function () {\n    if (shared_1.GlobalSettings.resetInputsDirtyStateAfterActionExecution) {\n      this.resetReferencedInputsDirtyState();\n    }\n  };\n  SubmitActionBase.prototype.resetReferencedInputsDirtyState = function () {\n    var referencedInputs = this.getReferencedInputs();\n    this._areReferencedInputsDirty = false;\n    if (referencedInputs) {\n      for (var _i = 0, _a = Object.keys(referencedInputs); _i < _a.length; _i++) {\n        var key = _a[_i];\n        var input = referencedInputs[key];\n        input.resetDirtyState();\n      }\n    }\n  };\n  SubmitActionBase.prototype.updateEnabledState = function () {\n    this._areReferencedInputsDirty = false;\n    var referencedInputs = this.getReferencedInputs();\n    if (referencedInputs) {\n      for (var _i = 0, _a = Object.keys(referencedInputs); _i < _a.length; _i++) {\n        var key = _a[_i];\n        var input = referencedInputs[key];\n        if (input.isDirty()) {\n          this._areReferencedInputsDirty = true;\n          break;\n        }\n      }\n    }\n    this.updateCssClasses();\n    if (this._renderedElement) {\n      this.setupElementForAccessibility(this._renderedElement);\n    }\n  };\n  SubmitActionBase.prototype.isEffectivelyEnabled = function () {\n    var result = _super.prototype.isEffectivelyEnabled.call(this);\n    return this.disabledUnlessAssociatedInputsChange ? result && this._areReferencedInputsDirty : result;\n  };\n  Object.defineProperty(SubmitActionBase.prototype, \"data\", {\n    get: function () {\n      return this._isPrepared ? this._processedData : this._originalData;\n    },\n    set: function (value) {\n      this._originalData = value;\n      this._isPrepared = false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  SubmitActionBase.dataProperty = new serialization_1.PropertyDefinition(serialization_1.Versions.v1_0, \"data\");\n  SubmitActionBase.associatedInputsProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_3, \"associatedInputs\", function (sender, prop, source, context) {\n    var value = source[prop.name];\n    if (value !== undefined && typeof value === \"string\") {\n      return value.toLowerCase() === \"none\" ? \"none\" : \"auto\";\n    }\n    return undefined;\n  }, function (sender, prop, target, value, context) {\n    context.serializeValue(target, prop.name, value);\n  });\n  SubmitActionBase.disabledUnlessAssociatedInputsChangeProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_6, \"disabledUnlessAssociatedInputsChange\", false);\n  __decorate([(0, serialization_1.property)(SubmitActionBase.dataProperty)], SubmitActionBase.prototype, \"_originalData\", void 0);\n  __decorate([(0, serialization_1.property)(SubmitActionBase.associatedInputsProperty)], SubmitActionBase.prototype, \"associatedInputs\", void 0);\n  __decorate([(0, serialization_1.property)(SubmitActionBase.disabledUnlessAssociatedInputsChangeProperty)], SubmitActionBase.prototype, \"disabledUnlessAssociatedInputsChange\", void 0);\n  return SubmitActionBase;\n}(Action);\nexports.SubmitActionBase = SubmitActionBase;\nvar SubmitAction = /** @class */function (_super) {\n  __extends(SubmitAction, _super);\n  function SubmitAction() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  SubmitAction.prototype.getJsonTypeName = function () {\n    return SubmitAction.JsonTypeName;\n  };\n  // Note the \"weird\" way this field is declared is to work around a breaking\n  // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n  SubmitAction.JsonTypeName = \"Action.Submit\";\n  return SubmitAction;\n}(SubmitActionBase);\nexports.SubmitAction = SubmitAction;\nvar ExecuteAction = /** @class */function (_super) {\n  __extends(ExecuteAction, _super);\n  function ExecuteAction() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  //#endregion\n  ExecuteAction.prototype.getJsonTypeName = function () {\n    return ExecuteAction.JsonTypeName;\n  };\n  // Note the \"weird\" way this field is declared is to work around a breaking\n  // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n  ExecuteAction.JsonTypeName = \"Action.Execute\";\n  //#region Schema\n  ExecuteAction.verbProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"verb\");\n  __decorate([(0, serialization_1.property)(ExecuteAction.verbProperty)], ExecuteAction.prototype, \"verb\", void 0);\n  return ExecuteAction;\n}(SubmitActionBase);\nexports.ExecuteAction = ExecuteAction;\nvar OpenUrlAction = /** @class */function (_super) {\n  __extends(OpenUrlAction, _super);\n  function OpenUrlAction() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  OpenUrlAction.prototype.getJsonTypeName = function () {\n    return OpenUrlAction.JsonTypeName;\n  };\n  OpenUrlAction.prototype.getAriaRole = function () {\n    return \"link\";\n  };\n  OpenUrlAction.prototype.internalValidateProperties = function (context) {\n    _super.prototype.internalValidateProperties.call(this, context);\n    if (!this.url) {\n      context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.propertyMustBeSet(\"url\"));\n    }\n  };\n  OpenUrlAction.prototype.getHref = function () {\n    return this.url;\n  };\n  //#region Schema\n  OpenUrlAction.urlProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"url\");\n  //#endregion\n  // Note the \"weird\" way this field is declared is to work around a breaking\n  // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n  OpenUrlAction.JsonTypeName = \"Action.OpenUrl\";\n  __decorate([(0, serialization_1.property)(OpenUrlAction.urlProperty)], OpenUrlAction.prototype, \"url\", void 0);\n  return OpenUrlAction;\n}(Action);\nexports.OpenUrlAction = OpenUrlAction;\nvar ToggleVisibilityAction = /** @class */function (_super) {\n  __extends(ToggleVisibilityAction, _super);\n  function ToggleVisibilityAction() {\n    //#region Schema\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.targetElements = {};\n    return _this;\n  }\n  ToggleVisibilityAction.prototype.updateAriaControlsAttribute = function () {\n    // apply aria labels to make it clear which elements this action will toggle\n    if (this.targetElements) {\n      var elementIds = Object.keys(this.targetElements);\n      if (this._renderedElement) {\n        if (elementIds.length > 0) {\n          this._renderedElement.setAttribute(\"aria-controls\", elementIds.join(\" \"));\n        } else {\n          this._renderedElement.removeAttribute(\"aria-controls\");\n        }\n      }\n    }\n  };\n  ToggleVisibilityAction.prototype.internalValidateProperties = function (context) {\n    _super.prototype.internalValidateProperties.call(this, context);\n    if (!this.targetElements) {\n      context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.propertyMustBeSet(\"targetElements\"));\n    }\n  };\n  ToggleVisibilityAction.prototype.getJsonTypeName = function () {\n    return ToggleVisibilityAction.JsonTypeName;\n  };\n  ToggleVisibilityAction.prototype.render = function () {\n    _super.prototype.render.call(this);\n    this.updateAriaControlsAttribute();\n  };\n  ToggleVisibilityAction.prototype.execute = function () {\n    _super.prototype.execute.call(this);\n    if (this.parent) {\n      for (var _i = 0, _a = Object.keys(this.targetElements); _i < _a.length; _i++) {\n        var elementId = _a[_i];\n        var targetElement = this.parent.getRootElement().getElementById(elementId);\n        if (targetElement) {\n          if (typeof this.targetElements[elementId] === \"boolean\") {\n            targetElement.isVisible = this.targetElements[elementId];\n          } else {\n            targetElement.isVisible = !targetElement.isVisible;\n          }\n        }\n      }\n    }\n  };\n  ToggleVisibilityAction.prototype.addTargetElement = function (elementId, isVisible) {\n    if (isVisible === void 0) {\n      isVisible = undefined;\n    }\n    this.targetElements[elementId] = isVisible;\n    this.updateAriaControlsAttribute();\n  };\n  ToggleVisibilityAction.prototype.removeTargetElement = function (elementId) {\n    delete this.targetElements[elementId];\n    this.updateAriaControlsAttribute();\n  };\n  ToggleVisibilityAction.targetElementsProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_2, \"targetElements\", function (sender, prop, source, context) {\n    var result = {};\n    if (Array.isArray(source[prop.name])) {\n      for (var _i = 0, _a = source[prop.name]; _i < _a.length; _i++) {\n        var item = _a[_i];\n        if (typeof item === \"string\") {\n          result[item] = undefined;\n        } else if (typeof item === \"object\") {\n          var elementId = item[\"elementId\"];\n          if (typeof elementId === \"string\") {\n            result[elementId] = Utils.parseBool(item[\"isVisible\"]);\n          }\n        }\n      }\n    }\n    return result;\n  }, function (sender, prop, target, value, context) {\n    var targetElements = [];\n    for (var _i = 0, _a = Object.keys(value); _i < _a.length; _i++) {\n      var id = _a[_i];\n      if (typeof value[id] === \"boolean\") {\n        targetElements.push({\n          elementId: id,\n          isVisible: value[id]\n        });\n      } else {\n        targetElements.push(id);\n      }\n    }\n    context.serializeArray(target, prop.name, targetElements);\n  }, {}, function (sender) {\n    return {};\n  });\n  //#endregion\n  // Note the \"weird\" way this field is declared is to work around a breaking\n  // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n  ToggleVisibilityAction.JsonTypeName = \"Action.ToggleVisibility\";\n  __decorate([(0, serialization_1.property)(ToggleVisibilityAction.targetElementsProperty)], ToggleVisibilityAction.prototype, \"targetElements\", void 0);\n  return ToggleVisibilityAction;\n}(Action);\nexports.ToggleVisibilityAction = ToggleVisibilityAction;\nvar StringWithSubstitutionProperty = /** @class */function (_super) {\n  __extends(StringWithSubstitutionProperty, _super);\n  function StringWithSubstitutionProperty(targetVersion, name) {\n    var _this = _super.call(this, targetVersion, name, undefined, function () {\n      return new shared_1.StringWithSubstitutions();\n    }) || this;\n    _this.targetVersion = targetVersion;\n    _this.name = name;\n    return _this;\n  }\n  StringWithSubstitutionProperty.prototype.parse = function (sender, source, context) {\n    var result = new shared_1.StringWithSubstitutions();\n    result.set(Utils.parseString(source[this.name]));\n    return result;\n  };\n  StringWithSubstitutionProperty.prototype.toJSON = function (sender, target, value, context) {\n    context.serializeValue(target, this.name, value.getOriginal());\n  };\n  return StringWithSubstitutionProperty;\n}(serialization_1.PropertyDefinition);\nvar HttpHeader = /** @class */function (_super) {\n  __extends(HttpHeader, _super);\n  //#endregion\n  function HttpHeader(name, value) {\n    if (name === void 0) {\n      name = \"\";\n    }\n    if (value === void 0) {\n      value = \"\";\n    }\n    var _this = _super.call(this) || this;\n    _this.name = name;\n    _this.value = value;\n    return _this;\n  }\n  HttpHeader.prototype.getSchemaKey = function () {\n    return \"HttpHeader\";\n  };\n  HttpHeader.prototype.getReferencedInputs = function (inputs, referencedInputs) {\n    this._value.getReferencedInputs(inputs, referencedInputs);\n  };\n  HttpHeader.prototype.prepareForExecution = function (inputs) {\n    this._value.substituteInputValues(inputs, shared_1.ContentTypes.applicationXWwwFormUrlencoded);\n  };\n  Object.defineProperty(HttpHeader.prototype, \"value\", {\n    get: function () {\n      return this._value.get();\n    },\n    set: function (newValue) {\n      this._value.set(newValue);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  //#region Schema\n  HttpHeader.nameProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"name\");\n  HttpHeader.valueProperty = new StringWithSubstitutionProperty(serialization_1.Versions.v1_0, \"value\");\n  __decorate([(0, serialization_1.property)(HttpHeader.nameProperty)], HttpHeader.prototype, \"name\", void 0);\n  __decorate([(0, serialization_1.property)(HttpHeader.valueProperty)], HttpHeader.prototype, \"_value\", void 0);\n  return HttpHeader;\n}(serialization_1.SerializableObject);\nexports.HttpHeader = HttpHeader;\nvar HttpAction = /** @class */function (_super) {\n  __extends(HttpAction, _super);\n  function HttpAction() {\n    //#region Schema\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._ignoreInputValidation = false;\n    return _this;\n  }\n  HttpAction.prototype.internalGetReferencedInputs = function () {\n    var allInputs = this.parent ? this.parent.getRootElement().getAllInputs() : [];\n    var result = {};\n    this._url.getReferencedInputs(allInputs, result);\n    for (var _i = 0, _a = this.headers; _i < _a.length; _i++) {\n      var header = _a[_i];\n      header.getReferencedInputs(allInputs, result);\n    }\n    this._body.getReferencedInputs(allInputs, result);\n    return result;\n  };\n  HttpAction.prototype.internalPrepareForExecution = function (inputs) {\n    if (inputs) {\n      this._url.substituteInputValues(inputs, shared_1.ContentTypes.applicationXWwwFormUrlencoded);\n      var contentType = shared_1.ContentTypes.applicationJson;\n      for (var _i = 0, _a = this.headers; _i < _a.length; _i++) {\n        var header = _a[_i];\n        header.prepareForExecution(inputs);\n        if (header.name && header.name.toLowerCase() === \"content-type\") {\n          contentType = header.value;\n        }\n      }\n      this._body.substituteInputValues(inputs, contentType);\n    }\n  };\n  HttpAction.prototype.getJsonTypeName = function () {\n    return HttpAction.JsonTypeName;\n  };\n  HttpAction.prototype.internalValidateProperties = function (context) {\n    _super.prototype.internalValidateProperties.call(this, context);\n    if (!this.url) {\n      context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.propertyMustBeSet(\"url\"));\n    }\n    if (this.headers.length > 0) {\n      for (var _i = 0, _a = this.headers; _i < _a.length; _i++) {\n        var header = _a[_i];\n        if (!header.name) {\n          context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.actionHttpHeadersMustHaveNameAndValue());\n        }\n      }\n    }\n  };\n  Object.defineProperty(HttpAction.prototype, \"ignoreInputValidation\", {\n    get: function () {\n      return this._ignoreInputValidation;\n    },\n    set: function (value) {\n      this._ignoreInputValidation = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HttpAction.prototype, \"url\", {\n    get: function () {\n      return this._url.get();\n    },\n    set: function (value) {\n      this._url.set(value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(HttpAction.prototype, \"body\", {\n    get: function () {\n      return this._body.get();\n    },\n    set: function (value) {\n      this._body.set(value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  HttpAction.urlProperty = new StringWithSubstitutionProperty(serialization_1.Versions.v1_0, \"url\");\n  HttpAction.bodyProperty = new StringWithSubstitutionProperty(serialization_1.Versions.v1_0, \"body\");\n  HttpAction.methodProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"method\");\n  HttpAction.headersProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_0, \"headers\", HttpHeader);\n  HttpAction.ignoreInputValidationProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_3, \"ignoreInputValidation\", false);\n  //#endregion\n  // Note the \"weird\" way this field is declared is to work around a breaking\n  // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n  HttpAction.JsonTypeName = \"Action.Http\";\n  __decorate([(0, serialization_1.property)(HttpAction.urlProperty)], HttpAction.prototype, \"_url\", void 0);\n  __decorate([(0, serialization_1.property)(HttpAction.bodyProperty)], HttpAction.prototype, \"_body\", void 0);\n  __decorate([(0, serialization_1.property)(HttpAction.methodProperty)], HttpAction.prototype, \"method\", void 0);\n  __decorate([(0, serialization_1.property)(HttpAction.headersProperty)], HttpAction.prototype, \"headers\", void 0);\n  __decorate([(0, serialization_1.property)(HttpAction.ignoreInputValidationProperty)], HttpAction.prototype, \"_ignoreInputValidation\", void 0);\n  return HttpAction;\n}(Action);\nexports.HttpAction = HttpAction;\nvar ShowCardAction = /** @class */function (_super) {\n  __extends(ShowCardAction, _super);\n  function ShowCardAction() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.card = new InlineAdaptiveCard();\n    return _this;\n  }\n  ShowCardAction.prototype.updateCssClasses = function () {\n    _super.prototype.updateCssClasses.call(this);\n    if (this.renderedElement) {\n      var effectiveHostConfig = this.parent ? this.parent.hostConfig : host_config_1.defaultHostConfig;\n      this.renderedElement.classList.add(effectiveHostConfig.makeCssClassName(\"expandable\"));\n      this.renderedElement.setAttribute(\"aria-expanded\", (this.state === 1 /* Expanded */).toString());\n    }\n  };\n  ShowCardAction.prototype.internalParse = function (source, context) {\n    _super.prototype.internalParse.call(this, source, context);\n    var jsonCard = source[\"card\"];\n    if (jsonCard) {\n      this.card.parse(jsonCard, context);\n    } else {\n      context.logParseEvent(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.showCardMustHaveCard());\n    }\n  };\n  ShowCardAction.prototype.internalToJSON = function (target, context) {\n    _super.prototype.internalToJSON.call(this, target, context);\n    if (this.card) {\n      context.serializeValue(target, \"card\", this.card.toJSON(context));\n    }\n  };\n  ShowCardAction.prototype.raiseExecuteActionEvent = function () {\n    if (this.hostConfig.actions.showCard.actionMode === Enums.ShowCardActionMode.Popup) {\n      // Only raise the event in Popup mode.\n      _super.prototype.raiseExecuteActionEvent.call(this);\n    }\n  };\n  ShowCardAction.prototype.releaseDOMResources = function () {\n    _super.prototype.releaseDOMResources.call(this);\n    this.card.releaseDOMResources();\n  };\n  ShowCardAction.prototype.getJsonTypeName = function () {\n    return ShowCardAction.JsonTypeName;\n  };\n  ShowCardAction.prototype.internalValidateProperties = function (context) {\n    _super.prototype.internalValidateProperties.call(this, context);\n    this.card.internalValidateProperties(context);\n  };\n  ShowCardAction.prototype.setParent = function (value) {\n    _super.prototype.setParent.call(this, value);\n    this.card.setParent(value);\n  };\n  ShowCardAction.prototype.getAllInputs = function (processActions) {\n    if (processActions === void 0) {\n      processActions = true;\n    }\n    return this.card.getAllInputs(processActions);\n  };\n  ShowCardAction.prototype.getAllActions = function () {\n    var result = _super.prototype.getAllActions.call(this);\n    result.push.apply(result, this.card.getAllActions());\n    return result;\n  };\n  ShowCardAction.prototype.getResourceInformation = function () {\n    var result = _super.prototype.getResourceInformation.call(this);\n    result.push.apply(result, this.card.getResourceInformation());\n    return result;\n  };\n  ShowCardAction.prototype.getActionById = function (id) {\n    var result = _super.prototype.getActionById.call(this, id);\n    if (!result) {\n      result = this.card.getActionById(id);\n    }\n    return result;\n  };\n  // Note the \"weird\" way this field is declared is to work around a breaking\n  // change introduced in TS 3.1 wrt d.ts generation. DO NOT CHANGE\n  ShowCardAction.JsonTypeName = \"Action.ShowCard\";\n  return ShowCardAction;\n}(Action);\nexports.ShowCardAction = ShowCardAction;\nvar OverflowAction = /** @class */function (_super) {\n  __extends(OverflowAction, _super);\n  function OverflowAction(actions) {\n    var _this = _super.call(this) || this;\n    _this._actions = actions;\n    _this.title = strings_1.Strings.defaults.overflowButtonText();\n    return _this;\n  }\n  OverflowAction.prototype.getActions = function () {\n    return this._actions;\n  };\n  OverflowAction.prototype.getAllActions = function () {\n    var result = _super.prototype.getAllActions.call(this);\n    result.push.apply(result, this._actions);\n    return result;\n  };\n  OverflowAction.prototype.getJsonTypeName = function () {\n    return ShowCardAction.JsonTypeName;\n  };\n  OverflowAction.prototype.execute = function () {\n    var _this = this;\n    var _a;\n    var shouldDisplayPopupMenu = !raiseDisplayOverflowActionMenuEvent(this, this.renderedElement);\n    if (shouldDisplayPopupMenu && this.renderedElement) {\n      var contextMenu_1 = new controls_1.PopupMenu();\n      contextMenu_1.hostConfig = this.hostConfig;\n      var _loop_2 = function (i) {\n        var menuItem = new controls_1.MenuItem(i.toString(), (_a = this_1._actions[i].title) !== null && _a !== void 0 ? _a : \"\");\n        menuItem.isEnabled = this_1._actions[i].isEnabled;\n        menuItem.onClick = function () {\n          var actionToExecute = _this._actions[i];\n          contextMenu_1.closePopup(false);\n          if (actionToExecute.isEnabled) {\n            actionToExecute.execute();\n          }\n        };\n        contextMenu_1.items.add(menuItem);\n      };\n      var this_1 = this;\n      for (var i = 0; i < this._actions.length; i++) {\n        _loop_2(i);\n      }\n      contextMenu_1.popup(this.renderedElement);\n    }\n  };\n  OverflowAction.JsonTypeName = \"Action.Overflow\";\n  return OverflowAction;\n}(Action);\nvar ActionCollection = /** @class */function () {\n  function ActionCollection(owner) {\n    this._items = [];\n    this._renderedActions = [];\n    this._owner = owner;\n  }\n  ActionCollection.prototype.isActionAllowed = function (action) {\n    var forbiddenTypes = this._owner.getForbiddenActionTypes();\n    if (forbiddenTypes) {\n      for (var _i = 0, forbiddenTypes_1 = forbiddenTypes; _i < forbiddenTypes_1.length; _i++) {\n        var forbiddenType = forbiddenTypes_1[_i];\n        if (action.constructor === forbiddenType) {\n          return false;\n        }\n      }\n    }\n    return true;\n  };\n  ActionCollection.prototype.refreshContainer = function () {\n    clearElement(this._actionCardContainer);\n    if (!this._actionCard) {\n      this._actionCardContainer.style.marginTop = \"0px\";\n      return;\n    }\n    this._actionCardContainer.style.marginTop = this.renderedActionCount > 0 ? this._owner.hostConfig.actions.showCard.inlineTopMargin + \"px\" : \"0px\";\n    var padding = this._owner.getEffectivePadding();\n    this._owner.getImmediateSurroundingPadding(padding);\n    var physicalPadding = this._owner.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n    if (this._actionCard) {\n      this._actionCard.style.paddingLeft = physicalPadding.left + \"px\";\n      this._actionCard.style.paddingRight = physicalPadding.right + \"px\";\n      this._actionCard.style.marginLeft = \"-\" + physicalPadding.left + \"px\";\n      this._actionCard.style.marginRight = \"-\" + physicalPadding.right + \"px\";\n      if (physicalPadding.bottom !== 0 && !this._owner.isDesignMode()) {\n        this._actionCard.style.paddingBottom = physicalPadding.bottom + \"px\";\n        this._actionCard.style.marginBottom = \"-\" + physicalPadding.bottom + \"px\";\n      }\n      Utils.appendChild(this._actionCardContainer, this._actionCard);\n    }\n  };\n  ActionCollection.prototype.layoutChanged = function () {\n    this._owner.getRootElement().updateLayout();\n  };\n  ActionCollection.prototype.showActionCard = function (action, suppressStyle, raiseEvent) {\n    if (suppressStyle === void 0) {\n      suppressStyle = false;\n    }\n    if (raiseEvent === void 0) {\n      raiseEvent = true;\n    }\n    action.card.suppressStyle = suppressStyle;\n    // Always re-render a ShowCard action in design mode; reuse already rendered ShowCard (if available) otherwise\n    var renderedCard = action.card.renderedElement && !this._owner.isDesignMode() ? action.card.renderedElement : action.card.render();\n    this._actionCard = renderedCard;\n    this._expandedAction = action;\n    this.refreshContainer();\n    if (raiseEvent) {\n      this.layoutChanged();\n      raiseInlineCardExpandedEvent(action, true);\n    }\n  };\n  ActionCollection.prototype.collapseExpandedAction = function () {\n    for (var _i = 0, _a = this._renderedActions; _i < _a.length; _i++) {\n      var action = _a[_i];\n      action.state = 0 /* Normal */;\n    }\n\n    var previouslyExpandedAction = this._expandedAction;\n    this._expandedAction = undefined;\n    this._actionCard = undefined;\n    this.refreshContainer();\n    if (previouslyExpandedAction) {\n      this.layoutChanged();\n      raiseInlineCardExpandedEvent(previouslyExpandedAction, false);\n    }\n  };\n  ActionCollection.prototype.expandShowCardAction = function (action, raiseEvent) {\n    var _this = this;\n    var afterSelectedAction = false;\n    for (var _i = 0, _a = this._renderedActions; _i < _a.length; _i++) {\n      var renderedAction = _a[_i];\n      // Remove actions after selected action from tabOrder if the actions are oriented horizontally, to skip focus directly to expanded card\n      if (this._owner.hostConfig.actions.actionsOrientation == Enums.Orientation.Horizontal && afterSelectedAction) {\n        renderedAction.isFocusable = false;\n      }\n      if (renderedAction !== action) {\n        renderedAction.state = 2 /* Subdued */;\n      } else {\n        renderedAction.state = 1 /* Expanded */;\n        afterSelectedAction = true;\n        if (renderedAction.renderedElement) {\n          renderedAction.renderedElement.onblur = function (_e) {\n            for (var _i = 0, _a = _this._renderedActions; _i < _a.length; _i++) {\n              var ra = _a[_i];\n              ra.isFocusable = true;\n            }\n          };\n        }\n      }\n    }\n    this.showActionCard(action, !(this._owner.isAtTheVeryLeft() && this._owner.isAtTheVeryRight()), raiseEvent);\n  };\n  ActionCollection.prototype.releaseDOMResources = function () {\n    for (var _i = 0, _a = this._renderedActions; _i < _a.length; _i++) {\n      var action = _a[_i];\n      action.releaseDOMResources();\n    }\n  };\n  ActionCollection.prototype.actionExecuted = function (action) {\n    if (!(action instanceof ShowCardAction)) {\n      this.collapseExpandedAction();\n    } else {\n      if (action === this._expandedAction) {\n        this.collapseExpandedAction();\n      } else if (this._owner.hostConfig.actions.showCard.actionMode === Enums.ShowCardActionMode.Inline) {\n        this.expandShowCardAction(action, true);\n      }\n    }\n  };\n  ActionCollection.prototype.parse = function (source, context) {\n    this.clear();\n    if (Array.isArray(source)) {\n      for (var _i = 0, source_1 = source; _i < source_1.length; _i++) {\n        var jsonAction = source_1[_i];\n        var forbiddenActions = [];\n        // If the action owner is a ContainerWithActions, we should check for forbidden actions\n        if (this._owner instanceof ContainerWithActions) {\n          forbiddenActions = this._owner.getForbiddenActionNames();\n        }\n        var action = context.parseAction(this._owner, jsonAction, forbiddenActions, !this._owner.isDesignMode());\n        if (action) {\n          this.addAction(action);\n        }\n      }\n    }\n  };\n  ActionCollection.prototype.toJSON = function (target, propertyName, context) {\n    context.serializeArray(target, propertyName, this._items);\n  };\n  ActionCollection.prototype.getActionAt = function (id) {\n    return this._items[id];\n  };\n  ActionCollection.prototype.getActionCount = function () {\n    return this._items.length;\n  };\n  ActionCollection.prototype.getActionById = function (id) {\n    var result = undefined;\n    for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n      var item = _a[_i];\n      result = item.getActionById(id);\n      if (result) {\n        break;\n      }\n    }\n    return result;\n  };\n  ActionCollection.prototype.validateProperties = function (context) {\n    if (this._owner.hostConfig.actions.maxActions && this._items.length > this._owner.hostConfig.actions.maxActions) {\n      context.addFailure(this._owner, Enums.ValidationEvent.TooManyActions, strings_1.Strings.errors.tooManyActions(this._owner.hostConfig.actions.maxActions));\n    }\n    if (this._items.length > 0 && !this._owner.hostConfig.supportsInteractivity) {\n      context.addFailure(this._owner, Enums.ValidationEvent.InteractivityNotAllowed, strings_1.Strings.errors.interactivityNotAllowed());\n    }\n    for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n      var item = _a[_i];\n      if (!this.isActionAllowed(item)) {\n        context.addFailure(this._owner, Enums.ValidationEvent.ActionTypeNotAllowed, strings_1.Strings.errors.actionTypeNotAllowed(item.getJsonTypeName()));\n      }\n      item.internalValidateProperties(context);\n    }\n  };\n  ActionCollection.prototype.render = function (orientation) {\n    // Cache hostConfig for better perf\n    var hostConfig = this._owner.hostConfig;\n    if (!hostConfig.supportsInteractivity) {\n      return undefined;\n    }\n    var element = document.createElement(\"div\");\n    var maxActions = hostConfig.actions.maxActions ? Math.min(hostConfig.actions.maxActions, this._items.length) : this._items.length;\n    this._actionCardContainer = document.createElement(\"div\");\n    this._renderedActions = [];\n    if (hostConfig.actions.preExpandSingleShowCardAction && maxActions === 1 && this._items[0] instanceof ShowCardAction && this.isActionAllowed(this._items[0])) {\n      this.showActionCard(this._items[0], true);\n      this._renderedActions.push(this._items[0]);\n    } else {\n      var buttonStrip = document.createElement(\"div\");\n      buttonStrip.className = hostConfig.makeCssClassName(\"ac-actionSet\");\n      buttonStrip.style.display = \"flex\";\n      if (orientation === Enums.Orientation.Horizontal) {\n        buttonStrip.style.flexDirection = \"row\";\n        if (this._owner.horizontalAlignment && hostConfig.actions.actionAlignment !== Enums.ActionAlignment.Stretch) {\n          switch (this._owner.horizontalAlignment) {\n            case Enums.HorizontalAlignment.Center:\n              buttonStrip.style.justifyContent = \"center\";\n              break;\n            case Enums.HorizontalAlignment.Right:\n              buttonStrip.style.justifyContent = \"flex-end\";\n              break;\n            default:\n              buttonStrip.style.justifyContent = \"flex-start\";\n              break;\n          }\n        } else {\n          switch (hostConfig.actions.actionAlignment) {\n            case Enums.ActionAlignment.Center:\n              buttonStrip.style.justifyContent = \"center\";\n              break;\n            case Enums.ActionAlignment.Right:\n              buttonStrip.style.justifyContent = \"flex-end\";\n              break;\n            default:\n              buttonStrip.style.justifyContent = \"flex-start\";\n              break;\n          }\n        }\n      } else {\n        buttonStrip.style.flexDirection = \"column\";\n        if (this._owner.horizontalAlignment && hostConfig.actions.actionAlignment !== Enums.ActionAlignment.Stretch) {\n          switch (this._owner.horizontalAlignment) {\n            case Enums.HorizontalAlignment.Center:\n              buttonStrip.style.alignItems = \"center\";\n              break;\n            case Enums.HorizontalAlignment.Right:\n              buttonStrip.style.alignItems = \"flex-end\";\n              break;\n            default:\n              buttonStrip.style.alignItems = \"flex-start\";\n              break;\n          }\n        } else {\n          switch (hostConfig.actions.actionAlignment) {\n            case Enums.ActionAlignment.Center:\n              buttonStrip.style.alignItems = \"center\";\n              break;\n            case Enums.ActionAlignment.Right:\n              buttonStrip.style.alignItems = \"flex-end\";\n              break;\n            case Enums.ActionAlignment.Stretch:\n              buttonStrip.style.alignItems = \"stretch\";\n              break;\n            default:\n              buttonStrip.style.alignItems = \"flex-start\";\n              break;\n          }\n        }\n      }\n      var allowedActions = this._items.filter(this.isActionAllowed.bind(this));\n      var primaryActions_1 = [];\n      var secondaryActions_1 = [];\n      if (!this._owner.isDesignMode()) {\n        allowedActions.forEach(function (action) {\n          return action.mode === Enums.ActionMode.Secondary ? secondaryActions_1.push(action) : primaryActions_1.push(action);\n        });\n        // If primaryActions.length > maxActions, extra actions are moved to overflow\n        var overflowPrimaryActions = primaryActions_1.splice(hostConfig.actions.maxActions);\n        if (shared_1.GlobalSettings.allowMoreThanMaxActionsInOverflowMenu) {\n          secondaryActions_1.push.apply(secondaryActions_1, overflowPrimaryActions);\n        }\n        var shouldRenderOverflowActionButton = true;\n        if (secondaryActions_1.length > 0) {\n          if (!this._overflowAction) {\n            this._overflowAction = new OverflowAction(secondaryActions_1);\n            this._overflowAction.setParent(this._owner);\n            this._overflowAction[\"_actionCollection\"] = this;\n          }\n          var isRootAction = this._owner instanceof AdaptiveCard && !this._owner.parent;\n          shouldRenderOverflowActionButton = !raiseRenderOverflowActionsEvent(this._overflowAction, isRootAction);\n        }\n        if (this._overflowAction && shouldRenderOverflowActionButton) {\n          primaryActions_1.push(this._overflowAction);\n        }\n      } else {\n        primaryActions_1 = allowedActions;\n      }\n      for (var i = 0; i < primaryActions_1.length; i++) {\n        var action = primaryActions_1[i];\n        action.render();\n        if (action.renderedElement) {\n          if (hostConfig.actions.actionsOrientation === Enums.Orientation.Horizontal && hostConfig.actions.actionAlignment === Enums.ActionAlignment.Stretch) {\n            action.renderedElement.style.flex = \"0 1 100%\";\n          } else {\n            action.renderedElement.style.flex = \"0 1 auto\";\n          }\n          buttonStrip.appendChild(action.renderedElement);\n          this._renderedActions.push(action);\n          if (i < primaryActions_1.length - 1 && hostConfig.actions.buttonSpacing > 0) {\n            var spacer = document.createElement(\"div\");\n            if (orientation === Enums.Orientation.Horizontal) {\n              spacer.style.flex = \"0 0 auto\";\n              spacer.style.width = hostConfig.actions.buttonSpacing + \"px\";\n            } else {\n              spacer.style.height = hostConfig.actions.buttonSpacing + \"px\";\n            }\n            Utils.appendChild(buttonStrip, spacer);\n          }\n        }\n      }\n      var buttonStripContainer = document.createElement(\"div\");\n      buttonStripContainer.style.overflow = \"hidden\";\n      buttonStripContainer.appendChild(buttonStrip);\n      Utils.appendChild(element, buttonStripContainer);\n    }\n    Utils.appendChild(element, this._actionCardContainer);\n    for (var _i = 0, _a = this._renderedActions; _i < _a.length; _i++) {\n      var renderedAction = _a[_i];\n      if (renderedAction.state === 1 /* Expanded */) {\n        this.expandShowCardAction(renderedAction, false);\n        break;\n      }\n    }\n    return this._renderedActions.length > 0 ? element : undefined;\n  };\n  ActionCollection.prototype.addAction = function (action) {\n    if (!action) {\n      throw new Error(\"The action parameter cannot be null.\");\n    }\n    if ((!action.parent || action.parent === this._owner) && this._items.indexOf(action) < 0) {\n      this._items.push(action);\n      if (!action.parent) {\n        action.setParent(this._owner);\n      }\n      action[\"_actionCollection\"] = this;\n    } else {\n      throw new Error(strings_1.Strings.errors.actionAlreadyParented());\n    }\n  };\n  ActionCollection.prototype.removeAction = function (action) {\n    if (this.expandedAction && this._expandedAction === action) {\n      this.collapseExpandedAction();\n    }\n    var actionIndex = this._items.indexOf(action);\n    if (actionIndex >= 0) {\n      this._items.splice(actionIndex, 1);\n      action.setParent(undefined);\n      action[\"_actionCollection\"] = undefined;\n      for (var i = 0; i < this._renderedActions.length; i++) {\n        if (this._renderedActions[i] === action) {\n          this._renderedActions.splice(i, 1);\n          break;\n        }\n      }\n      return true;\n    }\n    return false;\n  };\n  ActionCollection.prototype.clear = function () {\n    this._items = [];\n    this._renderedActions = [];\n    this._expandedAction = undefined;\n  };\n  ActionCollection.prototype.getAllInputs = function (processActions) {\n    if (processActions === void 0) {\n      processActions = true;\n    }\n    var result = [];\n    if (processActions) {\n      for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n        var action = _a[_i];\n        result.push.apply(result, action.getAllInputs());\n      }\n    }\n    return result;\n  };\n  ActionCollection.prototype.getResourceInformation = function () {\n    var result = [];\n    for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n      var action = _a[_i];\n      result.push.apply(result, action.getResourceInformation());\n    }\n    return result;\n  };\n  Object.defineProperty(ActionCollection.prototype, \"renderedActionCount\", {\n    get: function () {\n      return this._renderedActions.length;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ActionCollection.prototype, \"expandedAction\", {\n    get: function () {\n      return this._expandedAction;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ActionCollection;\n}();\nvar ActionSet = /** @class */function (_super) {\n  __extends(ActionSet, _super);\n  function ActionSet() {\n    var _this = _super.call(this) || this;\n    _this._actionCollection = new ActionCollection(_this);\n    return _this;\n  }\n  ActionSet.prototype.internalParse = function (source, context) {\n    _super.prototype.internalParse.call(this, source, context);\n    this._actionCollection.parse(source[\"actions\"], context);\n  };\n  ActionSet.prototype.internalToJSON = function (target, context) {\n    _super.prototype.internalToJSON.call(this, target, context);\n    this._actionCollection.toJSON(target, \"actions\", context);\n  };\n  ActionSet.prototype.internalRender = function () {\n    return this._actionCollection.render(this.orientation !== undefined ? this.orientation : this.hostConfig.actions.actionsOrientation);\n  };\n  ActionSet.prototype.releaseDOMResources = function () {\n    _super.prototype.releaseDOMResources.call(this);\n    this._actionCollection.releaseDOMResources();\n  };\n  ActionSet.prototype.isBleedingAtBottom = function () {\n    if (this._actionCollection.renderedActionCount === 0) {\n      return _super.prototype.isBleedingAtBottom.call(this);\n    } else {\n      if (this._actionCollection.getActionCount() === 1) {\n        return this._actionCollection.expandedAction !== undefined && !this.hostConfig.actions.preExpandSingleShowCardAction;\n      } else {\n        return this._actionCollection.expandedAction !== undefined;\n      }\n    }\n  };\n  ActionSet.prototype.getJsonTypeName = function () {\n    return \"ActionSet\";\n  };\n  ActionSet.prototype.getActionCount = function () {\n    return this._actionCollection.getActionCount();\n  };\n  ActionSet.prototype.getActionAt = function (index) {\n    if (index >= 0 && index < this.getActionCount()) {\n      return this._actionCollection.getActionAt(index);\n    } else {\n      return _super.prototype.getActionAt.call(this, index);\n    }\n  };\n  ActionSet.prototype.getActionById = function (id) {\n    var result = this._actionCollection.getActionById(id);\n    return result ? result : _super.prototype.getActionById.call(this, id);\n  };\n  ActionSet.prototype.getAllActions = function () {\n    var result = _super.prototype.getAllActions.call(this);\n    for (var i = 0; i < this.getActionCount(); i++) {\n      var action = this.getActionAt(i);\n      if (action) {\n        result.push(action);\n      }\n    }\n    return result;\n  };\n  ActionSet.prototype.internalValidateProperties = function (context) {\n    _super.prototype.internalValidateProperties.call(this, context);\n    this._actionCollection.validateProperties(context);\n  };\n  ActionSet.prototype.addAction = function (action) {\n    this._actionCollection.addAction(action);\n  };\n  ActionSet.prototype.getAllInputs = function (processActions) {\n    if (processActions === void 0) {\n      processActions = true;\n    }\n    return processActions ? this._actionCollection.getAllInputs() : [];\n  };\n  ActionSet.prototype.getResourceInformation = function () {\n    return this._actionCollection.getResourceInformation();\n  };\n  /**\r\n   * @inheritdoc\r\n   */\n  ActionSet.prototype.findDOMNodeOwner = function (node) {\n    var target = undefined;\n    for (var i = 0; i < this.getActionCount(); i++) {\n      var action = this.getActionAt(i);\n      if (action) {\n        // recur through each Action\n        target = action.findDOMNodeOwner(node);\n        if (target) {\n          return target;\n        }\n      }\n    }\n    // if not found in any Action, defer to parent implementation\n    return _super.prototype.findDOMNodeOwner.call(this, node);\n  };\n  Object.defineProperty(ActionSet.prototype, \"isInteractive\", {\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  //#region Schema\n  ActionSet.orientationProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_1, \"orientation\", Enums.Orientation);\n  __decorate([(0, serialization_1.property)(ActionSet.orientationProperty)], ActionSet.prototype, \"orientation\", void 0);\n  return ActionSet;\n}(CardElement);\nexports.ActionSet = ActionSet;\nvar ContainerStyleProperty = /** @class */function (_super) {\n  __extends(ContainerStyleProperty, _super);\n  function ContainerStyleProperty(targetVersion, name, defaultValue, onGetInitialValue) {\n    var _this = _super.call(this, targetVersion, name, [{\n      value: Enums.ContainerStyle.Default\n    }, {\n      value: Enums.ContainerStyle.Emphasis\n    }, {\n      targetVersion: serialization_1.Versions.v1_2,\n      value: Enums.ContainerStyle.Accent\n    }, {\n      targetVersion: serialization_1.Versions.v1_2,\n      value: Enums.ContainerStyle.Good\n    }, {\n      targetVersion: serialization_1.Versions.v1_2,\n      value: Enums.ContainerStyle.Attention\n    }, {\n      targetVersion: serialization_1.Versions.v1_2,\n      value: Enums.ContainerStyle.Warning\n    }], defaultValue, onGetInitialValue) || this;\n    _this.targetVersion = targetVersion;\n    _this.name = name;\n    _this.defaultValue = defaultValue;\n    _this.onGetInitialValue = onGetInitialValue;\n    return _this;\n  }\n  return ContainerStyleProperty;\n}(serialization_1.ValueSetProperty);\nexports.ContainerStyleProperty = ContainerStyleProperty;\nvar StylableCardElementContainer = /** @class */function (_super) {\n  __extends(StylableCardElementContainer, _super);\n  function StylableCardElementContainer() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Object.defineProperty(StylableCardElementContainer.prototype, \"style\", {\n    get: function () {\n      if (this.allowCustomStyle) {\n        var style = this.getValue(StylableCardElementContainer.styleProperty);\n        if (style && this.hostConfig.containerStyles.getStyleByName(style)) {\n          return style;\n        }\n      }\n      return undefined;\n    },\n    set: function (value) {\n      this.setValue(StylableCardElementContainer.styleProperty, value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StylableCardElementContainer.prototype, \"allowCustomStyle\", {\n    //#endregion\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(StylableCardElementContainer.prototype, \"hasExplicitStyle\", {\n    get: function () {\n      return this.getValue(StylableCardElementContainer.styleProperty) !== undefined;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  StylableCardElementContainer.prototype.applyBorder = function () {\n    // No border in base implementation\n  };\n  StylableCardElementContainer.prototype.applyBackground = function () {\n    if (this.renderedElement) {\n      var styleDefinition = this.hostConfig.containerStyles.getStyleByName(this.style, this.hostConfig.containerStyles.getStyleByName(this.defaultStyle));\n      if (styleDefinition.backgroundColor) {\n        var bgColor = Utils.stringToCssColor(styleDefinition.backgroundColor);\n        if (bgColor) {\n          this.renderedElement.style.backgroundColor = bgColor;\n        }\n      }\n    }\n  };\n  StylableCardElementContainer.prototype.applyPadding = function () {\n    _super.prototype.applyPadding.call(this);\n    if (!this.renderedElement) {\n      return;\n    }\n    var physicalPadding = new shared_1.SpacingDefinition();\n    if (this.getEffectivePadding()) {\n      physicalPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(this.getEffectivePadding());\n    }\n    this.renderedElement.style.paddingTop = physicalPadding.top + \"px\";\n    this.renderedElement.style.paddingRight = physicalPadding.right + \"px\";\n    this.renderedElement.style.paddingBottom = physicalPadding.bottom + \"px\";\n    this.renderedElement.style.paddingLeft = physicalPadding.left + \"px\";\n    if (this.isBleeding()) {\n      // Bleed into the first parent that does have padding\n      var padding = new shared_1.PaddingDefinition();\n      this.getImmediateSurroundingPadding(padding);\n      var surroundingPadding = this.hostConfig.paddingDefinitionToSpacingDefinition(padding);\n      this.renderedElement.style.marginRight = \"-\" + surroundingPadding.right + \"px\";\n      this.renderedElement.style.marginLeft = \"-\" + surroundingPadding.left + \"px\";\n      if (!this.isDesignMode()) {\n        this.renderedElement.style.marginTop = \"-\" + surroundingPadding.top + \"px\";\n        this.renderedElement.style.marginBottom = \"-\" + surroundingPadding.bottom + \"px\";\n      }\n      if (this.separatorElement && this.separatorOrientation === Enums.Orientation.Horizontal) {\n        this.separatorElement.style.marginLeft = \"-\" + surroundingPadding.left + \"px\";\n        this.separatorElement.style.marginRight = \"-\" + surroundingPadding.right + \"px\";\n      }\n    } else {\n      this.renderedElement.style.marginRight = \"0\";\n      this.renderedElement.style.marginLeft = \"0\";\n      this.renderedElement.style.marginTop = \"0\";\n      this.renderedElement.style.marginBottom = \"0\";\n      if (this.separatorElement && this.separatorOrientation === Enums.Orientation.Horizontal) {\n        this.separatorElement.style.marginRight = \"0\";\n        this.separatorElement.style.marginLeft = \"0\";\n      }\n    }\n  };\n  StylableCardElementContainer.prototype.getHasBackground = function (ignoreBackgroundImages) {\n    if (ignoreBackgroundImages === void 0) {\n      ignoreBackgroundImages = false;\n    }\n    var currentElement = this.parent;\n    while (currentElement) {\n      var currentElementHasBackgroundImage = false;\n      if (ignoreBackgroundImages) {\n        currentElementHasBackgroundImage = false;\n      } else {\n        currentElementHasBackgroundImage = currentElement instanceof Container ? currentElement.backgroundImage.isValid() : false;\n      }\n      if (currentElement instanceof StylableCardElementContainer) {\n        if (this.hasExplicitStyle && (currentElement.getEffectiveStyle() !== this.getEffectiveStyle() || currentElementHasBackgroundImage)) {\n          return true;\n        }\n      }\n      currentElement = currentElement.parent;\n    }\n    return false;\n  };\n  StylableCardElementContainer.prototype.getDefaultPadding = function () {\n    return this.getHasBackground() || this.getHasBorder() ? new shared_1.PaddingDefinition(Enums.Spacing.Padding, Enums.Spacing.Padding, Enums.Spacing.Padding, Enums.Spacing.Padding) : _super.prototype.getDefaultPadding.call(this);\n  };\n  StylableCardElementContainer.prototype.internalValidateProperties = function (context) {\n    _super.prototype.internalValidateProperties.call(this, context);\n    var explicitStyle = this.getValue(StylableCardElementContainer.styleProperty);\n    if (explicitStyle !== undefined) {\n      var styleDefinition = this.hostConfig.containerStyles.getStyleByName(explicitStyle);\n      if (!styleDefinition) {\n        context.addFailure(this, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidPropertyValue(explicitStyle, \"style\"));\n      }\n    }\n  };\n  StylableCardElementContainer.prototype.render = function () {\n    var renderedElement = _super.prototype.render.call(this);\n    if (renderedElement && this.getHasBackground()) {\n      this.applyBackground();\n    }\n    this.applyBorder();\n    return renderedElement;\n  };\n  StylableCardElementContainer.prototype.getEffectiveStyle = function () {\n    var effectiveStyle = this.style;\n    return effectiveStyle ? effectiveStyle : _super.prototype.getEffectiveStyle.call(this);\n  };\n  //#region Schema\n  StylableCardElementContainer.styleProperty = new ContainerStyleProperty(serialization_1.Versions.v1_0, \"style\");\n  __decorate([(0, serialization_1.property)(StylableCardElementContainer.styleProperty)], StylableCardElementContainer.prototype, \"style\", null);\n  return StylableCardElementContainer;\n}(CardElementContainer);\nexports.StylableCardElementContainer = StylableCardElementContainer;\nvar ContainerBase = /** @class */function (_super) {\n  __extends(ContainerBase, _super);\n  function ContainerBase() {\n    //#region Schema\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._bleed = false;\n    return _this;\n  }\n  //#endregion\n  ContainerBase.prototype.adjustRenderedElementSize = function (renderedElement) {\n    _super.prototype.adjustRenderedElementSize.call(this, renderedElement);\n    if (this.minPixelHeight) {\n      renderedElement.style.minHeight = this.minPixelHeight + \"px\";\n    }\n  };\n  ContainerBase.prototype.getHasExpandedAction = function () {\n    return false;\n  };\n  ContainerBase.prototype.getBleed = function () {\n    return this._bleed;\n  };\n  ContainerBase.prototype.setBleed = function (value) {\n    this._bleed = value;\n  };\n  Object.defineProperty(ContainerBase.prototype, \"renderedActionCount\", {\n    get: function () {\n      return 0;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ContainerBase.prototype.isBleeding = function () {\n    return (this.getHasBackground() || this.hostConfig.alwaysAllowBleed) && this.getBleed();\n  };\n  ContainerBase.bleedProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_2, \"bleed\", false);\n  ContainerBase.minHeightProperty = new serialization_1.PixelSizeProperty(serialization_1.Versions.v1_2, \"minHeight\");\n  __decorate([(0, serialization_1.property)(ContainerBase.bleedProperty)], ContainerBase.prototype, \"_bleed\", void 0);\n  __decorate([(0, serialization_1.property)(ContainerBase.minHeightProperty)], ContainerBase.prototype, \"minPixelHeight\", void 0);\n  return ContainerBase;\n}(StylableCardElementContainer);\nexports.ContainerBase = ContainerBase;\nvar BackgroundImage = /** @class */function (_super) {\n  __extends(BackgroundImage, _super);\n  function BackgroundImage() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  //#endregion\n  BackgroundImage.prototype.getSchemaKey = function () {\n    return \"BackgroundImage\";\n  };\n  BackgroundImage.prototype.internalParse = function (source, context) {\n    if (typeof source === \"string\") {\n      this.resetDefaultValues();\n      this.url = source;\n    } else {\n      return _super.prototype.internalParse.call(this, source, context);\n    }\n  };\n  BackgroundImage.prototype.apply = function (element) {\n    if (this.url && element.renderedElement) {\n      element.renderedElement.style.backgroundImage = \"url('\" + element.preProcessPropertyValue(BackgroundImage.urlProperty, this.url) + \"')\";\n      switch (this.fillMode) {\n        case Enums.FillMode.Repeat:\n          element.renderedElement.style.backgroundRepeat = \"repeat\";\n          break;\n        case Enums.FillMode.RepeatHorizontally:\n          element.renderedElement.style.backgroundRepeat = \"repeat-x\";\n          break;\n        case Enums.FillMode.RepeatVertically:\n          element.renderedElement.style.backgroundRepeat = \"repeat-y\";\n          break;\n        case Enums.FillMode.Cover:\n        default:\n          element.renderedElement.style.backgroundRepeat = \"no-repeat\";\n          element.renderedElement.style.backgroundSize = \"cover\";\n          break;\n      }\n      switch (this.horizontalAlignment) {\n        case Enums.HorizontalAlignment.Left:\n          break;\n        case Enums.HorizontalAlignment.Center:\n          element.renderedElement.style.backgroundPositionX = \"center\";\n          break;\n        case Enums.HorizontalAlignment.Right:\n          element.renderedElement.style.backgroundPositionX = \"right\";\n          break;\n      }\n      switch (this.verticalAlignment) {\n        case Enums.VerticalAlignment.Top:\n          break;\n        case Enums.VerticalAlignment.Center:\n          element.renderedElement.style.backgroundPositionY = \"center\";\n          break;\n        case Enums.VerticalAlignment.Bottom:\n          element.renderedElement.style.backgroundPositionY = \"bottom\";\n          break;\n      }\n    }\n  };\n  BackgroundImage.prototype.isValid = function () {\n    return this.url ? true : false;\n  };\n  //#region Schema\n  BackgroundImage.urlProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"url\");\n  BackgroundImage.fillModeProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_2, \"fillMode\", Enums.FillMode, Enums.FillMode.Cover);\n  BackgroundImage.horizontalAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_2, \"horizontalAlignment\", Enums.HorizontalAlignment, Enums.HorizontalAlignment.Left);\n  BackgroundImage.verticalAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_2, \"verticalAlignment\", Enums.VerticalAlignment, Enums.VerticalAlignment.Top);\n  __decorate([(0, serialization_1.property)(BackgroundImage.urlProperty)], BackgroundImage.prototype, \"url\", void 0);\n  __decorate([(0, serialization_1.property)(BackgroundImage.fillModeProperty)], BackgroundImage.prototype, \"fillMode\", void 0);\n  __decorate([(0, serialization_1.property)(BackgroundImage.horizontalAlignmentProperty)], BackgroundImage.prototype, \"horizontalAlignment\", void 0);\n  __decorate([(0, serialization_1.property)(BackgroundImage.verticalAlignmentProperty)], BackgroundImage.prototype, \"verticalAlignment\", void 0);\n  return BackgroundImage;\n}(serialization_1.SerializableObject);\nexports.BackgroundImage = BackgroundImage;\nvar Container = /** @class */function (_super) {\n  __extends(Container, _super);\n  function Container() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    //#endregion\n    _this._items = [];\n    _this._renderedItems = [];\n    return _this;\n  }\n  Object.defineProperty(Container.prototype, \"backgroundImage\", {\n    get: function () {\n      return this.getValue(Container.backgroundImageProperty);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Container.prototype.insertItemAt = function (item, index, forceInsert) {\n    if (!item.parent || forceInsert) {\n      if (item.isStandalone) {\n        if (index < 0 || index >= this._items.length) {\n          this._items.push(item);\n        } else {\n          this._items.splice(index, 0, item);\n        }\n        item.setParent(this);\n      } else {\n        throw new Error(strings_1.Strings.errors.elementTypeNotStandalone(item.getJsonTypeName()));\n      }\n    } else {\n      throw new Error(strings_1.Strings.errors.elementAlreadyParented());\n    }\n  };\n  Container.prototype.getItemsCollectionPropertyName = function () {\n    return \"items\";\n  };\n  Container.prototype.applyBackground = function () {\n    if (this.backgroundImage.isValid() && this.renderedElement) {\n      this.backgroundImage.apply(this);\n    }\n    _super.prototype.applyBackground.call(this);\n  };\n  Container.prototype.applyRTL = function (element) {\n    if (this.rtl !== undefined) {\n      element.dir = this.rtl ? \"rtl\" : \"ltr\";\n    }\n  };\n  Container.prototype.internalRender = function () {\n    this._renderedItems = [];\n    // Cache hostConfig to avoid walking the parent hierarchy several times\n    var hostConfig = this.hostConfig;\n    var element = document.createElement(\"div\");\n    this.applyRTL(element);\n    element.classList.add(hostConfig.makeCssClassName(\"ac-container\"));\n    element.style.display = \"flex\";\n    element.style.flexDirection = \"column\";\n    if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation) {\n      // Forces the container to be at least as tall as its content.\n      //\n      // Fixes a quirk in Chrome where, for nested flex elements, the\n      // inner element's height would never exceed the outer element's\n      // height. This caused overflow truncation to break -- containers\n      // would always be measured as not overflowing, since their heights\n      // were constrained by their parents as opposed to truly reflecting\n      // the height of their content.\n      //\n      // See the \"Browser Rendering Notes\" section of this answer:\n      // https://stackoverflow.com/questions/36247140/why-doesnt-flex-item-shrink-past-content-size\n      element.style.minHeight = \"-webkit-min-content\";\n    }\n    switch (this.getEffectiveVerticalContentAlignment()) {\n      case Enums.VerticalAlignment.Center:\n        element.style.justifyContent = \"center\";\n        break;\n      case Enums.VerticalAlignment.Bottom:\n        element.style.justifyContent = \"flex-end\";\n        break;\n      default:\n        element.style.justifyContent = \"flex-start\";\n        break;\n    }\n    if (this._items.length > 0) {\n      for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n        var item = _a[_i];\n        var renderedItem = this.isElementAllowed(item) ? item.render() : undefined;\n        if (renderedItem) {\n          if (this._renderedItems.length > 0 && item.separatorElement) {\n            item.separatorElement.style.flex = \"0 0 auto\";\n            Utils.appendChild(element, item.separatorElement);\n          }\n          Utils.appendChild(element, renderedItem);\n          this._renderedItems.push(item);\n        }\n      }\n    } else {\n      if (this.isDesignMode()) {\n        var placeholderElement = this.createPlaceholderElement();\n        placeholderElement.style.width = \"100%\";\n        placeholderElement.style.height = \"100%\";\n        element.appendChild(placeholderElement);\n      }\n    }\n    return element;\n  };\n  Container.prototype.truncateOverflow = function (maxHeight) {\n    if (this.renderedElement) {\n      // Add 1 to account for rounding differences between browsers\n      var boundary_1 = this.renderedElement.offsetTop + maxHeight + 1;\n      var handleElement_1 = function (cardElement) {\n        var elt = cardElement.renderedElement;\n        if (elt) {\n          switch (Utils.getFitStatus(elt, boundary_1)) {\n            case Enums.ContainerFitStatus.FullyInContainer:\n              var sizeChanged = cardElement[\"resetOverflow\"]();\n              // If the element's size changed after resetting content,\n              // we have to check if it still fits fully in the card\n              if (sizeChanged) {\n                handleElement_1(cardElement);\n              }\n              break;\n            case Enums.ContainerFitStatus.Overflowing:\n              var containerMaxHeight = boundary_1 - elt.offsetTop;\n              cardElement[\"handleOverflow\"](containerMaxHeight);\n              break;\n            case Enums.ContainerFitStatus.FullyOutOfContainer:\n              cardElement[\"handleOverflow\"](0);\n              break;\n          }\n        }\n      };\n      for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n        var item = _a[_i];\n        handleElement_1(item);\n      }\n      return true;\n    }\n    return false;\n  };\n  Container.prototype.undoOverflowTruncation = function () {\n    for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n      var item = _a[_i];\n      item[\"resetOverflow\"]();\n    }\n  };\n  Container.prototype.getHasBackground = function (ignoreBackgroundImages) {\n    if (ignoreBackgroundImages === void 0) {\n      ignoreBackgroundImages = false;\n    }\n    var result = ignoreBackgroundImages ? false : this.backgroundImage.isValid();\n    return result || _super.prototype.getHasBackground.call(this, ignoreBackgroundImages);\n  };\n  Container.prototype.canHostSingletons = function () {\n    return false;\n  };\n  Container.prototype.internalParse = function (source, context) {\n    _super.prototype.internalParse.call(this, source, context);\n    this.clear();\n    this.setShouldFallback(false);\n    var jsonItems = source[this.getItemsCollectionPropertyName()];\n    if (!Array.isArray(jsonItems) && typeof jsonItems === \"object\" && this.canHostSingletons()) {\n      var typeName = Utils.parseString(jsonItems[\"type\"]);\n      if (typeName) {\n        var registration = context.elementRegistry.findByName(typeName);\n        if ((registration === null || registration === void 0 ? void 0 : registration.singletonBehavior) !== registry_1.ElementSingletonBehavior.NotAllowed) {\n          var element = context.parseElement(this, jsonItems, [], !this.isDesignMode(), true);\n          if (element) {\n            this.insertItemAt(element, -1, true);\n          }\n        }\n      }\n    } else if (Array.isArray(jsonItems)) {\n      for (var _i = 0, jsonItems_1 = jsonItems; _i < jsonItems_1.length; _i++) {\n        var item = jsonItems_1[_i];\n        var element = context.parseElement(this, item, this.forbiddenChildElements(), !this.isDesignMode());\n        if (element) {\n          this.insertItemAt(element, -1, true);\n        }\n      }\n    }\n  };\n  Container.prototype.internalToJSON = function (target, context) {\n    _super.prototype.internalToJSON.call(this, target, context);\n    var collectionPropertyName = this.getItemsCollectionPropertyName();\n    if (this._items.length === 1 && this._items[0].getElementSingletonBehavior() === registry_1.ElementSingletonBehavior.Only) {\n      // If the element is only allowed in a singleton context, parse it to an object instead of an array\n      context.serializeValue(target, collectionPropertyName, this._items[0].toJSON(context));\n    } else {\n      context.serializeArray(target, collectionPropertyName, this._items);\n    }\n  };\n  Object.defineProperty(Container.prototype, \"isSelectable\", {\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Container.prototype.getEffectivePadding = function () {\n    if (shared_1.GlobalSettings.removePaddingFromContainersWithBackgroundImage && !this.getHasBackground(true)) {\n      return new shared_1.PaddingDefinition();\n    }\n    return _super.prototype.getEffectivePadding.call(this);\n  };\n  Container.prototype.getEffectiveVerticalContentAlignment = function () {\n    if (this.verticalContentAlignment !== undefined) {\n      return this.verticalContentAlignment;\n    }\n    var parentContainer = this.getParentContainer();\n    return parentContainer ? parentContainer.getEffectiveVerticalContentAlignment() : Enums.VerticalAlignment.Top;\n  };\n  Container.prototype.getItemCount = function () {\n    return this._items.length;\n  };\n  Container.prototype.getItemAt = function (index) {\n    return this._items[index];\n  };\n  Container.prototype.getFirstVisibleRenderedItem = function () {\n    if (this.renderedElement && this._renderedItems && this._renderedItems.length > 0) {\n      for (var _i = 0, _a = this._renderedItems; _i < _a.length; _i++) {\n        var item = _a[_i];\n        if (item.isVisible) {\n          return item;\n        }\n      }\n    }\n    return undefined;\n  };\n  Container.prototype.getLastVisibleRenderedItem = function () {\n    if (this.renderedElement && this._renderedItems && this._renderedItems.length > 0) {\n      for (var i = this._renderedItems.length - 1; i >= 0; i--) {\n        if (this._renderedItems[i].isVisible) {\n          return this._renderedItems[i];\n        }\n      }\n    }\n    return undefined;\n  };\n  Container.prototype.getJsonTypeName = function () {\n    return \"Container\";\n  };\n  Container.prototype.isFirstElement = function (element) {\n    var designMode = this.isDesignMode();\n    for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n      var item = _a[_i];\n      if (item.isVisible || designMode) {\n        return item === element;\n      }\n    }\n    return false;\n  };\n  Container.prototype.isLastElement = function (element) {\n    var designMode = this.isDesignMode();\n    for (var i = this._items.length - 1; i >= 0; i--) {\n      if (this._items[i].isVisible || designMode) {\n        return this._items[i] === element;\n      }\n    }\n    return false;\n  };\n  Container.prototype.isRtl = function () {\n    if (this.rtl !== undefined) {\n      return this.rtl;\n    } else {\n      var parentContainer = this.getParentContainer();\n      return parentContainer ? parentContainer.isRtl() : false;\n    }\n  };\n  Container.prototype.isBleedingAtTop = function () {\n    var firstRenderedItem = this.getFirstVisibleRenderedItem();\n    return this.isBleeding() || (firstRenderedItem ? firstRenderedItem.isBleedingAtTop() : false);\n  };\n  Container.prototype.isBleedingAtBottom = function () {\n    var lastRenderedItem = this.getLastVisibleRenderedItem();\n    return this.isBleeding() || (lastRenderedItem ? lastRenderedItem.isBleedingAtBottom() && lastRenderedItem.getEffectiveStyle() === this.getEffectiveStyle() : false);\n  };\n  Container.prototype.indexOf = function (cardElement) {\n    return this._items.indexOf(cardElement);\n  };\n  Container.prototype.addItem = function (item) {\n    this.insertItemAt(item, -1, false);\n  };\n  Container.prototype.insertItemBefore = function (item, insertBefore) {\n    this.insertItemAt(item, this._items.indexOf(insertBefore), false);\n  };\n  Container.prototype.insertItemAfter = function (item, insertAfter) {\n    this.insertItemAt(item, this._items.indexOf(insertAfter) + 1, false);\n  };\n  Container.prototype.removeItem = function (item) {\n    var itemIndex = this._items.indexOf(item);\n    if (itemIndex >= 0) {\n      this._items.splice(itemIndex, 1);\n      item.setParent(undefined);\n      this.updateLayout();\n      return true;\n    }\n    return false;\n  };\n  Container.prototype.clear = function () {\n    this._items = [];\n    this._renderedItems = [];\n  };\n  Container.prototype.getResourceInformation = function () {\n    var result = _super.prototype.getResourceInformation.call(this);\n    if (this.backgroundImage.isValid()) {\n      result.push({\n        // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion -- validated by `isValid()`\n        url: this.backgroundImage.url,\n        mimeType: \"image\"\n      });\n    }\n    return result;\n  };\n  Container.prototype.getActionById = function (id) {\n    var result = _super.prototype.getActionById.call(this, id);\n    if (!result) {\n      if (this.selectAction) {\n        result = this.selectAction.getActionById(id);\n      }\n      if (!result) {\n        for (var _i = 0, _a = this._items; _i < _a.length; _i++) {\n          var item = _a[_i];\n          result = item.getActionById(id);\n          if (result) {\n            break;\n          }\n        }\n      }\n    }\n    return result;\n  };\n  Object.defineProperty(Container.prototype, \"padding\", {\n    get: function () {\n      return this.getPadding();\n    },\n    set: function (value) {\n      this.setPadding(value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Container.prototype, \"selectAction\", {\n    get: function () {\n      return this._selectAction;\n    },\n    set: function (value) {\n      this._selectAction = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Container.prototype, \"bleed\", {\n    get: function () {\n      return this.getBleed();\n    },\n    set: function (value) {\n      this.setBleed(value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  //#region Schema\n  Container.backgroundImageProperty = new serialization_1.SerializableObjectProperty(serialization_1.Versions.v1_0, \"backgroundImage\", BackgroundImage);\n  Container.verticalContentAlignmentProperty = new serialization_1.EnumProperty(serialization_1.Versions.v1_1, \"verticalContentAlignment\", Enums.VerticalAlignment);\n  Container.rtlProperty = new serialization_1.BoolProperty(serialization_1.Versions.v1_0, \"rtl\");\n  __decorate([(0, serialization_1.property)(Container.backgroundImageProperty)], Container.prototype, \"backgroundImage\", null);\n  __decorate([(0, serialization_1.property)(Container.verticalContentAlignmentProperty)], Container.prototype, \"verticalContentAlignment\", void 0);\n  __decorate([(0, serialization_1.property)(Container.rtlProperty)], Container.prototype, \"rtl\", void 0);\n  return Container;\n}(ContainerBase);\nexports.Container = Container;\nvar Column = /** @class */function (_super) {\n  __extends(Column, _super);\n  function Column(width) {\n    if (width === void 0) {\n      width = \"stretch\";\n    }\n    var _this = _super.call(this) || this;\n    _this.width = \"stretch\";\n    //#endregion\n    _this._computedWeight = 0;\n    _this.width = width;\n    return _this;\n  }\n  Column.prototype.adjustRenderedElementSize = function (renderedElement) {\n    var minDesignTimeColumnHeight = 20;\n    if (this.isDesignMode()) {\n      renderedElement.style.minWidth = \"20px\";\n      renderedElement.style.minHeight = (!this.minPixelHeight ? minDesignTimeColumnHeight : Math.max(this.minPixelHeight, minDesignTimeColumnHeight)) + \"px\";\n    } else {\n      renderedElement.style.minWidth = \"0\";\n      if (this.minPixelHeight) {\n        renderedElement.style.minHeight = this.minPixelHeight + \"px\";\n      }\n    }\n    if (this.width === \"auto\") {\n      renderedElement.style.flex = \"0 1 auto\";\n    } else if (this.width === \"stretch\") {\n      renderedElement.style.flex = \"1 1 50px\";\n    } else if (this.width instanceof shared_1.SizeAndUnit) {\n      if (this.width.unit === Enums.SizeUnit.Pixel) {\n        renderedElement.style.flex = \"0 0 auto\";\n        renderedElement.style.width = this.width.physicalSize + \"px\";\n      } else {\n        renderedElement.style.flex = \"1 1 \" + (this._computedWeight > 0 ? this._computedWeight : this.width.physicalSize) + \"%\";\n      }\n    }\n  };\n  Column.prototype.shouldSerialize = function (_context) {\n    return true;\n  };\n  Object.defineProperty(Column.prototype, \"separatorOrientation\", {\n    get: function () {\n      return Enums.Orientation.Vertical;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Column.prototype.getJsonTypeName = function () {\n    return \"Column\";\n  };\n  Object.defineProperty(Column.prototype, \"hasVisibleSeparator\", {\n    get: function () {\n      if (this.parent && this.parent instanceof ColumnSet) {\n        return this.separatorElement !== undefined && !this.parent.isLeftMostElement(this);\n      } else {\n        return false;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(Column.prototype, \"isStandalone\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  //#region Schema\n  Column.widthProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_0, \"width\", function (sender, prop, source, context) {\n    var result = prop.defaultValue;\n    var value = source[prop.name];\n    var invalidWidth = false;\n    if (typeof value === \"number\" && !isNaN(value)) {\n      result = new shared_1.SizeAndUnit(value, Enums.SizeUnit.Weight);\n    } else if (value === \"auto\" || value === \"stretch\") {\n      result = value;\n    } else if (typeof value === \"string\") {\n      try {\n        result = shared_1.SizeAndUnit.parse(value);\n        if (result.unit === Enums.SizeUnit.Pixel && prop.targetVersion.compareTo(context.targetVersion) > 0) {\n          invalidWidth = true;\n        }\n      } catch (e) {\n        invalidWidth = true;\n      }\n    } else {\n      invalidWidth = true;\n    }\n    if (invalidWidth) {\n      context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidColumnWidth(value));\n      result = \"auto\";\n    }\n    return result;\n  }, function (sender, property, target, value, context) {\n    if (value instanceof shared_1.SizeAndUnit) {\n      if (value.unit === Enums.SizeUnit.Pixel) {\n        context.serializeValue(target, \"width\", value.physicalSize + \"px\");\n      } else {\n        context.serializeNumber(target, \"width\", value.physicalSize);\n      }\n    } else {\n      context.serializeValue(target, \"width\", value);\n    }\n  }, \"stretch\");\n  __decorate([(0, serialization_1.property)(Column.widthProperty)], Column.prototype, \"width\", void 0);\n  return Column;\n}(Container);\nexports.Column = Column;\nvar ColumnSet = /** @class */function (_super) {\n  __extends(ColumnSet, _super);\n  function ColumnSet() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._columns = [];\n    return _this;\n  }\n  ColumnSet.prototype.createColumnInstance = function (source, context) {\n    return context.parseCardObject(this, source, [], !this.isDesignMode(), function (typeName) {\n      return !typeName || typeName === \"Column\" ? new Column() : undefined;\n    }, function (typeName, _errorType) {\n      context.logParseEvent(undefined, Enums.ValidationEvent.ElementTypeNotAllowed, strings_1.Strings.errors.elementTypeNotAllowed(typeName));\n    });\n  };\n  ColumnSet.prototype.internalRender = function () {\n    this._renderedColumns = [];\n    if (this._columns.length > 0) {\n      // Cache hostConfig to avoid walking the parent hierarchy several times\n      var hostConfig = this.hostConfig;\n      var element = document.createElement(\"div\");\n      element.className = hostConfig.makeCssClassName(\"ac-columnSet\");\n      element.style.display = \"flex\";\n      if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation) {\n        // See comment in Container.internalRender()\n        element.style.minHeight = \"-webkit-min-content\";\n      }\n      switch (this.getEffectiveHorizontalAlignment()) {\n        case Enums.HorizontalAlignment.Center:\n          element.style.justifyContent = \"center\";\n          break;\n        case Enums.HorizontalAlignment.Right:\n          element.style.justifyContent = \"flex-end\";\n          break;\n        default:\n          element.style.justifyContent = \"flex-start\";\n          break;\n      }\n      var totalWeight = 0;\n      for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n        var column = _a[_i];\n        if (column.width instanceof shared_1.SizeAndUnit && column.width.unit === Enums.SizeUnit.Weight) {\n          totalWeight += column.width.physicalSize;\n        }\n      }\n      for (var _b = 0, _c = this._columns; _b < _c.length; _b++) {\n        var column = _c[_b];\n        if (column.width instanceof shared_1.SizeAndUnit && column.width.unit === Enums.SizeUnit.Weight && totalWeight > 0) {\n          var computedWeight = 100 / totalWeight * column.width.physicalSize;\n          // Best way to emulate \"internal\" access I know of\n          column[\"_computedWeight\"] = computedWeight;\n        }\n        var renderedColumn = column.render();\n        if (renderedColumn) {\n          if (this._renderedColumns.length > 0 && column.separatorElement) {\n            column.separatorElement.style.flex = \"0 0 auto\";\n            Utils.appendChild(element, column.separatorElement);\n          }\n          Utils.appendChild(element, renderedColumn);\n          this._renderedColumns.push(column);\n        }\n      }\n      return this._renderedColumns.length > 0 ? element : undefined;\n    } else {\n      return undefined;\n    }\n  };\n  ColumnSet.prototype.truncateOverflow = function (maxHeight) {\n    for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n      var column = _a[_i];\n      column[\"handleOverflow\"](maxHeight);\n    }\n    return true;\n  };\n  ColumnSet.prototype.undoOverflowTruncation = function () {\n    for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n      var column = _a[_i];\n      column[\"resetOverflow\"]();\n    }\n  };\n  Object.defineProperty(ColumnSet.prototype, \"isSelectable\", {\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ColumnSet.prototype.internalParse = function (source, context) {\n    _super.prototype.internalParse.call(this, source, context);\n    this._columns = [];\n    this._renderedColumns = [];\n    var jsonColumns = source[\"columns\"];\n    if (Array.isArray(jsonColumns)) {\n      for (var _i = 0, jsonColumns_1 = jsonColumns; _i < jsonColumns_1.length; _i++) {\n        var item = jsonColumns_1[_i];\n        var column = this.createColumnInstance(item, context);\n        if (column) {\n          this._columns.push(column);\n        }\n      }\n    }\n  };\n  ColumnSet.prototype.internalToJSON = function (target, context) {\n    _super.prototype.internalToJSON.call(this, target, context);\n    context.serializeArray(target, \"columns\", this._columns);\n  };\n  ColumnSet.prototype.isFirstElement = function (element) {\n    for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n      var column = _a[_i];\n      if (column.isVisible) {\n        return column === element;\n      }\n    }\n    return false;\n  };\n  ColumnSet.prototype.isBleedingAtTop = function () {\n    if (this.isBleeding()) {\n      return true;\n    }\n    if (this._renderedColumns && this._renderedColumns.length > 0) {\n      for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n        var column = _a[_i];\n        if (column.isBleedingAtTop()) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n  ColumnSet.prototype.isBleedingAtBottom = function () {\n    if (this.isBleeding()) {\n      return true;\n    }\n    if (this._renderedColumns && this._renderedColumns.length > 0) {\n      for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n        var column = _a[_i];\n        if (column.isBleedingAtBottom()) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n  ColumnSet.prototype.getItemCount = function () {\n    return this._columns.length;\n  };\n  ColumnSet.prototype.getFirstVisibleRenderedItem = function () {\n    if (this.renderedElement && this._renderedColumns && this._renderedColumns.length > 0) {\n      return this._renderedColumns[0];\n    } else {\n      return undefined;\n    }\n  };\n  ColumnSet.prototype.getLastVisibleRenderedItem = function () {\n    if (this.renderedElement && this._renderedColumns && this._renderedColumns.length > 0) {\n      return this._renderedColumns[this._renderedColumns.length - 1];\n    } else {\n      return undefined;\n    }\n  };\n  ColumnSet.prototype.getColumnAt = function (index) {\n    return this._columns[index];\n  };\n  ColumnSet.prototype.getItemAt = function (index) {\n    return this.getColumnAt(index);\n  };\n  ColumnSet.prototype.getJsonTypeName = function () {\n    return \"ColumnSet\";\n  };\n  ColumnSet.prototype.internalValidateProperties = function (context) {\n    _super.prototype.internalValidateProperties.call(this, context);\n    var weightedColumns = 0;\n    var stretchedColumns = 0;\n    for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n      var column = _a[_i];\n      if (typeof column.width === \"number\") {\n        weightedColumns++;\n      } else if (column.width === \"stretch\") {\n        stretchedColumns++;\n      }\n    }\n    if (weightedColumns > 0 && stretchedColumns > 0) {\n      context.addFailure(this, Enums.ValidationEvent.Hint, strings_1.Strings.hints.dontUseWeightedAndStrecthedColumnsInSameSet());\n    }\n  };\n  ColumnSet.prototype.addColumn = function (column) {\n    if (!column.parent) {\n      this._columns.push(column);\n      column.setParent(this);\n    } else {\n      throw new Error(strings_1.Strings.errors.columnAlreadyBelongsToAnotherSet());\n    }\n  };\n  ColumnSet.prototype.removeItem = function (item) {\n    if (item instanceof Column) {\n      var itemIndex = this._columns.indexOf(item);\n      if (itemIndex >= 0) {\n        this._columns.splice(itemIndex, 1);\n        item.setParent(undefined);\n        this.updateLayout();\n        return true;\n      }\n    }\n    return false;\n  };\n  ColumnSet.prototype.indexOf = function (cardElement) {\n    return cardElement instanceof Column ? this._columns.indexOf(cardElement) : -1;\n  };\n  ColumnSet.prototype.isLeftMostElement = function (element) {\n    return this._columns.indexOf(element) === 0;\n  };\n  ColumnSet.prototype.isRightMostElement = function (element) {\n    return this._columns.indexOf(element) === this._columns.length - 1;\n  };\n  ColumnSet.prototype.isTopElement = function (element) {\n    return this._columns.indexOf(element) >= 0;\n  };\n  ColumnSet.prototype.isBottomElement = function (element) {\n    return this._columns.indexOf(element) >= 0;\n  };\n  ColumnSet.prototype.getActionById = function (id) {\n    var result = undefined;\n    for (var _i = 0, _a = this._columns; _i < _a.length; _i++) {\n      var column = _a[_i];\n      result = column.getActionById(id);\n      if (result) {\n        break;\n      }\n    }\n    return result;\n  };\n  Object.defineProperty(ColumnSet.prototype, \"bleed\", {\n    get: function () {\n      return this.getBleed();\n    },\n    set: function (value) {\n      this.setBleed(value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColumnSet.prototype, \"padding\", {\n    get: function () {\n      return this.getPadding();\n    },\n    set: function (value) {\n      this.setPadding(value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ColumnSet.prototype, \"selectAction\", {\n    get: function () {\n      return this._selectAction;\n    },\n    set: function (value) {\n      this._selectAction = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ColumnSet;\n}(ContainerBase);\nexports.ColumnSet = ColumnSet;\nfunction raiseImageLoadedEvent(image) {\n  var card = image.getRootElement();\n  var onImageLoadedHandler = card && card.onImageLoaded ? card.onImageLoaded : AdaptiveCard.onImageLoaded;\n  if (onImageLoadedHandler) {\n    onImageLoadedHandler(image);\n  }\n}\nfunction raiseAnchorClickedEvent(element, anchor, ev) {\n  var card = element.getRootElement();\n  var onAnchorClickedHandler = card && card.onAnchorClicked ? card.onAnchorClicked : AdaptiveCard.onAnchorClicked;\n  return onAnchorClickedHandler !== undefined ? onAnchorClickedHandler(element, anchor, ev) : false;\n}\nfunction raiseExecuteActionEvent(action) {\n  var card = action.parent ? action.parent.getRootElement() : undefined;\n  var onExecuteActionHandler = card && card.onExecuteAction ? card.onExecuteAction : AdaptiveCard.onExecuteAction;\n  if (action.prepareForExecution() && onExecuteActionHandler) {\n    onExecuteActionHandler(action);\n  }\n}\nfunction raiseInlineCardExpandedEvent(action, isExpanded) {\n  var card = action.parent ? action.parent.getRootElement() : undefined;\n  var onInlineCardExpandedHandler = card && card.onInlineCardExpanded ? card.onInlineCardExpanded : AdaptiveCard.onInlineCardExpanded;\n  if (onInlineCardExpandedHandler) {\n    onInlineCardExpandedHandler(action, isExpanded);\n  }\n}\nfunction raiseInputValueChangedEvent(input) {\n  var card = input.getRootElement();\n  var onInputValueChangedHandler = card && card.onInputValueChanged ? card.onInputValueChanged : AdaptiveCard.onInputValueChanged;\n  if (onInputValueChangedHandler) {\n    onInputValueChangedHandler(input);\n  }\n}\nfunction raiseElementVisibilityChangedEvent(element, shouldUpdateLayout) {\n  if (shouldUpdateLayout === void 0) {\n    shouldUpdateLayout = true;\n  }\n  var rootElement = element.getRootElement();\n  if (shouldUpdateLayout) {\n    rootElement.updateLayout();\n  }\n  var card = rootElement;\n  var onElementVisibilityChangedHandler = card && card.onElementVisibilityChanged ? card.onElementVisibilityChanged : AdaptiveCard.onElementVisibilityChanged;\n  if (onElementVisibilityChangedHandler !== undefined) {\n    onElementVisibilityChangedHandler(element);\n  }\n}\n/**\r\n * @returns return false to continue with default context menu; return true to skip SDK default context menu\r\n */\nfunction raiseDisplayOverflowActionMenuEvent(action, target) {\n  var card = action.parent ? action.parent.getRootElement() : undefined;\n  var onDisplayOverflowActionMenuHandler = card && card.onDisplayOverflowActionMenu ? card.onDisplayOverflowActionMenu : AdaptiveCard.onDisplayOverflowActionMenu;\n  return onDisplayOverflowActionMenuHandler !== undefined ? onDisplayOverflowActionMenuHandler(action.getActions(), target) : false;\n}\n/**\r\n * @returns return false to continue with default action button; return true to skip SDK default action button\r\n */\nfunction raiseRenderOverflowActionsEvent(action, isAtRootLevelActions) {\n  var card = action.parent ? action.parent.getRootElement() : undefined;\n  var onRenderOverflowActionsHandler = card && card.onRenderOverflowActions ? card.onRenderOverflowActions : AdaptiveCard.onRenderOverflowActions;\n  return onRenderOverflowActionsHandler !== undefined ? onRenderOverflowActionsHandler(action.getActions(), isAtRootLevelActions) : false;\n}\nvar ContainerWithActions = /** @class */function (_super) {\n  __extends(ContainerWithActions, _super);\n  function ContainerWithActions() {\n    var _this = _super.call(this) || this;\n    _this._actionCollection = new ActionCollection(_this);\n    return _this;\n  }\n  ContainerWithActions.prototype.internalParse = function (source, context) {\n    _super.prototype.internalParse.call(this, source, context);\n    this.parseActions(source, context);\n  };\n  ContainerWithActions.prototype.parseActions = function (source, context) {\n    this._actionCollection.parse(source[\"actions\"], context);\n  };\n  ContainerWithActions.prototype.internalToJSON = function (target, context) {\n    _super.prototype.internalToJSON.call(this, target, context);\n    this._actionCollection.toJSON(target, \"actions\", context);\n  };\n  ContainerWithActions.prototype.internalRender = function () {\n    var element = _super.prototype.internalRender.call(this);\n    if (element) {\n      var renderedActions = this._actionCollection.render(this.hostConfig.actions.actionsOrientation);\n      if (renderedActions) {\n        Utils.appendChild(element, renderSeparation(this.hostConfig, {\n          spacing: this.hostConfig.getEffectiveSpacing(this.hostConfig.actions.spacing)\n        }, Enums.Orientation.Horizontal));\n        Utils.appendChild(element, renderedActions);\n      }\n      if (this.renderIfEmpty) {\n        return element;\n      } else {\n        return element.children.length > 0 ? element : undefined;\n      }\n    } else {\n      return undefined;\n    }\n  };\n  ContainerWithActions.prototype.getHasExpandedAction = function () {\n    if (this.renderedActionCount === 0) {\n      return false;\n    } else if (this.renderedActionCount === 1) {\n      return this._actionCollection.expandedAction !== undefined && !this.hostConfig.actions.preExpandSingleShowCardAction;\n    } else {\n      return this._actionCollection.expandedAction !== undefined;\n    }\n  };\n  Object.defineProperty(ContainerWithActions.prototype, \"renderedActionCount\", {\n    get: function () {\n      return this._actionCollection.renderedActionCount;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ContainerWithActions.prototype, \"renderIfEmpty\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  ContainerWithActions.prototype.releaseDOMResources = function () {\n    _super.prototype.releaseDOMResources.call(this);\n    this._actionCollection.releaseDOMResources();\n  };\n  ContainerWithActions.prototype.getActionCount = function () {\n    return this._actionCollection.getActionCount();\n  };\n  ContainerWithActions.prototype.getActionAt = function (index) {\n    if (index >= 0 && index < this.getActionCount()) {\n      return this._actionCollection.getActionAt(index);\n    } else {\n      return _super.prototype.getActionAt.call(this, index);\n    }\n  };\n  ContainerWithActions.prototype.getActionById = function (id) {\n    var result = this._actionCollection.getActionById(id);\n    return result ? result : _super.prototype.getActionById.call(this, id);\n  };\n  ContainerWithActions.prototype.internalValidateProperties = function (context) {\n    _super.prototype.internalValidateProperties.call(this, context);\n    if (this._actionCollection) {\n      this._actionCollection.validateProperties(context);\n    }\n  };\n  ContainerWithActions.prototype.isLastElement = function (element) {\n    return _super.prototype.isLastElement.call(this, element) && this._actionCollection.getActionCount() === 0;\n  };\n  ContainerWithActions.prototype.addAction = function (action) {\n    this._actionCollection.addAction(action);\n  };\n  ContainerWithActions.prototype.clear = function () {\n    _super.prototype.clear.call(this);\n    this._actionCollection.clear();\n  };\n  ContainerWithActions.prototype.getAllInputs = function (processActions) {\n    if (processActions === void 0) {\n      processActions = true;\n    }\n    var result = _super.prototype.getAllInputs.call(this, processActions);\n    if (processActions) {\n      result.push.apply(result, this._actionCollection.getAllInputs(processActions));\n    }\n    return result;\n  };\n  ContainerWithActions.prototype.getResourceInformation = function () {\n    var result = _super.prototype.getResourceInformation.call(this);\n    result.push.apply(result, this._actionCollection.getResourceInformation());\n    return result;\n  };\n  ContainerWithActions.prototype.isBleedingAtBottom = function () {\n    if (this._actionCollection.renderedActionCount === 0) {\n      return _super.prototype.isBleedingAtBottom.call(this);\n    } else {\n      if (this._actionCollection.getActionCount() === 1) {\n        return this._actionCollection.expandedAction !== undefined && !this.hostConfig.actions.preExpandSingleShowCardAction;\n      } else {\n        return this._actionCollection.expandedAction !== undefined;\n      }\n    }\n  };\n  ContainerWithActions.prototype.getForbiddenActionNames = function () {\n    return [];\n  };\n  Object.defineProperty(ContainerWithActions.prototype, \"isStandalone\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return ContainerWithActions;\n}(Container);\nexports.ContainerWithActions = ContainerWithActions;\nvar RefreshActionProperty = /** @class */function (_super) {\n  __extends(RefreshActionProperty, _super);\n  function RefreshActionProperty(targetVersion, name) {\n    var _this = _super.call(this, targetVersion, name, undefined) || this;\n    _this.targetVersion = targetVersion;\n    _this.name = name;\n    return _this;\n  }\n  RefreshActionProperty.prototype.parse = function (sender, source, context) {\n    var action = context.parseAction(sender.parent, source[this.name], [], false);\n    if (action !== undefined) {\n      if (action instanceof ExecuteAction) {\n        return action;\n      }\n      context.logParseEvent(sender, Enums.ValidationEvent.ActionTypeNotAllowed, strings_1.Strings.errors.actionTypeNotAllowed(action.getJsonTypeName()));\n    }\n    context.logParseEvent(sender, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.propertyMustBeSet(\"action\"));\n    return undefined;\n  };\n  RefreshActionProperty.prototype.toJSON = function (sender, target, value, context) {\n    context.serializeValue(target, this.name, value ? value.toJSON(context) : undefined, undefined, true);\n  };\n  return RefreshActionProperty;\n}(serialization_1.PropertyDefinition);\nexports.RefreshActionProperty = RefreshActionProperty;\nvar RefreshDefinition = /** @class */function (_super) {\n  __extends(RefreshDefinition, _super);\n  function RefreshDefinition() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Object.defineProperty(RefreshDefinition.prototype, \"action\", {\n    get: function () {\n      return this.getValue(RefreshDefinition.actionProperty);\n    },\n    set: function (value) {\n      this.setValue(RefreshDefinition.actionProperty, value);\n      if (value) {\n        value.setParent(this.parent);\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  RefreshDefinition.prototype.getSchemaKey = function () {\n    return \"RefreshDefinition\";\n  };\n  //#region Schema\n  RefreshDefinition.actionProperty = new RefreshActionProperty(serialization_1.Versions.v1_4, \"action\");\n  RefreshDefinition.userIdsProperty = new serialization_1.StringArrayProperty(serialization_1.Versions.v1_4, \"userIds\");\n  __decorate([(0, serialization_1.property)(RefreshDefinition.actionProperty)], RefreshDefinition.prototype, \"action\", null);\n  __decorate([(0, serialization_1.property)(RefreshDefinition.userIdsProperty)], RefreshDefinition.prototype, \"userIds\", void 0);\n  return RefreshDefinition;\n}(serialization_1.SerializableObject);\nexports.RefreshDefinition = RefreshDefinition;\nvar AuthCardButton = /** @class */function (_super) {\n  __extends(AuthCardButton, _super);\n  function AuthCardButton() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  AuthCardButton.prototype.getSchemaKey = function () {\n    return \"AuthCardButton\";\n  };\n  //#region Schema\n  AuthCardButton.typeProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"type\");\n  AuthCardButton.titleProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"title\");\n  AuthCardButton.imageProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"image\");\n  AuthCardButton.valueProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"value\");\n  __decorate([(0, serialization_1.property)(AuthCardButton.typeProperty)], AuthCardButton.prototype, \"type\", void 0);\n  __decorate([(0, serialization_1.property)(AuthCardButton.titleProperty)], AuthCardButton.prototype, \"title\", void 0);\n  __decorate([(0, serialization_1.property)(AuthCardButton.imageProperty)], AuthCardButton.prototype, \"image\", void 0);\n  __decorate([(0, serialization_1.property)(AuthCardButton.valueProperty)], AuthCardButton.prototype, \"value\", void 0);\n  return AuthCardButton;\n}(serialization_1.SerializableObject);\nexports.AuthCardButton = AuthCardButton;\nvar TokenExchangeResource = /** @class */function (_super) {\n  __extends(TokenExchangeResource, _super);\n  function TokenExchangeResource() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  TokenExchangeResource.prototype.getSchemaKey = function () {\n    return \"TokenExchangeResource\";\n  };\n  //#region Schema\n  TokenExchangeResource.idProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"id\");\n  TokenExchangeResource.uriProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"uri\");\n  TokenExchangeResource.providerIdProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"providerId\");\n  __decorate([(0, serialization_1.property)(TokenExchangeResource.idProperty)], TokenExchangeResource.prototype, \"id\", void 0);\n  __decorate([(0, serialization_1.property)(TokenExchangeResource.uriProperty)], TokenExchangeResource.prototype, \"uri\", void 0);\n  __decorate([(0, serialization_1.property)(TokenExchangeResource.providerIdProperty)], TokenExchangeResource.prototype, \"providerId\", void 0);\n  return TokenExchangeResource;\n}(serialization_1.SerializableObject);\nexports.TokenExchangeResource = TokenExchangeResource;\nvar Authentication = /** @class */function (_super) {\n  __extends(Authentication, _super);\n  function Authentication() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Authentication.prototype.getSchemaKey = function () {\n    return \"Authentication\";\n  };\n  //#region Schema\n  Authentication.textProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"text\");\n  Authentication.connectionNameProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_4, \"connectionName\");\n  Authentication.buttonsProperty = new serialization_1.SerializableObjectCollectionProperty(serialization_1.Versions.v1_4, \"buttons\", AuthCardButton);\n  Authentication.tokenExchangeResourceProperty = new serialization_1.SerializableObjectProperty(serialization_1.Versions.v1_4, \"tokenExchangeResource\", TokenExchangeResource, true);\n  __decorate([(0, serialization_1.property)(Authentication.textProperty)], Authentication.prototype, \"text\", void 0);\n  __decorate([(0, serialization_1.property)(Authentication.connectionNameProperty)], Authentication.prototype, \"connectionName\", void 0);\n  __decorate([(0, serialization_1.property)(Authentication.buttonsProperty)], Authentication.prototype, \"buttons\", void 0);\n  __decorate([(0, serialization_1.property)(Authentication.tokenExchangeResourceProperty)], Authentication.prototype, \"tokenExchangeResource\", void 0);\n  return Authentication;\n}(serialization_1.SerializableObject);\nexports.Authentication = Authentication;\n// @dynamic\nvar AdaptiveCard = /** @class */function (_super) {\n  __extends(AdaptiveCard, _super);\n  function AdaptiveCard() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.designMode = false;\n    return _this;\n  }\n  Object.defineProperty(AdaptiveCard.prototype, \"refresh\", {\n    get: function () {\n      return this.getValue(AdaptiveCard.refreshProperty);\n    },\n    set: function (value) {\n      this.setValue(AdaptiveCard.refreshProperty, value);\n      if (value) {\n        value.parent = this;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AdaptiveCard, \"processMarkdown\", {\n    get: function () {\n      throw new Error(strings_1.Strings.errors.processMarkdownEventRemoved());\n    },\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    set: function (_value) {\n      throw new Error(strings_1.Strings.errors.processMarkdownEventRemoved());\n    },\n    enumerable: false,\n    configurable: true\n  });\n  AdaptiveCard.applyMarkdown = function (text) {\n    var result = {\n      didProcess: false\n    };\n    if (AdaptiveCard.onProcessMarkdown) {\n      AdaptiveCard.onProcessMarkdown(text, result);\n    } else if (window.markdownit) {\n      // Check for markdownit\n      var markdownIt = window.markdownit;\n      result.outputHtml = markdownIt().render(text);\n      result.didProcess = true;\n    } else if (!AdaptiveCard._haveWarnedAboutNoMarkdownProcessing) {\n      // eslint-disable-next-line no-console\n      console.warn(strings_1.Strings.errors.markdownProcessingNotEnabled);\n      AdaptiveCard._haveWarnedAboutNoMarkdownProcessing = true;\n    }\n    return result;\n  };\n  AdaptiveCard.prototype.isVersionSupported = function () {\n    if (this.bypassVersionCheck) {\n      return true;\n    } else {\n      var unsupportedVersion = !this.version || !this.version.isValid || this.maxVersion.major < this.version.major || this.maxVersion.major === this.version.major && this.maxVersion.minor < this.version.minor;\n      return !unsupportedVersion;\n    }\n  };\n  AdaptiveCard.prototype.getDefaultSerializationContext = function () {\n    return new SerializationContext(this.version);\n  };\n  AdaptiveCard.prototype.getItemsCollectionPropertyName = function () {\n    return \"body\";\n  };\n  AdaptiveCard.prototype.canHostSingletons = function () {\n    return true;\n  };\n  AdaptiveCard.prototype.internalParse = function (source, context) {\n    this._fallbackCard = undefined;\n    var fallbackElement = context.parseElement(undefined, source[\"fallback\"], this.forbiddenChildElements(), !this.isDesignMode());\n    if (fallbackElement) {\n      this._fallbackCard = new AdaptiveCard();\n      this._fallbackCard.addItem(fallbackElement);\n    }\n    _super.prototype.internalParse.call(this, source, context);\n  };\n  AdaptiveCard.prototype.internalToJSON = function (target, context) {\n    this.setValue(AdaptiveCard.versionProperty, context.targetVersion);\n    _super.prototype.internalToJSON.call(this, target, context);\n  };\n  AdaptiveCard.prototype.internalRender = function () {\n    var renderedElement = _super.prototype.internalRender.call(this);\n    if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation && renderedElement) {\n      // Unlike containers, the root card element should be allowed to\n      // be shorter than its content (otherwise the overflow truncation\n      // logic would never get triggered)\n      renderedElement.style.removeProperty(\"minHeight\");\n    }\n    return renderedElement;\n  };\n  AdaptiveCard.prototype.getHasBackground = function (ignoreBackgroundImages) {\n    if (ignoreBackgroundImages === void 0) {\n      ignoreBackgroundImages = false;\n    }\n    return true;\n  };\n  AdaptiveCard.prototype.getDefaultPadding = function () {\n    return new shared_1.PaddingDefinition(Enums.Spacing.Padding, Enums.Spacing.Padding, Enums.Spacing.Padding, Enums.Spacing.Padding);\n  };\n  AdaptiveCard.prototype.shouldSerialize = function (_context) {\n    return true;\n  };\n  Object.defineProperty(AdaptiveCard.prototype, \"renderIfEmpty\", {\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AdaptiveCard.prototype, \"bypassVersionCheck\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AdaptiveCard.prototype, \"allowCustomStyle\", {\n    get: function () {\n      return this.hostConfig.adaptiveCard && this.hostConfig.adaptiveCard.allowCustomStyle;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(AdaptiveCard.prototype, \"hasBackground\", {\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  AdaptiveCard.prototype.getJsonTypeName = function () {\n    return \"AdaptiveCard\";\n  };\n  AdaptiveCard.prototype.internalValidateProperties = function (context) {\n    _super.prototype.internalValidateProperties.call(this, context);\n    if (this.getValue(CardElement.typeNameProperty) !== \"AdaptiveCard\") {\n      context.addFailure(this, Enums.ValidationEvent.MissingCardType, strings_1.Strings.errors.invalidCardType());\n    }\n    if (!this.bypassVersionCheck && !this.version) {\n      context.addFailure(this, Enums.ValidationEvent.PropertyCantBeNull, strings_1.Strings.errors.propertyMustBeSet(\"version\"));\n    } else if (!this.isVersionSupported()) {\n      context.addFailure(this, Enums.ValidationEvent.UnsupportedCardVersion, strings_1.Strings.errors.unsupportedCardVersion(this.version.toString(), this.maxVersion.toString()));\n    }\n  };\n  AdaptiveCard.prototype.render = function (target) {\n    var renderedCard;\n    if (this.shouldFallback() && this._fallbackCard) {\n      this._fallbackCard.hostConfig = this.hostConfig;\n      renderedCard = this._fallbackCard.render();\n    } else {\n      renderedCard = _super.prototype.render.call(this);\n      if (renderedCard) {\n        renderedCard.classList.add(this.hostConfig.makeCssClassName(\"ac-adaptiveCard\"));\n        // Having a tabIndex on the root container for a card can mess up accessibility in some scenarios.\n        // However, we've shipped this behavior before, and so can't just turn it off in a point release. For\n        // now, to unblock accessibility scenarios for our customers, we've got an option to turn it off. In a\n        // future release, we should strongly consider flipping the default such that we *don't* emit a tabIndex\n        // by default.\n        if (shared_1.GlobalSettings.setTabIndexAtCardRoot) {\n          renderedCard.tabIndex = 0;\n        }\n        if (this.speak) {\n          renderedCard.setAttribute(\"aria-label\", this.speak);\n        }\n      }\n    }\n    if (target) {\n      Utils.appendChild(target, renderedCard);\n      this.updateLayout();\n    }\n    return renderedCard;\n  };\n  AdaptiveCard.prototype.updateLayout = function (processChildren) {\n    if (processChildren === void 0) {\n      processChildren = true;\n    }\n    _super.prototype.updateLayout.call(this, processChildren);\n    if (shared_1.GlobalSettings.useAdvancedCardBottomTruncation && this.isDisplayed()) {\n      var padding = this.hostConfig.getEffectiveSpacing(Enums.Spacing.Default);\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n      this[\"handleOverflow\"](this.renderedElement.offsetHeight - padding);\n    }\n  };\n  AdaptiveCard.prototype.shouldFallback = function () {\n    return _super.prototype.shouldFallback.call(this) || !this.isVersionSupported();\n  };\n  Object.defineProperty(AdaptiveCard.prototype, \"hasVisibleSeparator\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  AdaptiveCard.schemaUrl = \"http://adaptivecards.io/schemas/adaptive-card.json\";\n  //#region Schema\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  AdaptiveCard.$schemaProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_0, \"$schema\", function (sender, property, source, context) {\n    return AdaptiveCard.schemaUrl;\n  }, function (sender, prop, target, value, context) {\n    context.serializeValue(target, prop.name, AdaptiveCard.schemaUrl);\n  });\n  AdaptiveCard.versionProperty = new serialization_1.CustomProperty(serialization_1.Versions.v1_0, \"version\", function (sender, prop, source, context) {\n    var version = serialization_1.Version.parse(source[prop.name], context);\n    if (version === undefined) {\n      version = serialization_1.Versions.latest;\n      context.logParseEvent(sender, Enums.ValidationEvent.InvalidPropertyValue, strings_1.Strings.errors.invalidCardVersion(version.toString()));\n    }\n    return version;\n  }, function (sender, prop, target, value, context) {\n    if (value !== undefined) {\n      context.serializeValue(target, prop.name, value.toString());\n    }\n  }, serialization_1.Versions.v1_0);\n  AdaptiveCard.fallbackTextProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"fallbackText\");\n  AdaptiveCard.speakProperty = new serialization_1.StringProperty(serialization_1.Versions.v1_0, \"speak\");\n  AdaptiveCard.refreshProperty = new serialization_1.SerializableObjectProperty(serialization_1.Versions.v1_4, \"refresh\", RefreshDefinition, true);\n  AdaptiveCard.authenticationProperty = new serialization_1.SerializableObjectProperty(serialization_1.Versions.v1_4, \"authentication\", Authentication, true);\n  //#endregion\n  AdaptiveCard._haveWarnedAboutNoMarkdownProcessing = false;\n  __decorate([(0, serialization_1.property)(AdaptiveCard.versionProperty)], AdaptiveCard.prototype, \"version\", void 0);\n  __decorate([(0, serialization_1.property)(AdaptiveCard.fallbackTextProperty)], AdaptiveCard.prototype, \"fallbackText\", void 0);\n  __decorate([(0, serialization_1.property)(AdaptiveCard.speakProperty)], AdaptiveCard.prototype, \"speak\", void 0);\n  __decorate([(0, serialization_1.property)(AdaptiveCard.refreshProperty)], AdaptiveCard.prototype, \"refresh\", null);\n  __decorate([(0, serialization_1.property)(AdaptiveCard.authenticationProperty)], AdaptiveCard.prototype, \"authentication\", void 0);\n  return AdaptiveCard;\n}(ContainerWithActions);\nexports.AdaptiveCard = AdaptiveCard;\nvar InlineAdaptiveCard = /** @class */function (_super) {\n  __extends(InlineAdaptiveCard, _super);\n  function InlineAdaptiveCard() {\n    //#region Schema\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.suppressStyle = false;\n    return _this;\n  }\n  InlineAdaptiveCard.prototype.getSchemaKey = function () {\n    return \"InlineAdaptiveCard\";\n  };\n  InlineAdaptiveCard.prototype.populateSchema = function (schema) {\n    _super.prototype.populateSchema.call(this, schema);\n    schema.remove(AdaptiveCard.$schemaProperty, AdaptiveCard.versionProperty);\n  };\n  //#endregion\n  InlineAdaptiveCard.prototype.getDefaultPadding = function () {\n    return new shared_1.PaddingDefinition(this.suppressStyle ? Enums.Spacing.None : Enums.Spacing.Padding, Enums.Spacing.Padding, this.suppressStyle ? Enums.Spacing.None : Enums.Spacing.Padding, Enums.Spacing.Padding);\n  };\n  Object.defineProperty(InlineAdaptiveCard.prototype, \"bypassVersionCheck\", {\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(InlineAdaptiveCard.prototype, \"defaultStyle\", {\n    get: function () {\n      if (this.suppressStyle) {\n        return Enums.ContainerStyle.Default;\n      } else {\n        return this.hostConfig.actions.showCard.style ? this.hostConfig.actions.showCard.style : Enums.ContainerStyle.Emphasis;\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n  InlineAdaptiveCard.prototype.render = function (target) {\n    var renderedCard = _super.prototype.render.call(this, target);\n    if (renderedCard) {\n      renderedCard.setAttribute(\"aria-live\", \"polite\");\n      renderedCard.removeAttribute(\"tabindex\");\n    }\n    return renderedCard;\n  };\n  return InlineAdaptiveCard;\n}(AdaptiveCard);\nvar SerializationContext = /** @class */function (_super) {\n  __extends(SerializationContext, _super);\n  function SerializationContext() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this._forbiddenTypes = new Set();\n    return _this;\n  }\n  SerializationContext.prototype.internalParseCardObject = function (parent, source, forbiddenTypes, allowFallback, createInstanceCallback, logParseEvent, parsingSingletonObject) {\n    var _this = this;\n    if (parsingSingletonObject === void 0) {\n      parsingSingletonObject = false;\n    }\n    var result = undefined;\n    if (source && typeof source === \"object\") {\n      var oldForbiddenTypes_1 = new Set();\n      this._forbiddenTypes.forEach(function (type) {\n        oldForbiddenTypes_1.add(type);\n      });\n      forbiddenTypes.forEach(function (type) {\n        _this._forbiddenTypes.add(type);\n      });\n      var typeName = Utils.parseString(source[\"type\"]);\n      var ignoreForbiddenType = parsingSingletonObject && typeName === \"Carousel\";\n      if (typeName && this._forbiddenTypes.has(typeName) && !ignoreForbiddenType) {\n        logParseEvent(typeName, Enums.TypeErrorType.ForbiddenType);\n      } else {\n        var tryToFallback = false;\n        result = createInstanceCallback(typeName);\n        if (!result) {\n          tryToFallback = shared_1.GlobalSettings.enableFallback && allowFallback;\n          logParseEvent(typeName, Enums.TypeErrorType.UnknownType);\n        } else {\n          result.setParent(parent);\n          result.parse(source, this);\n          tryToFallback = shared_1.GlobalSettings.enableFallback && allowFallback && result.shouldFallback();\n        }\n        if (tryToFallback) {\n          var fallback = source[\"fallback\"];\n          if (!fallback && parent) {\n            parent.setShouldFallback(true);\n          }\n          if (typeof fallback === \"string\" && fallback.toLowerCase() === \"drop\") {\n            result = undefined;\n          } else if (typeof fallback === \"object\") {\n            result = this.internalParseCardObject(parent, fallback, forbiddenTypes, true, createInstanceCallback, logParseEvent);\n          }\n        }\n      }\n      this._forbiddenTypes = oldForbiddenTypes_1;\n    }\n    return result;\n  };\n  SerializationContext.prototype.cardObjectParsed = function (o, source) {\n    if (o instanceof Action && this.onParseAction) {\n      this.onParseAction(o, source, this);\n    } else if (o instanceof CardElement && this.onParseElement) {\n      this.onParseElement(o, source, this);\n    }\n  };\n  SerializationContext.prototype.shouldSerialize = function (o) {\n    if (o instanceof Action) {\n      return this.actionRegistry.findByName(o.getJsonTypeName()) !== undefined;\n    } else if (o instanceof CardElement) {\n      return this.elementRegistry.findByName(o.getJsonTypeName()) !== undefined;\n    } else {\n      return true;\n    }\n  };\n  SerializationContext.prototype.parseCardObject = function (parent, source, forbiddenTypeNames, allowFallback, createInstanceCallback, logParseEvent, parsingSingletonObject) {\n    if (parsingSingletonObject === void 0) {\n      parsingSingletonObject = false;\n    }\n    var forbiddenTypes = new Set(forbiddenTypeNames);\n    var result = this.internalParseCardObject(parent, source, forbiddenTypes, allowFallback, createInstanceCallback, logParseEvent, parsingSingletonObject);\n    if (result !== undefined) {\n      this.cardObjectParsed(result, source);\n    }\n    return result;\n  };\n  SerializationContext.prototype.parseElement = function (parent, source, forbiddenTypes, allowFallback, _parsingSingletonObject) {\n    var _this = this;\n    if (_parsingSingletonObject === void 0) {\n      _parsingSingletonObject = false;\n    }\n    return this.parseCardObject(parent, source, forbiddenTypes, allowFallback, function (typeName) {\n      return _this.elementRegistry.createInstance(typeName, _this.targetVersion);\n    }, function (typeName, errorType) {\n      if (errorType === Enums.TypeErrorType.UnknownType) {\n        _this.logParseEvent(undefined, Enums.ValidationEvent.UnknownElementType, strings_1.Strings.errors.unknownElementType(typeName));\n      } else {\n        _this.logParseEvent(undefined, Enums.ValidationEvent.ElementTypeNotAllowed, strings_1.Strings.errors.elementTypeNotAllowed(typeName));\n      }\n    }, _parsingSingletonObject);\n  };\n  SerializationContext.prototype.parseAction = function (parent, source, forbiddenActionTypes, allowFallback) {\n    var _this = this;\n    return this.parseCardObject(parent, source, forbiddenActionTypes, allowFallback, function (typeName) {\n      return _this.actionRegistry.createInstance(typeName, _this.targetVersion);\n    }, function (typeName, errorType) {\n      if (errorType === Enums.TypeErrorType.UnknownType) {\n        _this.logParseEvent(undefined, Enums.ValidationEvent.UnknownActionType, strings_1.Strings.errors.unknownActionType(typeName));\n      } else {\n        _this.logParseEvent(undefined, Enums.ValidationEvent.ActionTypeNotAllowed, strings_1.Strings.errors.actionTypeNotAllowed(typeName));\n      }\n    });\n  };\n  Object.defineProperty(SerializationContext.prototype, \"elementRegistry\", {\n    get: function () {\n      var _a;\n      return (_a = this._elementRegistry) !== null && _a !== void 0 ? _a : registry_1.GlobalRegistry.elements;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  // Not using a property setter here because the setter should accept \"undefined\"\n  // whereas the getter should never return undefined.\n  SerializationContext.prototype.setElementRegistry = function (value) {\n    this._elementRegistry = value;\n  };\n  Object.defineProperty(SerializationContext.prototype, \"actionRegistry\", {\n    get: function () {\n      var _a;\n      return (_a = this._actionRegistry) !== null && _a !== void 0 ? _a : registry_1.GlobalRegistry.actions;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  // Not using a property setter here because the setter should accept \"undefined\"\n  // whereas the getter should never return undefined.\n  SerializationContext.prototype.setActionRegistry = function (value) {\n    this._actionRegistry = value;\n  };\n  return SerializationContext;\n}(serialization_1.BaseSerializationContext);\nexports.SerializationContext = SerializationContext;\nregistry_1.GlobalRegistry.defaultElements.register(\"Container\", Container);\nregistry_1.GlobalRegistry.defaultElements.register(\"TextBlock\", TextBlock);\nregistry_1.GlobalRegistry.defaultElements.register(\"RichTextBlock\", RichTextBlock, serialization_1.Versions.v1_2);\nregistry_1.GlobalRegistry.defaultElements.register(\"TextRun\", TextRun, serialization_1.Versions.v1_2);\nregistry_1.GlobalRegistry.defaultElements.register(\"Image\", Image);\nregistry_1.GlobalRegistry.defaultElements.register(\"ImageSet\", ImageSet);\nregistry_1.GlobalRegistry.defaultElements.register(\"Media\", Media, serialization_1.Versions.v1_1);\nregistry_1.GlobalRegistry.defaultElements.register(\"FactSet\", FactSet);\nregistry_1.GlobalRegistry.defaultElements.register(\"ColumnSet\", ColumnSet);\nregistry_1.GlobalRegistry.defaultElements.register(\"ActionSet\", ActionSet, serialization_1.Versions.v1_2);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.Text\", TextInput);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.Date\", DateInput);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.Time\", TimeInput);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.Number\", NumberInput);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.ChoiceSet\", ChoiceSetInput);\nregistry_1.GlobalRegistry.defaultElements.register(\"Input.Toggle\", ToggleInput);\nregistry_1.GlobalRegistry.defaultActions.register(OpenUrlAction.JsonTypeName, OpenUrlAction);\nregistry_1.GlobalRegistry.defaultActions.register(SubmitAction.JsonTypeName, SubmitAction);\nregistry_1.GlobalRegistry.defaultActions.register(ShowCardAction.JsonTypeName, ShowCardAction);\nregistry_1.GlobalRegistry.defaultActions.register(ToggleVisibilityAction.JsonTypeName, ToggleVisibilityAction, serialization_1.Versions.v1_2);\nregistry_1.GlobalRegistry.defaultActions.register(ExecuteAction.JsonTypeName, ExecuteAction, serialization_1.Versions.v1_4);","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAYA;AACA;AAUA;AACA;AACA;AAoBA;AACA;AACA;AAGA,SAASA,YAAY,CAACC,OAAoB;;EACtC,IAAMC,WAAW,GAAI,OAAOC,MAAM,KAAK,WAAW,GAAI,EAAE,GAAI,kBAAM,CAACC,YAAY,0CAAEC,SAAS,mCAAI,EAAG;EACjGJ,OAAO,CAACK,SAAS,GAAGJ,WAAqB;AAC7C;AAEA,SAAgBK,gBAAgB,CAC5BC,UAAsB,EACtBC,oBAA2C,EAC3CC,WAA8B;EAE9B,IACID,oBAAoB,CAACE,OAAO,GAAG,CAAC,IAC/BF,oBAAoB,CAACG,aAAa,IAAIH,oBAAoB,CAACG,aAAa,GAAG,CAAE,EAChF;IACE,IAAMC,SAAS,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC/CF,SAAS,CAACG,SAAS,GAAGR,UAAU,CAACS,gBAAgB,CAC7C,KAAK,IACAP,WAAW,KAAKQ,KAAK,CAACC,WAAW,CAACC,UAAU,GAAG,YAAY,GAAG,UAAU,CAAC,GAC1E,YAAY,CACnB;IACDP,SAAS,CAACQ,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC;IAE7C,IAAMC,KAAK,GAAGb,oBAAoB,CAACc,SAAS,GACtCC,KAAK,CAACC,gBAAgB,CAAChB,oBAAoB,CAACc,SAAS,CAAC,GACtD,EAAE;IAER,IAAIb,WAAW,KAAKQ,KAAK,CAACC,WAAW,CAACC,UAAU,EAAE;MAC9C,IAAIX,oBAAoB,CAACG,aAAa,EAAE;QACpCC,SAAS,CAACa,KAAK,CAACC,UAAU,GAAGlB,oBAAoB,CAACE,OAAO,GAAG,CAAC,GAAG,IAAI;QACpEE,SAAS,CAACa,KAAK,CAACE,YAAY,GAAGnB,oBAAoB,CAACE,OAAO,GAAG,CAAC,GAAG,IAAI;QACtEE,SAAS,CAACa,KAAK,CAACG,YAAY,GACxBpB,oBAAoB,CAACG,aAAa,GAAG,WAAW,GAAGU,KAAK;OAC/D,MAAM;QACHT,SAAS,CAACa,KAAK,CAACI,MAAM,GAAGrB,oBAAoB,CAACE,OAAO,GAAG,IAAI;;KAEnE,MAAM;MACH,IAAIF,oBAAoB,CAACG,aAAa,EAAE;QACpCC,SAAS,CAACa,KAAK,CAACK,WAAW,GAAGtB,oBAAoB,CAACE,OAAO,GAAG,CAAC,GAAG,IAAI;QACrEE,SAAS,CAACa,KAAK,CAACM,WAAW,GAAGvB,oBAAoB,CAACE,OAAO,GAAG,CAAC,GAAG,IAAI;QACrEE,SAAS,CAACa,KAAK,CAACO,WAAW,GACvBxB,oBAAoB,CAACG,aAAa,GAAG,WAAW,GAAGU,KAAK;OAC/D,MAAM;QACHT,SAAS,CAACa,KAAK,CAACQ,KAAK,GAAGzB,oBAAoB,CAACE,OAAO,GAAG,IAAI;;;IAInEE,SAAS,CAACa,KAAK,CAACS,QAAQ,GAAG,QAAQ;IACnCtB,SAAS,CAACa,KAAK,CAACU,IAAI,GAAG,UAAU;IAEjC,OAAOvB,SAAS;GACnB,MAAM;IACH,OAAOwB,SAAS;;AAExB;AAhDAC;AAoDA;EAA0CC;EAA1C;IACI;IADJ;IA4FYC,6BAAuB,GAAY,KAAK;;EA6kBpD;EA/nBIC,sBAAIC,6BAAI;SAAR;MACI,IAAMC,IAAI,GAAG,IAAI,CAACC,QAAQ,CAACF,WAAW,CAACG,YAAY,CAAC;MAEpD,IAAIF,IAAI,EAAE;QACN,OAAOA,IAAI;OACd,MAAM;QACH,IAAI,IAAI,CAACG,MAAM,EAAE;UACb,OAAO,IAAI,CAACA,MAAM,CAACH,IAAI;SAC1B,MAAM;UACH,OAAON,SAAS;;;IAG5B,CAAC;SAED,UAASU,KAAyB;MAC9B,IAAI,CAACC,QAAQ,CAACN,WAAW,CAACG,YAAY,EAAEE,KAAK,CAAC;IAClD,CAAC;;;;EAGDN,sBAAIC,kCAAS;SAAb;MACI,OAAO,IAAI,CAACE,QAAQ,CAACF,WAAW,CAACO,iBAAiB,CAAC;IACvD,CAAC;SAED,UAAcF,KAAc;MACxB;MACA;MACA;MACA,IAAIG,uBAAc,CAACC,+BAA+B,IAAI,CAACJ,KAAK,EAAE;QAC1D,IAAI,CAACK,sBAAsB,EAAE;;MAGjC,IAAI,IAAI,CAACC,SAAS,KAAKN,KAAK,EAAE;QAC1B,IAAI,CAACC,QAAQ,CAACN,WAAW,CAACO,iBAAiB,EAAEF,KAAK,CAAC;QAEnD,IAAI,CAACO,+BAA+B,EAAE;QAEtC,IAAI,IAAI,CAACC,gBAAgB,EAAE;UACvBC,kCAAkC,CAAC,IAAI,CAAC;;;MAIhD,IAAI,IAAI,CAACD,gBAAgB,EAAE;QACvB,IAAI,CAACA,gBAAgB,CAAClC,YAAY,CAAC,eAAe,EAAE0B,KAAK,CAACU,QAAQ,EAAE,CAAC;;IAE7E,CAAC;;;;EAUOf,6CAAuB,GAA/B;IACI,IAAMgB,iBAAiB,GAAGnD,gBAAgB,CACtC,IAAI,CAACC,UAAU,EACf;MACIG,OAAO,EAAE,IAAI,CAACH,UAAU,CAACmD,mBAAmB,CAAC,IAAI,CAAChD,OAAO,CAAC;MAC1DC,aAAa,EAAE,IAAI,CAACC,SAAS,GAAG,IAAI,CAACL,UAAU,CAACK,SAAS,CAACD,aAAa,GAAGyB,SAAS;MACnFd,SAAS,EAAE,IAAI,CAACV,SAAS,GAAG,IAAI,CAACL,UAAU,CAACK,SAAS,CAACU,SAAS,GAAGc;KACrE,EACD,IAAI,CAACuB,oBAAoB,CAC5B;IAED,IACIV,uBAAc,CAACW,qBAAqB,IACpCH,iBAAiB,IACjB,IAAI,CAACE,oBAAoB,KAAK1C,KAAK,CAACC,WAAW,CAACC,UAAU,EAC5D;MACE;MACA,IAAM0C,eAAe,GAAG,IAAI,CAACC,kBAAkB,EAAE;MAEjD,IAAID,eAAe,IAAIA,eAAe,CAACE,mBAAmB,EAAE,EAAE;QAC1D,IAAMC,qBAAqB,GAAG,IAAI,CAACzD,UAAU,CAAC0D,oCAAoC,CAC9EJ,eAAe,CAACE,mBAAmB,EAAE,CACxC;QAEDN,iBAAiB,CAAChC,KAAK,CAACyC,UAAU,GAAG,GAAG,GAAGF,qBAAqB,CAACG,IAAI,GAAG,IAAI;QAC5EV,iBAAiB,CAAChC,KAAK,CAACM,WAAW,GAAG,GAAG,GAAGiC,qBAAqB,CAACI,KAAK,GAAG,IAAI;;;IAItF,OAAOX,iBAAiB;EAC5B,CAAC;EAEOhB,qDAA+B,GAAvC;IACI,IAAM4B,WAAW,GACb,IAAI,CAACC,YAAY,EAAE,IAAI,IAAI,CAAClB,SAAS,GAC/B,IAAI,CAACmB,kCAAkC,GACvC,MAAM;IAEhB,IAAI,IAAI,CAACjB,gBAAgB,EAAE;MACvB,IAAIe,WAAW,EAAE;QACb,IAAI,CAACf,gBAAgB,CAAC7B,KAAK,CAAC+C,OAAO,GAAGH,WAAW;OACpD,MAAM;QACH,IAAI,CAACf,gBAAgB,CAAC7B,KAAK,CAACgD,cAAc,CAAC,SAAS,CAAC;;;IAI7D,IAAI,IAAI,CAACC,iBAAiB,EAAE;MACxB,IAAI,IAAI,CAAC7B,MAAM,IAAI,IAAI,CAACA,MAAM,CAAC8B,cAAc,CAAC,IAAI,CAAC,EAAE;QACjD,IAAI,CAACD,iBAAiB,CAACjD,KAAK,CAAC+C,OAAO,GAAG,MAAM;OAChD,MAAM;QACH,IAAIH,WAAW,EAAE;UACb,IAAI,CAACK,iBAAiB,CAACjD,KAAK,CAAC+C,OAAO,GAAGH,WAAW;SACrD,MAAM;UACH,IAAI,CAACK,iBAAiB,CAACjD,KAAK,CAACgD,cAAc,CAAC,SAAS,CAAC;;;;EAItE,CAAC;EAEOhC,8CAAwB,GAAhC;IACI,IAAI,IAAI,CAACa,gBAAgB,IAAI,IAAI,CAACF,SAAS,EAAE;MACzC,IAAI,CAACE,gBAAgB,CAAC7B,KAAK,CAACmD,UAAU,GAAG,QAAQ;MAEjD,IAAI,CAACxB,SAAS,GAAG,KAAK;MACtBG,kCAAkC,CAAC,IAAI,EAAE,KAAK,CAAC;;EAEvD,CAAC;EAEOd,oDAA8B,GAAtC;IACI,IAAI,IAAI,CAACa,gBAAgB,IAAI,CAAC,IAAI,CAACF,SAAS,EAAE;MAC1C,IAAI,CAACE,gBAAgB,CAAC7B,KAAK,CAACgD,cAAc,CAAC,YAAY,CAAC;MAExD,IAAI,CAACrB,SAAS,GAAG,IAAI;MACrBG,kCAAkC,CAAC,IAAI,EAAE,KAAK,CAAC;;EAEvD,CAAC;EAED;EACQd,oCAAc,GAAtB,UAAuBoC,SAAiB;IACpC,IAAI,IAAI,CAACzB,SAAS,IAAI,IAAI,CAAC0B,qBAAqB,EAAE,EAAE;MAChD,IAAMC,OAAO,GAAG,IAAI,CAACC,gBAAgB,CAACH,SAAS,CAAC;MAEhD;MACA;MACA,IAAI,CAACI,uBAAuB,GAAGF,OAAO,IAAI,IAAI,CAACE,uBAAuB;MAEtE,IAAI,CAACF,OAAO,EAAE;QACV,IAAI,CAACG,wBAAwB,EAAE;OAClC,MAAM,IAAIH,OAAO,IAAI,CAAC,IAAI,CAAC3B,SAAS,EAAE;QACnC,IAAI,CAAC+B,8BAA8B,EAAE;;;EAGjD,CAAC;EAED;EACQ1C,mCAAa,GAArB;IACI,IAAI2C,WAAW,GAAG,KAAK;IAEvB,IAAI,IAAI,CAACH,uBAAuB,EAAE;MAC9B,IAAI,CAAC9B,sBAAsB,EAAE;MAC7B,IAAI,CAAC8B,uBAAuB,GAAG,KAAK;MACpCG,WAAW,GAAG,IAAI;;IAGtB,IAAI,IAAI,CAACN,qBAAqB,EAAE,EAAE;MAC9B,IAAI,CAACK,8BAA8B,EAAE;;IAGzC,OAAOC,WAAW;EACtB,CAAC;EAES3C,oDAA8B,GAAxC;IACI,OAAO,IAAI4C,oBAAoB,EAAE;EACrC,CAAC;EAES5C,8CAAwB,GAAlC;IACI,IAAM6C,eAAe,GAAG,IAAI,CAACC,2BAA2B,EAAE;IAC1D,IAAMC,kBAAkB,GAAGjE,KAAK,CAACC,gBAAgB,CAC7C8D,eAAe,CAACG,gBAAgB,CAACC,OAAO,CAACC,MAAM,CAClD;IAED,IAAM3F,OAAO,GAAGa,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC7Cd,OAAO,CAACyB,KAAK,CAACmE,MAAM,GAAG,aAAa,GAAGJ,kBAAkB;IACzDxF,OAAO,CAACyB,KAAK,CAACoE,OAAO,GAAG,KAAK;IAC7B7F,OAAO,CAACyB,KAAK,CAACqE,SAAS,GAAG,MAAM;IAChC9F,OAAO,CAACyB,KAAK,CAACsE,QAAQ,GAAG,MAAM;IAE/B,IAAIP,kBAAkB,EAAE;MACpBxF,OAAO,CAACyB,KAAK,CAACJ,KAAK,GAAGmE,kBAAkB;;IAG5CxF,OAAO,CAACgG,SAAS,GAAG,QAAQ,GAAG,IAAI,CAACC,eAAe,EAAE;IAErD,OAAOjG,OAAO;EAClB,CAAC;EAESyC,+CAAyB,GAAnC,UAAoCyD,eAA4B;IAC5D,IAAI,IAAI,CAACrE,MAAM,KAAK,MAAM,EAAE;MACxBqE,eAAe,CAACzE,KAAK,CAACU,IAAI,GAAG,UAAU;KAC1C,MAAM;MACH+D,eAAe,CAACzE,KAAK,CAACU,IAAI,GAAG,UAAU;;EAE/C,CAAC;EAESM,iCAAW,GAArB;IACI,OACI,IAAI,CAACa,gBAAgB,KAAKlB,SAAS,IACnC,IAAI,CAACgB,SAAS,IACd,IAAI,CAACE,gBAAgB,CAAC6C,YAAY,GAAG,CAAC;EAE9C,CAAC;EAIS1D,4CAAsB,GAAhC;IACI,OAAO,IAAI,CAAC2D,cAAc,EAAE;EAChC,CAAC;EAES3D,kCAAY,GAAtB;IACI,IAAI,IAAI,CAAC4D,gBAAgB,IAAI,IAAI,CAAC1C,oBAAoB,KAAK1C,KAAK,CAACC,WAAW,CAACC,UAAU,EAAE;MACrF,IAAI8B,uBAAc,CAACW,qBAAqB,IAAI,CAAC,IAAI,CAAC0C,UAAU,EAAE,EAAE;QAC5D,IAAMT,OAAO,GAAG,IAAI5C,0BAAiB,EAAE;QAEvC,IAAI,CAACsD,8BAA8B,CAACV,OAAO,CAAC;QAE5C,IAAMW,eAAe,GACjB,IAAI,CAACjG,UAAU,CAAC0D,oCAAoC,CAAC4B,OAAO,CAAC;QAEjE,IAAI,CAACQ,gBAAgB,CAAC5E,KAAK,CAACyC,UAAU,GAAG,GAAG,GAAGsC,eAAe,CAACrC,IAAI,GAAG,IAAI;QAC1E,IAAI,CAACkC,gBAAgB,CAAC5E,KAAK,CAACM,WAAW,GAAG,GAAG,GAAGyE,eAAe,CAACpC,KAAK,GAAG,IAAI;OAC/E,MAAM;QACH,IAAI,CAACiC,gBAAgB,CAAC5E,KAAK,CAACM,WAAW,GAAG,GAAG;QAC7C,IAAI,CAACsE,gBAAgB,CAAC5E,KAAK,CAACyC,UAAU,GAAG,GAAG;;;EAGxD,CAAC;EAED;;;;;EAKUzB,sCAAgB,GAA1B,UAA2BgE,UAAkB;IACzC;IACA;IACA;IACA,OAAO,KAAK;EAChB,CAAC;EAED;;;EAGUhE,4CAAsB,GAAhC;IACI;EACJ,CAAC;EAESA,uCAAiB,GAA3B;IACI,OAAO,IAAIQ,0BAAiB,EAAE;EAClC,CAAC;EAESR,sCAAgB,GAA1B,UAA2BiE,sBAAuC;IAAvC;MAAAA,8BAAuC;IAAA;IAC9D,OAAO,KAAK;EAChB,CAAC;EAESjE,kCAAY,GAAtB;IACI,OAAO,KAAK;EAChB,CAAC;EAESA,gCAAU,GAApB;IACI,OAAO,IAAI,CAACkE,QAAQ;EACxB,CAAC;EAESlE,gCAAU,GAApB,UAAqBK,KAAoC;IACrD,IAAI,CAAC6D,QAAQ,GAAG7D,KAAK;EACzB,CAAC;EAESL,qCAAe,GAAzB,UAA0BmE,OAA6B;IACnD,OAAOA,OAAO,CAACC,eAAe,CAACC,UAAU,CAAC,IAAI,CAACb,eAAe,EAAE,CAAC,KAAK7D,SAAS;EACnF,CAAC;EAEDI,sBAAcC,yCAAgB;SAA9B;MACI,OAAO,IAAI;IACf,CAAC;;;;EAEDD,sBAAcC,6CAAoB;SAAlC;MACI,OAAOxB,KAAK,CAACC,WAAW,CAACC,UAAU;IACvC,CAAC;;;;EAEDqB,sBAAcC,qCAAY;SAA1B;MACI,OAAOxB,KAAK,CAAC8F,cAAc,CAACC,OAAO;IACvC,CAAC;;;;EAIDvE,2BAAK,GAAL,UAAMwE,MAAW,EAAEL,OAA8B;IAC7CM,iBAAMC,KAAK,YAACF,MAAM,EAAEL,OAAO,GAAGA,OAAO,GAAG,IAAIvB,oBAAoB,EAAE,CAAC;EACvE,CAAC;EAED5C,8BAAQ,GAAR;IACI,OAAO,EAAE;EACb,CAAC;EAEDA,gCAAU,GAAV;IACI,OAAO,KAAK;EAChB,CAAC;EAEDA,uCAAiB,GAAjB;IACI,IAAI,IAAI,CAACI,MAAM,EAAE;MACb,OAAO,IAAI,CAACA,MAAM,CAACuE,iBAAiB,EAAE;;IAG1C,OAAO,IAAI,CAACC,YAAY;EAC5B,CAAC;EAED5E,iDAA2B,GAA3B;IACI,OAAO,IAAI,CAAClC,UAAU,CAAC+G,eAAe,CAACC,cAAc,CAAC,IAAI,CAACH,iBAAiB,EAAE,CAAC;EACnF,CAAC;EAED3E,qDAA+B,GAA/B;IACI,IAAI,IAAI,CAACI,MAAM,EAAE;MACb,OAAO,IAAI,CAACA,MAAM,CAAC2E,+BAA+B,EAAE;;IAGxD,OAAO,IAAI,CAACjH,UAAU,CAACkH,UAAU,CAAC/B,OAAO;EAC7C,CAAC;EAEDjD,6CAAuB,GAAvB;IACI,OAAO,EAAE;EACb,CAAC;EAEDA,oDAA8B,GAA9B,UACIiF,MAAyB,EACzBC,UAA0B,EAC1BC,YAA4B,EAC5BC,aAA6B,EAC7BC,WAA2B;IAH3B;MAAAH,iBAA0B;IAAA;IAC1B;MAAAC,mBAA4B;IAAA;IAC5B;MAAAC,oBAA6B;IAAA;IAC7B;MAAAC,kBAA2B;IAAA;IAE3B,IAAI,IAAI,CAACjF,MAAM,EAAE;MACb,IAAIkF,YAAY,GAAGJ,UAAU,IAAI,IAAI,CAAC9E,MAAM,CAACmF,YAAY,CAAC,IAAI,CAAC;MAC/D,IAAIC,cAAc,GAAGL,YAAY,IAAI,IAAI,CAAC/E,MAAM,CAACqF,kBAAkB,CAAC,IAAI,CAAC;MACzE,IAAIC,eAAe,GAAGN,aAAa,IAAI,IAAI,CAAChF,MAAM,CAACuF,eAAe,CAAC,IAAI,CAAC;MACxE,IAAIC,aAAa,GAAGP,WAAW,IAAI,IAAI,CAACjF,MAAM,CAACyF,iBAAiB,CAAC,IAAI,CAAC;MAEtE,IAAMC,gBAAgB,GAAG,IAAI,CAAC1F,MAAM,CAACkB,mBAAmB,EAAE;MAE1D,IAAIwE,gBAAgB,EAAE;QAClB,IAAIR,YAAY,IAAIQ,gBAAgB,CAACC,GAAG,KAAKvH,KAAK,CAACwH,OAAO,CAACC,IAAI,EAAE;UAC7DhB,MAAM,CAACc,GAAG,GAAGD,gBAAgB,CAACC,GAAG;UAEjCT,YAAY,GAAG,KAAK;;QAGxB,IAAIE,cAAc,IAAIM,gBAAgB,CAACnE,KAAK,KAAKnD,KAAK,CAACwH,OAAO,CAACC,IAAI,EAAE;UACjEhB,MAAM,CAACtD,KAAK,GAAGmE,gBAAgB,CAACnE,KAAK;UAErC6D,cAAc,GAAG,KAAK;;QAG1B,IAAIE,eAAe,IAAII,gBAAgB,CAACI,MAAM,KAAK1H,KAAK,CAACwH,OAAO,CAACC,IAAI,EAAE;UACnEhB,MAAM,CAACiB,MAAM,GAAGJ,gBAAgB,CAACI,MAAM;UAEvCR,eAAe,GAAG,KAAK;;QAG3B,IAAIE,aAAa,IAAIE,gBAAgB,CAACpE,IAAI,KAAKlD,KAAK,CAACwH,OAAO,CAACC,IAAI,EAAE;UAC/DhB,MAAM,CAACvD,IAAI,GAAGoE,gBAAgB,CAACpE,IAAI;UAEnCkE,aAAa,GAAG,KAAK;;;MAI7B,IAAIN,YAAY,IAAIE,cAAc,IAAIE,eAAe,IAAIE,aAAa,EAAE;QACpE,IAAI,CAACxF,MAAM,CAAC0D,8BAA8B,CACtCmB,MAAM,EACNK,YAAY,EACZE,cAAc,EACdE,eAAe,EACfE,aAAa,CAChB;;;EAGb,CAAC;EAED5F,oCAAc,GAAd;IACI,OAAO,CAAC;EACZ,CAAC;EAEDA,iCAAW,GAAX,UAAYmG,KAAa;IACrB,MAAM,IAAIC,KAAK,CAACC,iBAAO,CAACC,MAAM,CAACC,eAAe,CAACJ,KAAK,CAAC,CAAC;EAC1D,CAAC;EAEDnG,mCAAa,GAAb,UAAcwG,MAAc;IACxB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACC,cAAc,EAAE,EAAED,CAAC,EAAE,EAAE;MAC5C,IAAI,IAAI,CAACE,WAAW,CAACF,CAAC,CAAC,KAAKD,MAAM,EAAE;QAChC,OAAOC,CAAC;;;IAIhB,OAAO,CAAC,CAAC;EACb,CAAC;EAEDzG,4BAAM,GAAN;IACI,IAAI,IAAI,CAACI,MAAM,IAAI,IAAI,CAACA,MAAM,YAAYwG,oBAAoB,EAAE;MAC5D,OAAO,IAAI,CAACxG,MAAM,CAACyG,UAAU,CAAC,IAAI,CAAC;;IAGvC,OAAO,KAAK;EAChB,CAAC;EAED7G,4BAAM,GAAN;IACI,IAAI,CAACa,gBAAgB,GAAG,IAAI,CAACiG,sBAAsB,EAAE;IACrD,IAAI,CAAC7E,iBAAiB,GAAG,IAAI,CAAC8E,uBAAuB,EAAE;IAEvD,IAAI,IAAI,CAAClG,gBAAgB,EAAE;MACvB,IAAI,IAAI,CAACmG,EAAE,EAAE;QACT,IAAI,CAACnG,gBAAgB,CAACmG,EAAE,GAAG,IAAI,CAACA,EAAE;;MAGtC,IAAI,IAAI,CAACC,iBAAiB,EAAE;QACxB,IAAI,CAACpG,gBAAgB,CAACqG,SAAS,CAACC,GAAG,CAAC,IAAI,CAACF,iBAAiB,CAAC;;MAG/D,IAAI,CAACpG,gBAAgB,CAAC7B,KAAK,CAACoI,SAAS,GAAG,YAAY;MACpD,IAAI,CAACtF,kCAAkC,GAAG,IAAI,CAACjB,gBAAgB,CAAC7B,KAAK,CAAC+C,OAAO,GACvE,IAAI,CAAClB,gBAAgB,CAAC7B,KAAK,CAAC+C,OAAO,GACnCpC,SAAS;MAEf,IAAI,CAAC0H,yBAAyB,CAAC,IAAI,CAACxG,gBAAgB,CAAC;MACrD,IAAI,CAACyG,YAAY,CAAC,KAAK,CAAC;KAC3B,MAAM,IAAI,IAAI,CAACzF,YAAY,EAAE,EAAE;MAC5B,IAAI,CAAChB,gBAAgB,GAAG,IAAI,CAAC0G,wBAAwB,EAAE;;IAG3D,IAAI,CAACC,cAAc,EAAE,CAACC,yBAAyB,EAAE;IAEjD,OAAO,IAAI,CAAC5G,gBAAgB;EAChC,CAAC;EAEDb,kCAAY,GAAZ,UAAa0H,gBAAgC;IAAhC;MAAAA,uBAAgC;IAAA;IACzC,IAAI,CAAC9G,+BAA+B,EAAE;IACtC,IAAI,CAAC+G,YAAY,EAAE;EACvB,CAAC;EAED3H,+CAAyB,GAAzB;IACI,IAAM4H,UAAU,GAAG,IAAI,CAACJ,cAAc,EAAE,CAACK,aAAa,EAAE;IAExD,KAAmB,UAAU,EAAVC,yBAAU,EAAVC,wBAAU,EAAVA,IAAU,EAAE;MAA1B,IAAIvB,MAAM;MACXA,MAAM,CAACwB,kBAAkB,EAAE;;EAEnC,CAAC;EAEDhI,6BAAO,GAAP,UAAQiI,YAAyB;IAC7B,OAAO,CAAC,CAAC;EACb,CAAC;EAEDjI,kCAAY,GAAZ;IACI,IAAMkI,WAAW,GAAG,IAAI,CAACV,cAAc,EAAE;IAEzC,OAAOU,WAAW,YAAYC,YAAY,IAAID,WAAW,CAACE,UAAU;EACxE,CAAC;EAEDpI,oCAAc,GAAd,UAAeqI,QAAqB;IAChC,OAAO,IAAI;EACf,CAAC;EAEDrI,mCAAa,GAAb,UAAcqI,QAAqB;IAC/B,OAAO,IAAI;EACf,CAAC;EAEDrI,qCAAe,GAAf;IACI,OAAO,IAAI,CAACI,MAAM,GACZ,IAAI,CAACA,MAAM,CAACyF,iBAAiB,CAAC,IAAI,CAAC,IAAI,IAAI,CAACzF,MAAM,CAACkI,eAAe,EAAE,GACpE,IAAI;EACd,CAAC;EAEDtI,sCAAgB,GAAhB;IACI,OAAO,IAAI,CAACI,MAAM,GACZ,IAAI,CAACA,MAAM,CAACqF,kBAAkB,CAAC,IAAI,CAAC,IAAI,IAAI,CAACrF,MAAM,CAACmI,gBAAgB,EAAE,GACtE,IAAI;EACd,CAAC;EAEDvI,oCAAc,GAAd;IACI,OAAO,IAAI,CAACI,MAAM,GACZ,IAAI,CAACA,MAAM,CAAC8B,cAAc,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC9B,MAAM,CAACoI,cAAc,EAAE,GAChE,IAAI;EACd,CAAC;EAEDxI,uCAAiB,GAAjB;IACI,OAAO,IAAI,CAACI,MAAM,GACZ,IAAI,CAACA,MAAM,CAACqI,aAAa,CAAC,IAAI,CAAC,IAAI,IAAI,CAACrI,MAAM,CAACsI,iBAAiB,EAAE,GAClE,IAAI;EACd,CAAC;EAED1I,qCAAe,GAAf;IACI,OAAO,KAAK;EAChB,CAAC;EAEDA,wCAAkB,GAAlB;IACI,OAAO,KAAK;EAChB,CAAC;EAEDA,uCAAiB,GAAjB,UAAkBqI,QAAqB;IACnC,OAAO,IAAI;EACf,CAAC;EAEDrI,wCAAkB,GAAlB,UAAmBqI,QAAqB;IACpC,OAAO,IAAI;EACf,CAAC;EAEDrI,kCAAY,GAAZ,UAAazC,OAAoB;IAC7B,OAAO,IAAI,CAAC2E,cAAc,CAAC3E,OAAO,CAAC;EACvC,CAAC;EAEDyC,qCAAe,GAAf,UAAgBzC,OAAoB;IAChC,OAAO,IAAI,CAACkL,aAAa,CAAClL,OAAO,CAAC;EACtC,CAAC;EAEDyC,2CAAqB,GAArB;IACI,OACI,IAAI,CAACa,gBAAgB,KAAKlB,SAAS,IACnC,IAAI,CAACkB,gBAAgB,CAAC7B,KAAK,CAACmD,UAAU,KAAK,QAAQ;EAE3D,CAAC;EAEDnC,oCAAc,GAAd;IACI,OAAO,IAAI,CAAC2I,aAAa,EAAiB;EAC9C,CAAC;EAED3I,wCAAkB,GAAlB;IACI,IAAI4I,cAAc,GAAG,IAAI,CAACxI,MAAM;IAEhC,OAAOwI,cAAc,EAAE;MACnB,IAAIA,cAAc,YAAYC,SAAS,EAAE;QACrC,OAAOD,cAAc;;MAGzBA,cAAc,GAAGA,cAAc,CAACxI,MAAM;;IAG1C,OAAOT,SAAS;EACpB,CAAC;EAEDK,kCAAY,GAAZ,UAAa8I,cAA8B;IAA9B;MAAAA,qBAA8B;IAAA;IACvC,OAAO,EAAE;EACb,CAAC;EAED9I,mCAAa,GAAb;IACI,IAAMiF,MAAM,GAAa,EAAE;IAE3B,KAAK,IAAIwB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACC,cAAc,EAAE,EAAED,CAAC,EAAE,EAAE;MAC5C,IAAID,MAAM,GAAG,IAAI,CAACG,WAAW,CAACF,CAAC,CAAC;MAEhC,IAAID,MAAM,EAAE;QACRvB,MAAM,CAAC8D,IAAI,CAACvC,MAAM,CAAC;;;IAI3B,OAAOvB,MAAM;EACjB,CAAC;EAEDjF,4CAAsB,GAAtB;IACI,OAAO,EAAE;EACb,CAAC;EAEDA,oCAAc,GAAd,UAAegH,EAAU;IACrB,OAAO,IAAI,CAACA,EAAE,KAAKA,EAAE,GAAG,IAAI,GAAGrH,SAAS;EAC5C,CAAC;EAEDK,mCAAa,GAAb,UAAcgJ,GAAW;IACrB,OAAOrJ,SAAS;EACpB,CAAC;EAEDK,yCAAmB,GAAnB;IACI,IAAMoD,OAAO,GAAG,IAAI,CAAC6F,UAAU,EAAE;IAEjC,OAAO7F,OAAO,GAAGA,OAAO,GAAG,IAAI,CAAC8F,iBAAiB,EAAE;EACvD,CAAC;EAEDlJ,qDAA+B,GAA/B;IACI,IAAI,IAAI,CAACmJ,mBAAmB,KAAKxJ,SAAS,EAAE;MACxC,OAAO,IAAI,CAACwJ,mBAAmB;;IAGnC,IAAI,IAAI,CAAC/I,MAAM,EAAE;MACb,OAAO,IAAI,CAACA,MAAM,CAACgJ,+BAA+B,EAAE;;IAGxD,OAAO5K,KAAK,CAAC6K,mBAAmB,CAACC,IAAI;EACzC,CAAC;EAEDvJ,sBAAIC,mCAAU;SAAd;MACI,IAAI,IAAI,CAACuJ,WAAW,EAAE;QAClB,OAAO,IAAI,CAACA,WAAW;OAC1B,MAAM;QACH,IAAI,IAAI,CAACnJ,MAAM,EAAE;UACb,OAAO,IAAI,CAACA,MAAM,CAACtC,UAAU;SAChC,MAAM;UACH,OAAO0L,+BAAiB;;;IAGpC,CAAC;SAED,UAAenJ,KAAiB;MAC5B,IAAI,CAACkJ,WAAW,GAAGlJ,KAAK;IAC5B,CAAC;;;;EAEDN,sBAAIC,8BAAK;SAAT;MACI,IAAI,IAAI,CAACI,MAAM,EAAE;QACb,OAAO,IAAI,CAACA,MAAM,CAACqJ,OAAO,CAAC,IAAI,CAAC;OACnC,MAAM;QACH,OAAO,CAAC;;IAEhB,CAAC;;;;EAED1J,sBAAIC,sCAAa;SAAjB;MACI,OAAO,KAAK;IAChB,CAAC;;;;EAEDD,sBAAIC,qCAAY;SAAhB;MACI,OAAO,IAAI;IACf,CAAC;;;;EAEDD,sBAAIC,iCAAQ;SAAZ;MACI,OAAO,KAAK;IAChB,CAAC;;;;EAEDD,sBAAIC,4CAAmB;SAAvB;MACI,IAAI,IAAI,CAACI,MAAM,IAAI,IAAI,CAACwD,gBAAgB,EAAE;QACtC,OAAO,CAAC,IAAI,CAACxD,MAAM,CAAC8B,cAAc,CAAC,IAAI,CAAC,KAAK,IAAI,CAACvB,SAAS,IAAI,IAAI,CAACkB,YAAY,EAAE,CAAC;OACtF,MAAM;QACH,OAAO,KAAK;;IAEpB,CAAC;;;;EAED9B,sBAAIC,yCAAgB;SAApB;MACI,OAAO,IAAI,CAACiC,iBAAiB;IACjC,CAAC;;;;EAEDlC,sBAAIC,+BAAM;SAAV;MACI,OAAoB,IAAI,CAAC0J,OAAO;IACpC,CAAC;;;;EAED1J,iDAA2B,GAA3B;IACI,OAAO2J,mCAAwB,CAACC,UAAU;EAC9C,CAAC;EArqBe5J,wBAAY,GAAG,IAAI6J,8BAAc,CAC7CA,wBAAQ,CAACC,IAAI,EACb,MAAM,EACN,IAAI,EACJ,gBAAgB,CACnB;EACe9J,6BAAiB,GAAG,IAAI6J,4BAAY,CAACA,wBAAQ,CAACE,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC;EACtE/J,6BAAiB,GAAG,IAAI6J,4BAAY,CAACA,wBAAQ,CAACG,IAAI,EAAE,WAAW,EAAE,KAAK,CAAC;EACvEhK,0BAAc,GAAG,IAAI6J,gCAAgB,CACjDA,wBAAQ,CAACC,IAAI,EACb,QAAQ,EACR,CAAC;IAAEzJ,KAAK,EAAE;EAAM,CAAE,EAAE;IAAEA,KAAK,EAAE;EAAS,CAAE,CAAC,EACzC,MAAM,CACT;EACeL,uCAA2B,GAAG,IAAI6J,4BAAY,CAC1DA,wBAAQ,CAACG,IAAI,EACb,qBAAqB,EACrBxL,KAAK,CAAC6K,mBAAmB,CAC5B;EACerJ,2BAAe,GAAG,IAAI6J,4BAAY,CAC9CA,wBAAQ,CAACG,IAAI,EACb,SAAS,EACTxL,KAAK,CAACwH,OAAO,EACbxH,KAAK,CAACwH,OAAO,CAACzB,OAAO,CACxB;EAGD0F,YADC,4BAAQ,EAACjK,WAAW,CAACkK,2BAA2B,CAAC,wDACF;EAGhDD,YADC,4BAAQ,EAACjK,WAAW,CAACmK,eAAe,CAAC,4CACf;EAGvBF,YADC,4BAAQ,EAACjK,WAAW,CAACoK,iBAAiB,CAAC,8CACrB;EAGnBH,YADC,4BAAQ,EAACjK,WAAW,CAACqK,cAAc,CAAC,2CACX;EAG1BJ,YADC,4BAAQ,EAACjK,WAAW,CAACG,YAAY,CAAC,uCAalC;EAOD8J,YADC,4BAAQ,EAACjK,WAAW,CAACO,iBAAiB,CAAC,4CAGvC;EA0mBL,kBAAC;CAAA,CAzqByC+J,wBAAU;AAA9B1K;AA2qBtB;EAAoCC;EA+BhC,wBACa0K,aAAsB,EACtBC,IAAY,EACZC,oBAAmC;IAAnC;MAAAA,yBAAmC;IAAA;IAHhD,YAKIhG,kBAAM8F,aAAa,EAAEC,IAAI,EAAE7K,SAAS,CAAC;IAJ5BG,mBAAa,GAAbyK,aAAa;IACbzK,UAAI,GAAJ0K,IAAI;IACJ1K,0BAAoB,GAApB2K,oBAAoB;;EAGjC;EApCAC,8BAAK,GAAL,UACIC,MAA0B,EAC1BnG,MAAmB,EACnBL,OAA6B;IAE7B,IAAM/D,MAAM,GAAgBuK,MAAM;IAElC,OAAOxG,OAAO,CAACyG,WAAW,CACtBxK,MAAM,EACNoE,MAAM,CAAC,IAAI,CAACgG,IAAI,CAAC,EACjB,IAAI,CAACC,oBAAoB,EACzBrK,MAAM,CAACyB,YAAY,EAAE,CACxB;EACL,CAAC;EAED6I,+BAAM,GAAN,UACIC,MAA0B,EAC1BE,MAAmB,EACnBxK,KAAyB,EACzB8D,OAA6B;IAE7BA,OAAO,CAAC2G,cAAc,CAClBD,MAAM,EACN,IAAI,CAACL,IAAI,EACTnK,KAAK,GAAGA,KAAK,CAAC0K,MAAM,CAAC5G,OAAO,CAAC,GAAGxE,SAAS,EACzCA,SAAS,EACT,IAAI,CACP;EACL,CAAC;EASL,qBAAC;AAAD,CAAC,CAtCmCkK,kCAAkB;AAAzCjK;AAwCb;EAA4CC;EA6FxC,uBAAYmL,IAAa;IAAzB,YACIvG,iBAAO;IAHX3E,gBAAU,GAAY,KAAK;IAKvB,IAAIkL,IAAI,EAAE;MACNlL,KAAI,CAACkL,IAAI,GAAGA,IAAI;;;EAExB;EAtFUC,sCAAc,GAAxB,UAAyBC,MAAgC;IACrDzG,iBAAM0G,cAAc,YAACD,MAAM,CAAC;IAE5B;IACA;IACAA,MAAM,CAACE,MAAM,CAACH,aAAa,CAACI,oBAAoB,CAAC;EACrD,CAAC;EAkBDtL,sBAAIkL,+BAAI;SAAR;MACI,OAAO,IAAI,CAAC/K,QAAQ,CAAC+K,aAAa,CAACK,YAAY,CAAC;IACpD,CAAC;SAED,UAASjL,KAAyB;MAC9B,IAAI,CAACkL,OAAO,CAAClL,KAAK,CAAC;IACvB,CAAC;;;;EAKD;EAEU4K,mCAAW,GAArB,UAAsBO,QAA4B;IAC9C,QAAQ,IAAI,CAACC,aAAa;MACtB,KAAKjN,KAAK,CAACkN,QAAQ,CAACC,KAAK;QACrB,OAAOH,QAAQ,CAACI,SAAS,CAACC,KAAK;MACnC,KAAKrN,KAAK,CAACkN,QAAQ,CAACI,MAAM;QACtB,OAAON,QAAQ,CAACI,SAAS,CAACG,MAAM;MACpC,KAAKvN,KAAK,CAACkN,QAAQ,CAACM,KAAK;QACrB,OAAOR,QAAQ,CAACI,SAAS,CAACK,KAAK;MACnC,KAAKzN,KAAK,CAACkN,QAAQ,CAACQ,UAAU;QAC1B,OAAOV,QAAQ,CAACI,SAAS,CAACO,UAAU;MACxC;QACI,OAAOX,QAAQ,CAACI,SAAS,CAAC3I,OAAO;IAAC;EAE9C,CAAC;EAESgI,0CAAkB,GAA5B,UACImB,QAA4B,EAC5BxN,KAAsB;IAEtB,QAAQA,KAAK;MACT,KAAKJ,KAAK,CAAC6N,SAAS,CAACC,MAAM;QACvB,OAAOF,QAAQ,CAACG,MAAM;MAC1B,KAAK/N,KAAK,CAAC6N,SAAS,CAACG,IAAI;QACrB,OAAOJ,QAAQ,CAACK,IAAI;MACxB,KAAKjO,KAAK,CAAC6N,SAAS,CAACK,KAAK;QACtB,OAAON,QAAQ,CAACO,KAAK;MACzB,KAAKnO,KAAK,CAAC6N,SAAS,CAACO,IAAI;QACrB,OAAOR,QAAQ,CAACS,IAAI;MACxB,KAAKrO,KAAK,CAAC6N,SAAS,CAACS,OAAO;QACxB,OAAOV,QAAQ,CAACW,OAAO;MAC3B,KAAKvO,KAAK,CAAC6N,SAAS,CAACW,SAAS;QAC1B,OAAOZ,QAAQ,CAACa,SAAS;MAC7B;QACI,OAAOb,QAAQ,CAACnJ,OAAO;IAAC;EAEpC,CAAC;EAESgI,+BAAO,GAAjB,UAAkB5K,KAAyB;IACvC,IAAI,CAACC,QAAQ,CAAC2K,aAAa,CAACK,YAAY,EAAEjL,KAAK,CAAC;EACpD,CAAC;EAYD4K,4BAAI,GAAJ,UAAKiC,cAAkC;IACnC,IAAI,CAACC,IAAI,GAAGD,cAAc,CAACC,IAAI;IAC/B,IAAI,CAACC,MAAM,GAAGF,cAAc,CAACE,MAAM;IACnC,IAAI,CAACxO,KAAK,GAAGsO,cAAc,CAACtO,KAAK;IACjC,IAAI,CAACyO,QAAQ,GAAGH,cAAc,CAACG,QAAQ;EAC3C,CAAC;EAEDpC,gCAAQ,GAAR;IACI,OAAO,IAAI,CAACD,IAAI;EACpB,CAAC;EAEDC,qCAAa,GAAb,UAAcqC,aAA0B;IACpC,IAAM9B,QAAQ,GAAG,IAAI,CAAC1N,UAAU,CAACyP,qBAAqB,CAAC,IAAI,CAACC,iBAAiB,CAAC;IAE9E,IAAIhC,QAAQ,CAACiC,UAAU,EAAE;MACrBH,aAAa,CAACtO,KAAK,CAACyO,UAAU,GAAGjC,QAAQ,CAACiC,UAAU;;IAGxD,IAAInK,QAAgB;IAEpB,QAAQ,IAAI,CAACmI,aAAa;MACtB,KAAKjN,KAAK,CAACkN,QAAQ,CAACC,KAAK;QACrBrI,QAAQ,GAAGkI,QAAQ,CAACI,SAAS,CAACC,KAAK;QACnC;MACJ,KAAKrN,KAAK,CAACkN,QAAQ,CAACI,MAAM;QACtBxI,QAAQ,GAAGkI,QAAQ,CAACI,SAAS,CAACG,MAAM;QACpC;MACJ,KAAKvN,KAAK,CAACkN,QAAQ,CAACM,KAAK;QACrB1I,QAAQ,GAAGkI,QAAQ,CAACI,SAAS,CAACK,KAAK;QACnC;MACJ,KAAKzN,KAAK,CAACkN,QAAQ,CAACQ,UAAU;QAC1B5I,QAAQ,GAAGkI,QAAQ,CAACI,SAAS,CAACO,UAAU;QACxC;MACJ;QACI7I,QAAQ,GAAGkI,QAAQ,CAACI,SAAS,CAAC3I,OAAO;QACrC;IAAM;IAGdqK,aAAa,CAACtO,KAAK,CAACsE,QAAQ,GAAGA,QAAQ,GAAG,IAAI;IAE9C,IAAMoK,eAAe,GAAG,IAAI,CAACC,kBAAkB,CAC3C,IAAI,CAAC7K,2BAA2B,EAAE,CAACE,gBAAgB,EACnD,IAAI,CAAC4K,cAAc,CACtB;IAED,IAAMC,WAAW,GAAG/O,KAAK,CAACC,gBAAgB,CACtC,IAAI,CAAC+O,iBAAiB,GAAGJ,eAAe,CAACxK,MAAM,GAAGwK,eAAe,CAACzK,OAAO,CAC5E;IACD,IAAI4K,WAAW,EAAE;MACbP,aAAa,CAACtO,KAAK,CAACJ,KAAK,GAAGiP,WAAW;;IAG3C,IAAIE,UAAkB;IAEtB,QAAQ,IAAI,CAACC,eAAe;MACxB,KAAKxP,KAAK,CAACyP,UAAU,CAACC,OAAO;QACzBH,UAAU,GAAGvC,QAAQ,CAAC2C,WAAW,CAACC,OAAO;QACzC;MACJ,KAAK5P,KAAK,CAACyP,UAAU,CAACI,MAAM;QACxBN,UAAU,GAAGvC,QAAQ,CAAC2C,WAAW,CAACG,MAAM;QACxC;MACJ;QACIP,UAAU,GAAGvC,QAAQ,CAAC2C,WAAW,CAAClL,OAAO;QACzC;IAAM;IAGdqK,aAAa,CAACtO,KAAK,CAAC+O,UAAU,GAAGA,UAAU,CAAChN,QAAQ,EAAE;IAEtD,IAAI,IAAI,CAACwN,UAAU,EAAE;MACjBjB,aAAa,CAAC3O,YAAY,CAAC,aAAa,EAAE,MAAM,CAAC;;EAEzD,CAAC;EAEDsM,qCAAa,GAAb;IACI,IAAMhG,MAAM,GAAGR,iBAAMoD,aAAa,WAAE;IAEpC,IAAI,IAAI,CAAC2G,YAAY,EAAE;MACnBvJ,MAAM,CAAC8D,IAAI,CAAC,IAAI,CAACyF,YAAY,CAAC;;IAGlC,OAAOvJ,MAAM;EACjB,CAAC;EAEDlF,sBAAIkL,yCAAc;SAAlB;MACI,OAAO,IAAI,CAACrM,KAAK,KAAKe,SAAS,GAAG,IAAI,CAACf,KAAK,GAAG,IAAI,CAACmG,+BAA+B,EAAE,CAACnG,KAAK;IAC/F,CAAC;;;;EAEDmB,sBAAIkL,4CAAiB;SAArB;MACI,OAAO,IAAI,CAACO,QAAQ,KAAK7L,SAAS,GAC5B,IAAI,CAAC6L,QAAQ,GACb,IAAI,CAACzG,+BAA+B,EAAE,CAACyG,QAAQ;IACzD,CAAC;;;;EAEDzL,sBAAIkL,4CAAiB;SAArB;MACI,OAAO,IAAI,CAACoC,QAAQ,KAAK1N,SAAS,GAC5B,IAAI,CAAC0N,QAAQ,GACb,IAAI,CAACtI,+BAA+B,EAAE,CAACsI,QAAQ;IACzD,CAAC;;;;EAEDtN,sBAAIkL,wCAAa;SAAjB;MACI,OAAO,IAAI,CAACkC,IAAI,KAAKxN,SAAS,GAAG,IAAI,CAACwN,IAAI,GAAG,IAAI,CAACpI,+BAA+B,EAAE,CAACoI,IAAI;IAC5F,CAAC;;;;EAEDpN,sBAAIkL,0CAAe;SAAnB;MACI,OAAO,IAAI,CAACmC,MAAM,KAAKzN,SAAS,GAC1B,IAAI,CAACyN,MAAM,GACX,IAAI,CAACrI,+BAA+B,EAAE,CAACqI,MAAM;IACvD,CAAC;;;;EA/MD;EAEgBnC,0BAAY,GAAG,IAAIpB,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC;EAC9DiB,0BAAY,GAAG,IAAIpB,4BAAY,CAACA,wBAAQ,CAACG,IAAI,EAAE,MAAM,EAAExL,KAAK,CAACkN,QAAQ,CAAC;EACtET,4BAAc,GAAG,IAAIpB,4BAAY,CAACA,wBAAQ,CAACG,IAAI,EAAE,QAAQ,EAAExL,KAAK,CAACyP,UAAU,CAAC;EAC5EhD,2BAAa,GAAG,IAAIpB,4BAAY,CAACA,wBAAQ,CAACG,IAAI,EAAE,OAAO,EAAExL,KAAK,CAAC6N,SAAS,CAAC;EACzEpB,8BAAgB,GAAG,IAAIpB,4BAAY,CAACA,wBAAQ,CAACG,IAAI,EAAE,UAAU,CAAC;EAC9DiB,8BAAgB,GAAG,IAAIpB,4BAAY,CAACA,wBAAQ,CAACE,IAAI,EAAE,UAAU,EAAEvL,KAAK,CAACiQ,QAAQ,CAAC;EAC9ExD,kCAAoB,GAAG,IAAIP,cAAc,CAACb,wBAAQ,CAACC,IAAI,EAAE,cAAc,EAAE,CACrF,iBAAiB,CACpB,CAAC;EAWFG,YADC,4BAAQ,EAACgB,aAAa,CAACyD,YAAY,CAAC,2CACf;EAGtBzE,YADC,4BAAQ,EAACgB,aAAa,CAAC0D,cAAc,CAAC,6CACb;EAG1B1E,YADC,4BAAQ,EAACgB,aAAa,CAAC2D,aAAa,CAAC,4CACd;EAGxB3E,YADC,4BAAQ,EAACgB,aAAa,CAAC4D,gBAAgB,CAAC,+CACf;EAG1B5E,YADC,4BAAQ,EAACgB,aAAa,CAAC6D,gBAAgB,CAAC,+CACtB;EAGnB7E,YADC,4BAAQ,EAACgB,aAAa,CAACK,YAAY,CAAC,yCAGpC;EAODrB,YADC,4BAAQ,EAACgB,aAAa,CAACI,oBAAoB,CAAC,mDACvB;EAmK1B,oBAAC;CAAA,CAjN2CrL,WAAW;AAAjCJ;AAqNtB;EAA+BC;EAA/B;IACI;IADJ;IAYIC,UAAI,GAAY,KAAK;IAabA,uBAAiB,GAAY,IAAI;IA+QzCA,iBAAW,GAAY,IAAI;;EAuE/B;EApVYiP,0CAAsB,GAA9B;;IACI,IAAI,IAAI,CAACtL,eAAe,KAAK9D,SAAS,EAAE;MACpC,IAAI,IAAI,CAACqP,QAAQ,IAAI,IAAI,CAACA,QAAQ,GAAG,CAAC,EAAE;QACpC,IAAI,CAACvL,eAAe,CAACzE,KAAK,CAACoD,SAAS,GAChC,IAAI,CAAC6M,mBAAmB,GAAG,IAAI,CAACD,QAAQ,GAAG,IAAI;;MAGvD,IAAME,YAAY,GAAG,qBAAS,CAACC,kBAAkB,0CAAEC,UAAU,CAAC,IAAI,CAACC,kBAAkB,CAAC,mCAAI,IAAI,CAACA,kBAAkB;MACjH,IAAI,CAAC5L,eAAe,CAAC7F,SAAS,GAAGsR,YAAsB;;EAE/D,CAAC;EAEOH,uCAAmB,GAA3B,UAA4B3M,SAAiB;IACzC,IAAI,IAAI,CAACqB,eAAe,KAAK9D,SAAS,EAAE;MACpC;MACA;MACA;MACA,IAAM2P,QAAQ,GAAG,IAAI,CAAC7L,eAAe,CAAC6L,QAAQ;MAC9C,IAAMC,UAAU,GAAG,CAACD,QAAQ,CAACE,MAAM;MACnC,IAAMC,mBAAmB,GACrBF,UAAU,IACTD,QAAQ,CAACE,MAAM,KAAK,CAAC,IAAkBF,QAAQ,CAAC,CAAC,CAAE,CAACI,OAAO,CAACC,WAAW,EAAE,KAAK,GAAG,IAAI,CAAeL,QAAQ,CAAC,CAAC,CAAE,CAACA,QAAQ,CAACE,MAAO;MAEtI,IAAIC,mBAAmB,EAAE;QACrB,IAAMlS,OAAO,GAAGgS,UAAU,GAAG,IAAI,CAAC9L,eAAe,GAAgB6L,QAAQ,CAAC,CAAC,CAAC;QAE5ExQ,KAAK,CAAC8Q,YAAY,CAACrS,OAAO,EAAE6E,SAAS,EAAE,IAAI,CAAC6M,mBAAmB,CAAC;QAEhE,OAAO,IAAI;;;IAInB,OAAO,KAAK;EAChB,CAAC;EAkBSF,2BAAO,GAAjB,UAAkB1O,KAAa;IAC3BoE,iBAAM8G,OAAO,YAAClL,KAAK,CAAC;IAEpB,IAAI,CAACwP,cAAc,GAAGlQ,SAAS;EACnC,CAAC;EAESoP,kCAAc,GAAxB;IAAA;;IACI,IAAI,CAACc,cAAc,GAAGlQ,SAAS;IAE/B,IAAI,IAAI,CAACqL,IAAI,EAAE;MACX,IAAM8E,gBAAgB,GAAG,IAAI,CAACC,uBAAuB,CAAC9E,aAAa,CAACK,YAAY,CAAC;MACjF,IAAMxN,UAAU,GAAG,IAAI,CAACA,UAAU;MAElC,IAAIP,OAAO,SAAa;MAExB,IAAI,IAAI,CAACyS,YAAY,EAAE;QACnB,IAAMC,YAAY,GAAG7R,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;QACpD4R,YAAY,CAACC,OAAO,GAAG,IAAI,CAACF,YAAY;QAExCzS,OAAO,GAAG0S,YAAY;OACzB,MAAM;QACH1S,OAAO,GAAGa,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;;MAG3Cd,OAAO,CAAC2J,SAAS,CAACC,GAAG,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,cAAc,CAAC,CAAC;MAClEhB,OAAO,CAACyB,KAAK,CAACS,QAAQ,GAAG,QAAQ;MAEjC,IAAI,CAAC0Q,aAAa,CAAC5S,OAAO,CAAC;MAE3B,IAAI,IAAI,CAACyB,KAAK,KAAK,SAAS,EAAE;QAC1BzB,OAAO,CAACoB,YAAY,CAAC,MAAM,EAAE,SAAS,CAAC;QAEvC,IAAMyR,YAAY,GAAG,IAAI,CAACtS,UAAU,CAACuS,SAAS,CAACD,YAAY;QAE3D,IAAIA,YAAY,KAAKzQ,SAAS,IAAIyQ,YAAY,GAAG,CAAC,EAAE;UAChD7S,OAAO,CAACoB,YAAY,CAAC,YAAY,EAAEyR,YAAY,CAACrP,QAAQ,EAAE,CAAC;;;MAInE,IAAI,IAAI,CAACyN,YAAY,IAAI1Q,UAAU,CAACwS,qBAAqB,EAAE;QACvD/S,OAAO,CAACgT,OAAO,GAAG,UAACC,CAAC;UAChB,IAAI1Q,KAAI,CAAC0O,YAAY,IAAI1O,KAAI,CAAC0O,YAAY,CAACiC,oBAAoB,EAAE,EAAE;YAC/DD,CAAC,CAACE,cAAc,EAAE;YAClBF,CAAC,CAACG,YAAY,GAAG,IAAI;YAErB7Q,KAAI,CAAC0O,YAAY,CAACoC,OAAO,EAAE;;QAEnC,CAAC;QAED,IAAI,CAACpC,YAAY,CAACqC,4BAA4B,CAACtT,OAAO,CAAC;QAEvD,IAAI,IAAI,CAACiR,YAAY,CAACiC,oBAAoB,EAAE,EAAE;UAC1ClT,OAAO,CAAC2J,SAAS,CAACC,GAAG,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,eAAe,CAAC,CAAC;;;MAI3E,IAAI,CAAC,IAAI,CAACsR,cAAc,EAAE;QACtB,IAAI,CAACiB,iBAAiB,GAAG,IAAI;QAE7B,IAAIC,aAAa,GAAGC,cAAc,CAACC,UAAU,CAAC,IAAI,CAAChR,IAAI,EAAE6P,gBAAgB,CAAC;QAE1E,IAAI,IAAI,CAACoB,WAAW,IAAIH,aAAa,EAAE;UACnC,IAAIvQ,uBAAc,CAAC2Q,4BAA4B,EAAE;YAC7CJ,aAAa,GAAGA,aAAa,CACxBK,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC,CACzBA,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC;;UAGrC,IAAMC,wBAAwB,GAAGlJ,YAAY,CAACmJ,aAAa,CAACP,aAAa,CAAC;UAE1E,IACIM,wBAAwB,CAACE,UAAU,IACnCF,wBAAwB,CAACG,UAAU,EACrC;YACE,IAAI,CAAC3B,cAAc,GAAGwB,wBAAwB,CAACG,UAAU;YACzD,IAAI,CAACV,iBAAiB,GAAG,KAAK;YAE9B;YACA;YACA,IAAItQ,uBAAc,CAAC2Q,4BAA4B,IAAI,IAAI,CAACtB,cAAc,EAAE;cACpE,IAAI4B,SAAS,GAAW,EAAE;cAC1B,IAAMC,cAAc,GAAG,IAAI,CAAC5O,2BAA2B,EAAE;cAEzD,IAAI4O,cAAc,CAACC,wBAAwB,EAAE;gBACzCF,SAAS,IACL,oBAAoB,GACpBC,cAAc,CAACC,wBAAwB,GACvC,GAAG;;cAGX,IAAID,cAAc,CAACE,wBAAwB,EAAE;gBACzCH,SAAS,IACL,SAAS,GAAGC,cAAc,CAACE,wBAAwB,GAAG,GAAG;;cAGjE,IAAIH,SAAS,EAAE;gBACXA,SAAS,GAAG,SAAS,GAAGA,SAAS,GAAG,GAAG;;cAG3C,IAAI,CAAC5B,cAAc,GAAG,IAAI,CAACA,cAAc,CACpCuB,OAAO,CAAC,MAAM,EAAE,QAAQ,GAAGK,SAAS,GAAG,GAAG,CAAC,CAC3CL,OAAO,CAAC,SAAS,EAAE,SAAS,CAAC;;WAEzC,MAAM;YACH,IAAI,CAACvB,cAAc,GAAGkB,aAAa;YACnC,IAAI,CAACD,iBAAiB,GAAG,IAAI;;SAEpC,MAAM;UACH,IAAI,CAACjB,cAAc,GAAGkB,aAAa;UACnC,IAAI,CAACD,iBAAiB,GAAG,IAAI;;;MAIrC,IAAI,CAAC,IAAI,CAACjB,cAAc,EAAE;QACtB,IAAI,CAACA,cAAc,GAAG,EAAE;;MAG5B,IAAI,IAAI,CAACiB,iBAAiB,EAAE;QACxBvT,OAAO,CAACgG,SAAS,GAAG,IAAI,CAACsM,cAAc;OAC1C,MAAM;QACH,IAAMgC,aAAa,GACf,qBAAS,CAACC,iBAAiB,0CAAE1C,UAAU,CAAC,IAAI,CAACS,cAAc,CAAC,mCAC5D,IAAI,CAACA,cAAc;QACvBtS,OAAO,CAACK,SAAS,GAAGiU,aAAuB;;MAG/C,IAAItU,OAAO,CAACwU,iBAAiB,YAAYC,WAAW,EAAE;QAClD,IAAMD,iBAAiB,GAAGxU,OAAO,CAACwU,iBAAiB;QACnDA,iBAAiB,CAAC/S,KAAK,CAACiT,SAAS,GAAG,KAAK;QACzCF,iBAAiB,CAAC/S,KAAK,CAACQ,KAAK,GAAG,MAAM;QAEtC,IAAI,CAAC,IAAI,CAAC0S,IAAI,EAAE;UACZH,iBAAiB,CAAC/S,KAAK,CAACS,QAAQ,GAAG,QAAQ;UAC3CsS,iBAAiB,CAAC/S,KAAK,CAACmT,YAAY,GAAG,UAAU;;;MAIzD,IAAI5U,OAAO,CAAC6U,gBAAgB,YAAYJ,WAAW,EAAE;QACjDzU,OAAO,CAAC6U,gBAAgB,CAACpT,KAAK,CAACE,YAAY,GAAG,KAAK;;MAGvD,IAAMmT,OAAO,GAAG9U,OAAO,CAAC+U,oBAAoB,CAAC,GAAG,CAAC;8BAEtCC,MAAM;QACbA,MAAM,CAACrL,SAAS,CAACC,GAAG,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,WAAW,CAAC,CAAC;QAC9DgU,MAAM,CAAC1H,MAAM,GAAG,QAAQ;QACxB0H,MAAM,CAAChC,OAAO,GAAG,UAACC,CAAa;UAC3B,IAAIgC,uBAAuB,CAAC1S,KAAI,EAAEyS,MAAM,EAAE/B,CAAC,CAAC,EAAE;YAC1CA,CAAC,CAACE,cAAc,EAAE;YAClBF,CAAC,CAACG,YAAY,GAAG,IAAI;;QAE7B,CAAC;QACD4B,MAAM,CAACE,aAAa,GAAG,UAACjC,CAAa;UACjC,IAAIgC,uBAAuB,CAAC1S,KAAI,EAAEyS,MAAM,EAAE/B,CAAC,CAAC,EAAE;YAC1CA,CAAC,CAACE,cAAc,EAAE;YAClBF,CAAC,CAACG,YAAY,GAAG,IAAI;YAErB,OAAO,KAAK;;UAGhB,OAAO,IAAI;QACf,CAAC;;MAlBL,KAAqB,UAAmB,EAAnB+B,UAAK,CAACC,IAAI,CAACN,OAAO,CAAC,EAAnBtK,cAAmB,EAAnBA,IAAmB;QAAnC,IAAMwK,MAAM;gBAANA,MAAM;;MAqBjB,IAAI,IAAI,CAACL,IAAI,EAAE;QACX3U,OAAO,CAACyB,KAAK,CAAC4T,QAAQ,GAAG,YAAY;QAErC,IAAI,IAAI,CAAC5D,QAAQ,IAAI,IAAI,CAACA,QAAQ,GAAG,CAAC,EAAE;UACpCzR,OAAO,CAACyB,KAAK,CAACS,QAAQ,GAAG,QAAQ;UAEjC,IAAIX,KAAK,CAAC+T,kBAAkB,EAAE,IAAI,CAACrS,uBAAc,CAACsS,kBAAkB,EAAE;YAClEvV,OAAO,CAACyB,KAAK,CAACoD,SAAS,GAAG,IAAI,CAAC6M,mBAAmB,GAAG,IAAI,CAACD,QAAQ,GAAG,IAAI;WAC5E,MAAM;YACH;YACA;YACA;YACAzR,OAAO,CAACyB,KAAK,CAACgD,cAAc,CAAC,aAAa,CAAC;YAC3CzE,OAAO,CAACyB,KAAK,CAAC+C,OAAO,GAAG,aAAa;YACrCxE,OAAO,CAACyB,KAAK,CAAC+T,eAAe,GAAG,UAAU;YAC1CxV,OAAO,CAACyB,KAAK,CAACgU,eAAe,GAAG,IAAI,CAAChE,QAAQ,CAACjO,QAAQ,EAAE;;;OAGnE,MAAM;QACHxD,OAAO,CAACyB,KAAK,CAACiU,UAAU,GAAG,QAAQ;QACnC1V,OAAO,CAACyB,KAAK,CAACmT,YAAY,GAAG,UAAU;;MAG3C,IACI3R,uBAAc,CAAC0S,8BAA8B,IAC7C1S,uBAAc,CAACC,+BAA+B,EAChD;QACE,IAAI,CAAC4O,kBAAkB,GAAG9R,OAAO,CAACK,SAAS;;MAG/C,OAAOL,OAAO;KACjB,MAAM;MACH,OAAOoC,SAAS;;EAExB,CAAC;EAESoP,oCAAgB,GAA1B,UAA2B3M,SAAiB;IACxC,IAAIA,SAAS,IAAI,IAAI,CAAC6M,mBAAmB,EAAE;MACvC,OAAO,IAAI,CAACkE,mBAAmB,CAAC/Q,SAAS,CAAC;;IAG9C,OAAO,KAAK;EAChB,CAAC;EAES2M,0CAAsB,GAAhC;IACI,IAAI,CAACqE,sBAAsB,EAAE;IAE7B,IAAI5S,uBAAc,CAAC0S,8BAA8B,IAAI,IAAI,CAAClE,QAAQ,EAAE;MAChE,IAAM5M,SAAS,GAAG,IAAI,CAAC6M,mBAAmB,GAAG,IAAI,CAACD,QAAQ;MAE1D,IAAI,CAACmE,mBAAmB,CAAC/Q,SAAS,CAAC;;EAE3C,CAAC;EAKD2M,iCAAa,GAAb,UAAczB,aAA0B;IACpC7I,iBAAM0L,aAAa,YAAC7C,aAAa,CAAC;IAElC,QAAQ,IAAI,CAAClE,+BAA+B,EAAE;MAC1C,KAAK5K,KAAK,CAAC6K,mBAAmB,CAACgK,MAAM;QACjC/F,aAAa,CAACtO,KAAK,CAACsU,SAAS,GAAG,QAAQ;QACxC;MACJ,KAAK9U,KAAK,CAAC6K,mBAAmB,CAACkK,KAAK;QAChCjG,aAAa,CAACtO,KAAK,CAACsU,SAAS,GAAG,KAAK;QACrC;MACJ;QACIhG,aAAa,CAACtO,KAAK,CAACsU,SAAS,GAAG,OAAO;QACvC;IAAM;IAGd,IAAME,WAAW,GAAG,IAAI,CAAC1V,UAAU,CAAC0V,WAAW;IAE/C,IAAIA,WAAW,EAAE;MACb,QAAQ,IAAI,CAAC/H,aAAa;QACtB,KAAKjN,KAAK,CAACkN,QAAQ,CAACC,KAAK;UACrB,IAAI,CAACsD,mBAAmB,GAAGuE,WAAW,CAAC3H,KAAK;UAC5C;QACJ,KAAKrN,KAAK,CAACkN,QAAQ,CAACI,MAAM;UACtB,IAAI,CAACmD,mBAAmB,GAAGuE,WAAW,CAACzH,MAAM;UAC7C;QACJ,KAAKvN,KAAK,CAACkN,QAAQ,CAACM,KAAK;UACrB,IAAI,CAACiD,mBAAmB,GAAGuE,WAAW,CAACvH,KAAK;UAC5C;QACJ,KAAKzN,KAAK,CAACkN,QAAQ,CAACQ,UAAU;UAC1B,IAAI,CAAC+C,mBAAmB,GAAGuE,WAAW,CAACrH,UAAU;UACjD;QACJ;UACI,IAAI,CAAC8C,mBAAmB,GAAGuE,WAAW,CAACvQ,OAAO;UAC9C;MAAM;KAEjB,MAAM;MACH;MACA;MACA,IAAI,CAACgM,mBAAmB,GACpB,IAAI,CAACwE,WAAW,CAAC,IAAI,CAAC3V,UAAU,CAACyP,qBAAqB,CAAC,IAAI,CAACC,iBAAiB,CAAC,CAAC,GAC/E,IAAI;;IAGZF,aAAa,CAACtO,KAAK,CAAC0U,UAAU,GAAG,IAAI,CAACzE,mBAAmB,GAAG,IAAI;EACpE,CAAC;EAEDF,mCAAe,GAAf;IACI,OAAO,WAAW;EACtB,CAAC;EAEDA,mDAA+B,GAA/B;IACI,IAAI,IAAI,CAAC/P,KAAK,EAAE;MACZ,OAAO,IAAI,CAAClB,UAAU,CAACkH,UAAU,CAACF,cAAc,CAAC,IAAI,CAAC9F,KAAK,CAAC;;IAGhE,OAAOyF,iBAAMM,+BAA+B,WAAE;EAClD,CAAC;EAEDgK,gCAAY,GAAZ,UAAa4E,eAAgC;IAAhC;MAAAA,uBAAgC;IAAA;IACzClP,iBAAM6C,YAAY,YAACqM,eAAe,CAAC;IAEnC,IAAInT,uBAAc,CAAC0S,8BAA8B,IAAI,IAAI,CAAClE,QAAQ,IAAI,IAAI,CAAC4E,WAAW,EAAE,EAAE;MACtF;MACA;MACA,IAAI,CAACR,sBAAsB,EAAE;MAC7B,IAAI,CAACD,mBAAmB,CAAC,IAAI,CAAClE,mBAAmB,GAAG,IAAI,CAACD,QAAQ,CAAC;;EAE1E,CAAC;;EA3WeD,sBAAY,GAAG,IAAIlF,4BAAY,CAACA,wBAAQ,CAACG,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC;EAC7D+E,0BAAgB,GAAG,IAAIlF,2BAAW,CAACA,wBAAQ,CAACG,IAAI,EAAE,UAAU,CAAC;EAC7D+E,uBAAa,GAAG,IAAIlF,gCAAgB,CAACA,wBAAQ,CAACgK,IAAI,EAAE,OAAO,EAAE,CACzE;IAAExT,KAAK,EAAE;EAAS,CAAE,EACpB;IAAEA,KAAK,EAAE;EAAc,CAAE,EACzB;IAAEA,KAAK,EAAE;EAAS,CAAE,CACvB,CAAC;EAqDF;EACA;EACwB0O,2BAAiB,GAAI,OAAOtR,MAAM,KAAK,WAAW,GAAIkC,SAAS,GAAG,YAAM,CAACjC,YAAY,0CAAEoW,YAAY,CACvH,yCAAyC,EACzC;IAAE1E,UAAU,EAAE,UAAC/O,KAAK;MAAK,YAAK;IAAL;EAAK,CAAE,CACnC;EAED;EACA;EACA;EACA;EACwB0O,4BAAkB,GAAI,OAAOtR,MAAM,KAAK,WAAW,GAAIkC,SAAS,GAAG,YAAM,CAACjC,YAAY,0CAAEoW,YAAY,CACxH,qCAAqC,EACrC;IAAE1E,UAAU,EAAE,UAAC/O,KAAK;MAAK,YAAK;IAAL;EAAK,CAAE,CACnC;EAhED4J,YADC,4BAAQ,EAAC8E,SAAS,CAACgF,YAAY,CAAC,uCACX;EAGtB9J,YADC,4BAAQ,EAAC8E,SAAS,CAACiF,gBAAgB,CAAC,2CACnB;EAGlB/J,YADC,4BAAQ,EAAC8E,SAAS,CAACkF,aAAa,CAAC,wCACX;EA6V3B,gBAAC;CAAA,CA/W8BhJ,aAAa;AAA/BrL;AAiXb;EAA6BC;EAA7B;IACI;IADJ;IAeIC,YAAM,GAAY,KAAK;IAGvBA,mBAAa,GAAY,KAAK;IAG9BA,eAAS,GAAY,KAAK;IAG1BA,eAAS,GAAY,KAAK;;EA+F9B;EA/GcoU,gCAAc,GAAxB,UAAyBhJ,MAAgC;IACrDzG,iBAAM0G,cAAc,YAACD,MAAM,CAAC;IAE5BA,MAAM,CAAC/D,GAAG,CAAC8D,aAAa,CAACI,oBAAoB,CAAC;EAClD,CAAC;EAcD;EAEU6I,gCAAc,GAAxB;IAAA;IACI,IAAI,IAAI,CAAClJ,IAAI,EAAE;MACX,IAAM8E,gBAAgB,GAAG,IAAI,CAACC,uBAAuB,CAAC9E,aAAa,CAACK,YAAY,CAAC;MACjF,IAAMxN,UAAU,GAAG,IAAI,CAACA,UAAU;MAElC,IAAIiT,aAAa,GAAGC,cAAc,CAACC,UAAU,CAAC,IAAI,CAAChR,IAAI,EAAE6P,gBAAgB,CAAC;MAE1E,IAAI,CAACiB,aAAa,EAAE;QAChBA,aAAa,GAAG,EAAE;;MAGtB,IAAMxT,OAAO,GAAGa,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;MAC9Cd,OAAO,CAAC2J,SAAS,CAACC,GAAG,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,YAAY,CAAC,CAAC;MAEhE,IAAI,CAAC4R,aAAa,CAAC5S,OAAO,CAAC;MAE3B,IAAI,IAAI,CAACiR,YAAY,IAAI1Q,UAAU,CAACwS,qBAAqB,EAAE;QACvD,IAAMiC,MAAM,GAAGnU,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;QAC1CkU,MAAM,CAACrL,SAAS,CAACC,GAAG,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,WAAW,CAAC,CAAC;QAE9D,IAAM4V,IAAI,GAAG,IAAI,CAAC3F,YAAY,CAAC4F,OAAO,EAAE;QAExC7B,MAAM,CAAC4B,IAAI,GAAGA,IAAI,GAAGA,IAAI,GAAG,EAAE;QAC9B5B,MAAM,CAAC1H,MAAM,GAAG,QAAQ;QACxB0H,MAAM,CAAChC,OAAO,GAAG,UAACC,CAAC;UACf,IAAI1Q,KAAI,CAAC0O,YAAY,IAAI1O,KAAI,CAAC0O,YAAY,CAACiC,oBAAoB,EAAE,EAAE;YAC/DD,CAAC,CAACE,cAAc,EAAE;YAClBF,CAAC,CAACG,YAAY,GAAG,IAAI;YAErB7Q,KAAI,CAAC0O,YAAY,CAACoC,OAAO,EAAE;;QAEnC,CAAC;QAED,IAAI,CAACpC,YAAY,CAACqC,4BAA4B,CAAC0B,MAAM,CAAC;QAEtDA,MAAM,CAAChP,SAAS,GAAGwN,aAAa;QAEhCxT,OAAO,CAAC8W,WAAW,CAAC9B,MAAM,CAAC;OAC9B,MAAM;QACHhV,OAAO,CAACgG,SAAS,GAAGwN,aAAa;;MAGrC,OAAOxT,OAAO;KACjB,MAAM;MACH,OAAOoC,SAAS;;EAExB,CAAC;EAEDuU,+BAAa,GAAb,UAAc5G,aAA0B;IACpC7I,iBAAM0L,aAAa,YAAC7C,aAAa,CAAC;IAElC,IAAI,IAAI,CAACgH,MAAM,EAAE;MACbhH,aAAa,CAACtO,KAAK,CAACuV,SAAS,GAAG,QAAQ;;IAG5C,IAAI,IAAI,CAACC,aAAa,EAAE;MACpBlH,aAAa,CAACtO,KAAK,CAACyV,cAAc,GAAG,cAAc;;IAGvD,IAAI,IAAI,CAACC,SAAS,EAAE;MAChB,IAAMhH,eAAe,GAAG,IAAI,CAACC,kBAAkB,CAC3C,IAAI,CAAC7K,2BAA2B,EAAE,CAACE,gBAAgB,EACnD,IAAI,CAAC4K,cAAc,CACtB;MAED,IAAM+G,eAAe,GAAG7V,KAAK,CAACC,gBAAgB,CAC1C,IAAI,CAAC+O,iBAAiB,GAChBJ,eAAe,CAACkH,eAAe,CAAC1R,MAAM,GACtCwK,eAAe,CAACkH,eAAe,CAAC3R,OAAO,CAChD;MACD,IAAI0R,eAAe,EAAE;QACjBrH,aAAa,CAACtO,KAAK,CAAC2V,eAAe,GAAGA,eAAe;;;IAI7D,IAAI,IAAI,CAACE,SAAS,EAAE;MAChBvH,aAAa,CAACtO,KAAK,CAACyV,cAAc,GAAG,WAAW;;EAExD,CAAC;EAEDP,iCAAe,GAAf;IACI,OAAO,SAAS;EACpB,CAAC;EAEDnU,sBAAImU,iCAAY;SAAhB;MACI,OAAO,KAAK;IAChB,CAAC;;;;EAEDnU,sBAAImU,6BAAQ;SAAZ;MACI,OAAO,IAAI;IACf,CAAC;;;;EAnHeA,sBAAc,GAAG,IAAIrK,4BAAY,CAACA,wBAAQ,CAACE,IAAI,EAAE,QAAQ,EAAE,KAAK,CAAC;EACjEmK,6BAAqB,GAAG,IAAIrK,4BAAY,CAACA,wBAAQ,CAACE,IAAI,EAAE,eAAe,EAAE,KAAK,CAAC;EAC/EmK,yBAAiB,GAAG,IAAIrK,4BAAY,CAACA,wBAAQ,CAACE,IAAI,EAAE,WAAW,EAAE,KAAK,CAAC;EACvEmK,yBAAiB,GAAG,IAAIrK,4BAAY,CAACA,wBAAQ,CAACiL,IAAI,EAAE,WAAW,EAAE,KAAK,CAAC;EASvF7K,YADC,4BAAQ,EAACiK,OAAO,CAACa,cAAc,CAAC,uCACT;EAGxB9K,YADC,4BAAQ,EAACiK,OAAO,CAACc,qBAAqB,CAAC,8CACT;EAG/B/K,YADC,4BAAQ,EAACiK,OAAO,CAACe,iBAAiB,CAAC,0CACT;EAG3BhL,YADC,4BAAQ,EAACiK,OAAO,CAACgB,iBAAiB,CAAC,0CACT;EA+F/B,cAAC;CAAA,CAvH4BjK,aAAa;AAA7BrL;AAyHb;EAAmCC;EAAnC;IAAA;IACYC,cAAQ,GAAkB,EAAE;;EAyJxC;EAvJYqV,yCAAiB,GAAzB,UAA0BC,MAAmB,EAAEC,QAAyB;IAAzB;MAAAA,gBAAyB;IAAA;IACpE,IAAI,CAACD,MAAM,CAACE,QAAQ,EAAE;MAClB,MAAM,IAAIlP,KAAK,CAACC,iBAAO,CAACC,MAAM,CAACiP,2BAA2B,EAAE,CAAC;;IAGjE,IAAMC,KAAK,GAAYJ,MAAM,CAAChV,MAAM,KAAKT,SAAS,IAAI0V,QAAQ;IAE9D,IAAI,CAACG,KAAK,IAAIJ,MAAM,CAAChV,MAAM,KAAK,IAAI,EAAE;MAClC,MAAM,IAAIgG,KAAK,CAACC,iBAAO,CAACC,MAAM,CAACmP,qBAAqB,EAAE,CAAC;KAC1D,MAAM;MACHL,MAAM,CAACM,SAAS,CAAC,IAAI,CAAC;MAEtB,IAAI,CAACC,QAAQ,CAAC5M,IAAI,CAACqM,MAAM,CAAC;;EAElC,CAAC;EAESD,qCAAa,GAAvB,UAAwB3Q,MAAW,EAAEL,OAA6B;IAC9DM,iBAAMmR,aAAa,YAACpR,MAAM,EAAEL,OAAO,CAAC;IAEpC,IAAI,CAACwR,QAAQ,GAAG,EAAE;IAElB,IAAIE,KAAK,CAACC,OAAO,CAACtR,MAAM,CAAC,SAAS,CAAC,CAAC,EAAE;MAClC,KAAyB,UAAiB,EAAjBuR,WAAM,CAAC,SAAS,CAAC,EAAjBhO,cAAiB,EAAjBA,IAAiB,EAAE;QAAvC,IAAMiO,UAAU;QACjB,IAAIZ,MAAM,SAAyB;QAEnC,IAAI,OAAOY,UAAU,KAAK,QAAQ,EAAE;UAChC,IAAMC,OAAO,GAAG,IAAI/B,OAAO,EAAE;UAC7B+B,OAAO,CAACjL,IAAI,GAAGgL,UAAU;UAEzBZ,MAAM,GAAGa,OAAO;SACnB,MAAM;UACH;UACAb,MAAM,GAAGjR,OAAO,CAAC+R,YAAY,CAAC,IAAI,EAAEF,UAAU,EAAE,EAAE,EAAE,KAAK,CAAC;;QAG9D,IAAIZ,MAAM,EAAE;UACR,IAAI,CAACe,iBAAiB,CAACf,MAAM,EAAE,IAAI,CAAC;;;;EAIpD,CAAC;EAESD,sCAAc,GAAxB,UAAyBtK,MAAmB,EAAE1G,OAA6B;IACvEM,iBAAM2R,cAAc,YAACvL,MAAM,EAAE1G,OAAO,CAAC;IAErC,IAAI,IAAI,CAACwR,QAAQ,CAACnG,MAAM,GAAG,CAAC,EAAE;MAC1B,IAAM6G,WAAW,GAAU,EAAE;MAE7B,KAAqB,UAAa,EAAbN,SAAI,CAACJ,QAAQ,EAAb5N,cAAa,EAAbA,IAAa,EAAE;QAA/B,IAAMqN,MAAM;QACbiB,WAAW,CAACtN,IAAI,CAACqM,MAAM,CAACrK,MAAM,CAAC5G,OAAO,CAAC,CAAC;;MAG5CA,OAAO,CAAC2G,cAAc,CAACD,MAAM,EAAE,SAAS,EAAEwL,WAAW,CAAC;;EAE9D,CAAC;EAESlB,sCAAc,GAAxB;IACI,IAAI,IAAI,CAACQ,QAAQ,CAACnG,MAAM,GAAG,CAAC,EAAE;MAC1B,IAAIjS,OAAO,SAAa;MAExB,IAAI,IAAI,CAACyS,YAAY,EAAE;QACnB,IAAMC,YAAY,GAAG7R,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;QACpD4R,YAAY,CAACC,OAAO,GAAG,IAAI,CAACF,YAAY;QAExCzS,OAAO,GAAG0S,YAAY;OACzB,MAAM;QACH1S,OAAO,GAAGa,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;;MAG3Cd,OAAO,CAACe,SAAS,GAAG,IAAI,CAACR,UAAU,CAACS,gBAAgB,CAAC,kBAAkB,CAAC;MAExE,QAAQ,IAAI,CAAC6K,+BAA+B,EAAE;QAC1C,KAAK5K,KAAK,CAAC6K,mBAAmB,CAACgK,MAAM;UACjC9V,OAAO,CAACyB,KAAK,CAACsU,SAAS,GAAG,QAAQ;UAClC;QACJ,KAAK9U,KAAK,CAAC6K,mBAAmB,CAACkK,KAAK;UAChChW,OAAO,CAACyB,KAAK,CAACsU,SAAS,GAAG,KAAK;UAC/B;QACJ;UACI/V,OAAO,CAACyB,KAAK,CAACsU,SAAS,GAAG,OAAO;UACjC;MAAM;MAGd,IAAIgD,eAAe,GAAW,CAAC;MAE/B,KAAqB,UAAa,EAAbP,SAAI,CAACJ,QAAQ,EAAb5N,cAAa,EAAbA,IAAa,EAAE;QAA/B,IAAMqN,MAAM;QACb,IAAMmB,cAAc,GAAGnB,MAAM,CAACoB,MAAM,EAAE;QAEtC,IAAID,cAAc,EAAE;UAChBhZ,OAAO,CAAC8W,WAAW,CAACkC,cAAc,CAAC;UAEnCD,eAAe,EAAE;;;MAIzB,IAAIA,eAAe,GAAG,CAAC,EAAE;QACrB,OAAO/Y,OAAO;;;IAItB,OAAOoC,SAAS;EACpB,CAAC;EAIDwV,gCAAQ,GAAR;IACI,IAAIlQ,MAAM,GAAG,EAAE;IAEf,KAAqB,UAAa,EAAb8Q,SAAI,CAACJ,QAAQ,EAAb5N,cAAa,EAAbA,IAAa,EAAE;MAA/B,IAAMqN,MAAM;MACbnQ,MAAM,IAAImQ,MAAM,CAACqB,QAAQ,EAAE;;IAG/B,OAAOxR,MAAM;EACjB,CAAC;EAEDkQ,uCAAe,GAAf;IACI,OAAO,eAAe;EAC1B,CAAC;EAEDA,sCAAc,GAAd;IACI,OAAO,IAAI,CAACQ,QAAQ,CAACnG,MAAM;EAC/B,CAAC;EAED2F,mCAAW,GAAX,UAAYhP,KAAa;IACrB,IAAIA,KAAK,IAAI,CAAC,IAAIA,KAAK,GAAG,IAAI,CAACwP,QAAQ,CAACnG,MAAM,EAAE;MAC5C,OAAO,IAAI,CAACmG,QAAQ,CAACxP,KAAK,CAAC;KAC9B,MAAM;MACH,MAAM,IAAIC,KAAK,CAACC,iBAAO,CAACC,MAAM,CAACC,eAAe,CAACJ,KAAK,CAAC,CAAC;;EAE9D,CAAC;EAEDgP,iCAAS,GAAT,UAAUC,MAA4B;IAClC,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAE;MAC5B,IAAI,CAACe,iBAAiB,CAAC,IAAIjC,OAAO,CAACkB,MAAM,CAAC,CAAC;KAC9C,MAAM;MACH,IAAI,CAACe,iBAAiB,CAACf,MAAM,CAAC;;EAEtC,CAAC;EAEDD,oCAAY,GAAZ,UAAaC,MAAmB;IAC5B,IAAMjP,KAAK,GAAG,IAAI,CAACwP,QAAQ,CAAClM,OAAO,CAAC2L,MAAM,CAAC;IAE3C,IAAIjP,KAAK,IAAI,CAAC,EAAE;MACZ,IAAI,CAACwP,QAAQ,CAACxP,KAAK,CAAC,CAACuP,SAAS,CAAC/V,SAAS,CAAC;MACzC,IAAI,CAACgW,QAAQ,CAACe,MAAM,CAACvQ,KAAK,EAAE,CAAC,CAAC;MAE9B,OAAO,IAAI;;IAGf,OAAO,KAAK;EAChB,CAAC;EACL,oBAAC;AAAD,CAAC,CA1JkCnG,WAAW;AAAjCJ;AA4Jb;EAA0BC;EAmBtB,cAAY2K,IAAa,EAAEnK,KAAc;IAAzC,YACIoE,iBAAO;IAEP3E,KAAI,CAAC0K,IAAI,GAAGA,IAAI;IAChB1K,KAAI,CAACO,KAAK,GAAGA,KAAK;;EACtB;EAXA;EAEUsW,2BAAY,GAAtB;IACI,OAAO,MAAM;EACjB,CAAC;EAhBD;EAEgBA,kBAAa,GAAG,IAAI9M,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,OAAO,CAAC;EAC1D2M,kBAAa,GAAG,IAAI9M,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,OAAO,CAAC;EAI1EC,YADC,4BAAQ,EAAC0M,IAAI,CAACC,aAAa,CAAC,kCACf;EAGd3M,YADC,4BAAQ,EAAC0M,IAAI,CAACE,aAAa,CAAC,mCACd;EAcnB,WAAC;CAAA,CAzByBhN,kCAAkB;AAA/BjK;AA2Bb;EAA6BC;EAA7B;;EAmGA;EArFIE,sBAAc+W,qCAAgB;IAF9B;SAEA;MACI,OAAO,KAAK;IAChB,CAAC;;;;EAESA,gCAAc,GAAxB;IACI,IAAIvZ,OAAO,GAA4BoC,SAAS;IAChD,IAAM7B,UAAU,GAAG,IAAI,CAACA,UAAU;IAElC,IAAI,IAAI,CAACiZ,KAAK,CAACvH,MAAM,GAAG,CAAC,EAAE;MACvBjS,OAAO,GAAGa,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;MACzCd,OAAO,CAACyB,KAAK,CAACgY,WAAW,GAAG,KAAK;MACjCzZ,OAAO,CAACyB,KAAK,CAACiY,aAAa,GAAG,KAAK;MACnC1Z,OAAO,CAACyB,KAAK,CAACkY,WAAW,GAAG,MAAM;MAClC3Z,OAAO,CAACyB,KAAK,CAACmY,cAAc,GAAG,UAAU;MACzC5Z,OAAO,CAACyB,KAAK,CAAC+C,OAAO,GAAG,OAAO;MAC/BxE,OAAO,CAACyB,KAAK,CAACS,QAAQ,GAAG,QAAQ;MACjClC,OAAO,CAAC2J,SAAS,CAACC,GAAG,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,YAAY,CAAC,CAAC;MAChEhB,OAAO,CAACoB,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC;MAE5C,KAAK,IAAI8H,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACsQ,KAAK,CAACvH,MAAM,EAAE/I,CAAC,EAAE,EAAE;QACxC,IAAM2Q,SAAS,GAAGhZ,QAAQ,CAACC,aAAa,CAAC,IAAI,CAAC;QAE9C,IAAIoI,CAAC,GAAG,CAAC,EAAE;UACP2Q,SAAS,CAACpY,KAAK,CAACiT,SAAS,GAAGnU,UAAU,CAACuZ,OAAO,CAACpZ,OAAO,GAAG,IAAI;;QAGjE;QACA,IAAIqZ,SAAS,GAAGlZ,QAAQ,CAACC,aAAa,CAAC,IAAI,CAAC;QAC5CiZ,SAAS,CAACtY,KAAK,CAACoE,OAAO,GAAG,GAAG;QAC7BkU,SAAS,CAACpQ,SAAS,CAACC,GAAG,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,eAAe,CAAC,CAAC;QAErE,IAAIT,UAAU,CAACuZ,OAAO,CAACE,KAAK,CAACC,QAAQ,EAAE;UACnCF,SAAS,CAACtY,KAAK,CAACwY,QAAQ,GAAG1Z,UAAU,CAACuZ,OAAO,CAACE,KAAK,CAACC,QAAQ,GAAG,IAAI;;QAGvEF,SAAS,CAACtY,KAAK,CAACyY,aAAa,GAAG,KAAK;QAErC,IAAIpH,SAAS,GAAG,IAAItB,SAAS,EAAE;QAC/BsB,SAAS,CAACqF,SAAS,CAAC,IAAI,CAAC;QACzBrF,SAAS,CAACrF,IAAI,GACV,CAAC,IAAI,CAAC+L,KAAK,CAACtQ,CAAC,CAAC,CAAC+D,IAAI,IAAI,IAAI,CAAC3I,YAAY,EAAE,GAAG,OAAO,GAAG,IAAI,CAACkV,KAAK,CAACtQ,CAAC,CAAC,CAAC+D,IAAI;QAC7E6F,SAAS,CAAClD,IAAI,GAAGrP,UAAU,CAACuZ,OAAO,CAACE,KAAK,CAACpK,IAAI;QAC9CkD,SAAS,CAACzR,KAAK,GAAGd,UAAU,CAACuZ,OAAO,CAACE,KAAK,CAAC3Y,KAAK;QAChDyR,SAAS,CAAChD,QAAQ,GAAGvP,UAAU,CAACuZ,OAAO,CAACE,KAAK,CAAClK,QAAQ;QACtDgD,SAAS,CAACjD,MAAM,GAAGtP,UAAU,CAACuZ,OAAO,CAACE,KAAK,CAACnK,MAAM;QAClDiD,SAAS,CAAC6B,IAAI,GAAGpU,UAAU,CAACuZ,OAAO,CAACE,KAAK,CAACrF,IAAI;QAC9C7B,SAAS,CAACpS,OAAO,GAAGO,KAAK,CAACwH,OAAO,CAACC,IAAI;QAEtCnH,KAAK,CAACuV,WAAW,CAACiD,SAAS,EAAEjH,SAAS,CAACmG,MAAM,EAAE,CAAC;QAChD1X,KAAK,CAACuV,WAAW,CAAC+C,SAAS,EAAEE,SAAS,CAAC;QAEvC;QACAA,SAAS,GAAGlZ,QAAQ,CAACC,aAAa,CAAC,IAAI,CAAC;QACxCiZ,SAAS,CAACtY,KAAK,CAACQ,KAAK,GAAG,MAAM;QAE9BV,KAAK,CAACuV,WAAW,CAAC+C,SAAS,EAAEE,SAAS,CAAC;QAEvC;QACAA,SAAS,GAAGlZ,QAAQ,CAACC,aAAa,CAAC,IAAI,CAAC;QACxCiZ,SAAS,CAACtY,KAAK,CAACoE,OAAO,GAAG,GAAG;QAC7BkU,SAAS,CAACtY,KAAK,CAACyY,aAAa,GAAG,KAAK;QACrCH,SAAS,CAACpQ,SAAS,CAACC,GAAG,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,eAAe,CAAC,CAAC;QAErE8R,SAAS,GAAG,IAAItB,SAAS,EAAE;QAC3BsB,SAAS,CAACqF,SAAS,CAAC,IAAI,CAAC;QACzBrF,SAAS,CAACrF,IAAI,GAAG,IAAI,CAAC+L,KAAK,CAACtQ,CAAC,CAAC,CAACpG,KAAK;QACpCgQ,SAAS,CAAClD,IAAI,GAAGrP,UAAU,CAACuZ,OAAO,CAAChX,KAAK,CAAC8M,IAAI;QAC9CkD,SAAS,CAACzR,KAAK,GAAGd,UAAU,CAACuZ,OAAO,CAAChX,KAAK,CAACzB,KAAK;QAChDyR,SAAS,CAAChD,QAAQ,GAAGvP,UAAU,CAACuZ,OAAO,CAAChX,KAAK,CAACgN,QAAQ;QACtDgD,SAAS,CAACjD,MAAM,GAAGtP,UAAU,CAACuZ,OAAO,CAAChX,KAAK,CAAC+M,MAAM;QAClDiD,SAAS,CAAC6B,IAAI,GAAGpU,UAAU,CAACuZ,OAAO,CAAChX,KAAK,CAAC6R,IAAI;QAC9C7B,SAAS,CAACpS,OAAO,GAAGO,KAAK,CAACwH,OAAO,CAACC,IAAI;QAEtCnH,KAAK,CAACuV,WAAW,CAACiD,SAAS,EAAEjH,SAAS,CAACmG,MAAM,EAAE,CAAC;QAChD1X,KAAK,CAACuV,WAAW,CAAC+C,SAAS,EAAEE,SAAS,CAAC;QACvCxY,KAAK,CAACuV,WAAW,CAAC9W,OAAO,EAAE6Z,SAAS,CAAC;;;IAI7C,OAAO7Z,OAAO;EAClB,CAAC;EAEDuZ,iCAAe,GAAf;IACI,OAAO,SAAS;EACpB,CAAC;EAjGD;EAEgBA,qBAAa,GAAG,IAAIjN,oDAAoC,CACpEA,wBAAQ,CAACG,IAAI,EACb,OAAO,EACP2M,IAAI,CACP;EAGD1M,YADC,4BAAQ,EAAC6M,OAAO,CAACY,aAAa,CAAC,sCAClB;EAyFlB,cAAC;CAAA,CAnG4B1X,WAAW;AAA3BJ;AAqGb;EAAqCC;EA+DjC,gCACa0K,aAAsB,EACtBC,IAAY,EACZmN,YAAoB,EACpBC,gBAAmC;IAJhD,YAMInT,kBAAM8F,aAAa,EAAEC,IAAI,CAAC;IALjB1K,mBAAa,GAAbyK,aAAa;IACbzK,UAAI,GAAJ0K,IAAI;IACJ1K,kBAAY,GAAZ6X,YAAY;IACZ7X,sBAAgB,GAAhB8X,gBAAgB;;EAG7B;EArEAC,gDAAe,GAAf;IACI,OAAO,IAAI,CAACF,YAAY;EAC5B,CAAC;EAEDE,sCAAK,GAAL,UACIlN,MAA0B,EAC1BnG,MAAmB,EACnBL,OAAiC;IAEjC,IAAIc,MAAM,GAAuBtF,SAAS;IAC1C,IAAMmY,WAAW,GAAGtT,MAAM,CAAC,IAAI,CAACgG,IAAI,CAAC;IAErC,IAAIsN,WAAW,KAAKnY,SAAS,EAAE;MAC3B,OAAO,IAAI,CAACoY,YAAY;;IAG5B,IAAIC,OAAO,GAAG,KAAK;IAEnB,IAAI,OAAOF,WAAW,KAAK,QAAQ,EAAE;MACjC,IAAI;QACA,IAAM3K,IAAI,GAAG3M,oBAAW,CAACkE,KAAK,CAACoT,WAAW,EAAE,IAAI,CAAC;QAEjD,IAAI3K,IAAI,CAAC8K,IAAI,KAAKzZ,KAAK,CAAC0Z,QAAQ,CAACC,KAAK,EAAE;UACpClT,MAAM,GAAGkI,IAAI,CAACiL,YAAY;UAE1BJ,OAAO,GAAG,IAAI;;OAErB,CAAC,WAAM;QACJ;MAAA;MAGJ;MACA;MACA,IAAI,CAACA,OAAO,IAAI,IAAI,CAACJ,gBAAgB,EAAE;QACnCI,OAAO,GAAG,IAAI,CAACJ,gBAAgB,CAACS,YAAY,CAACP,WAAW,EAAE3T,OAAO,CAAC;;;IAI1E,IAAI,CAAC6T,OAAO,EAAE;MACV7T,OAAO,CAACmU,aAAa,CACjB3N,MAAM,EACNnM,KAAK,CAAC+Z,eAAe,CAACC,oBAAoB,EAC1CnS,iBAAO,CAACC,MAAM,CAACmS,oBAAoB,CAACX,WAAW,EAAE,IAAI,CAACtN,IAAI,CAAC,CAC9D;;IAGL,OAAOvF,MAAM;EACjB,CAAC;EAED4S,uCAAM,GAAN,UACIlN,MAA0B,EAC1BE,MAAmB,EACnBxK,KAAyB,EACzB8D,OAAiC;IAEjCA,OAAO,CAAC2G,cAAc,CAClBD,MAAM,EACN,IAAI,CAACL,IAAI,EACT,OAAOnK,KAAK,KAAK,QAAQ,IAAI,CAACqY,KAAK,CAACrY,KAAK,CAAC,GAAGA,KAAK,GAAG,IAAI,GAAGV,SAAS,CACxE;EACL,CAAC;EAUL,6BAAC;AAAD,CAAC,CAvEoCkK,kCAAkB;AAyEvD;EAA2BhK;EAA3B;IACI;IADJ;IAiDIC,UAAI,GAAetB,KAAK,CAACma,IAAI,CAACC,IAAI;IAGlC9Y,WAAK,GAAqBtB,KAAK,CAACqa,UAAU,CAACtU,OAAO;;EAiNtD;EApOcuU,8BAAc,GAAxB,UAAyB5N,MAAgC;IACrDzG,iBAAM0G,cAAc,YAACD,MAAM,CAAC;IAE5BA,MAAM,CAACE,MAAM,CAACpL,WAAW,CAACqK,cAAc,CAAC;EAC7C,CAAC;EA0BD;EAEQyO,yBAAS,GAAjB,UAAkBvb,OAAoB;IAClC,IAAI,IAAI,CAACwb,UAAU,IAAI,IAAI,CAACC,WAAW,EAAE;MACrC,IAAI,IAAI,CAACD,UAAU,EAAE;QACjBxb,OAAO,CAACyB,KAAK,CAACQ,KAAK,GAAG,IAAI,CAACuZ,UAAU,GAAG,IAAI;;MAGhD,IAAI,IAAI,CAACC,WAAW,EAAE;QAClBzb,OAAO,CAACyB,KAAK,CAACI,MAAM,GAAG,IAAI,CAAC4Z,WAAW,GAAG,IAAI;;KAErD,MAAM;MACH,IAAI,IAAI,CAAC5W,SAAS,EAAE;QAChB;QACA;QACA;QACA;QACA,QAAQ,IAAI,CAAC+K,IAAI;UACb,KAAK3O,KAAK,CAACma,IAAI,CAAChN,KAAK;YACjBpO,OAAO,CAACyB,KAAK,CAACI,MAAM,GAAG,IAAI,CAACtB,UAAU,CAACmb,UAAU,CAACpN,KAAK,GAAG,IAAI;YAC9D;UACJ,KAAKrN,KAAK,CAACma,IAAI,CAAC3M,KAAK;YACjBzO,OAAO,CAACyB,KAAK,CAACI,MAAM,GAAG,IAAI,CAACtB,UAAU,CAACmb,UAAU,CAAChN,KAAK,GAAG,IAAI;YAC9D;UACJ;YACI1O,OAAO,CAACyB,KAAK,CAACI,MAAM,GAAG,IAAI,CAACtB,UAAU,CAACmb,UAAU,CAAClN,MAAM,GAAG,IAAI;YAC/D;QAAM;QAGdxO,OAAO,CAACyB,KAAK,CAACoD,SAAS,GAAG,IAAI,CAACA,SAAS,GAAG,IAAI;OAClD,MAAM;QACH,QAAQ,IAAI,CAAC+K,IAAI;UACb,KAAK3O,KAAK,CAACma,IAAI,CAACO,OAAO;YACnB3b,OAAO,CAACyB,KAAK,CAACQ,KAAK,GAAG,MAAM;YAC5B;UACJ,KAAKhB,KAAK,CAACma,IAAI,CAACC,IAAI;YAChBrb,OAAO,CAACyB,KAAK,CAACwY,QAAQ,GAAG,MAAM;YAC/B;UACJ,KAAKhZ,KAAK,CAACma,IAAI,CAAChN,KAAK;YACjBpO,OAAO,CAACyB,KAAK,CAACQ,KAAK,GAAG,IAAI,CAAC1B,UAAU,CAACmb,UAAU,CAACpN,KAAK,GAAG,IAAI;YAC7D;UACJ,KAAKrN,KAAK,CAACma,IAAI,CAAC3M,KAAK;YACjBzO,OAAO,CAACyB,KAAK,CAACQ,KAAK,GAAG,IAAI,CAAC1B,UAAU,CAACmb,UAAU,CAAChN,KAAK,GAAG,IAAI;YAC7D;UACJ,KAAKzN,KAAK,CAACma,IAAI,CAAC7M,MAAM;YAClBvO,OAAO,CAACyB,KAAK,CAACQ,KAAK,GAAG,IAAI,CAAC1B,UAAU,CAACmb,UAAU,CAAClN,MAAM,GAAG,IAAI;YAC9D;QAAM;QAGdxO,OAAO,CAACyB,KAAK,CAACoD,SAAS,GAAG,MAAM;;;EAG5C,CAAC;EAEDrC,sBAAc+Y,mCAAgB;SAA9B;MACI,OAAO,KAAK;IAChB,CAAC;;;;EAESA,8BAAc,GAAxB;IAAA;IACI,IAAIvb,OAAO,GAA4BoC,SAAS;IAEhD,IAAI,IAAI,CAACwZ,GAAG,EAAE;MACV5b,OAAO,GAAGa,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MACvCd,OAAO,CAACyB,KAAK,CAAC+C,OAAO,GAAG,MAAM;MAC9BxE,OAAO,CAACyB,KAAK,CAACoa,UAAU,GAAG,YAAY;MAEvC;MACA,IAAMtb,UAAU,GAAG,IAAI,CAACA,UAAU;MAElC,QAAQ,IAAI,CAACsL,+BAA+B,EAAE;QAC1C,KAAK5K,KAAK,CAAC6K,mBAAmB,CAACgK,MAAM;UACjC9V,OAAO,CAACyB,KAAK,CAACqa,cAAc,GAAG,QAAQ;UACvC;QACJ,KAAK7a,KAAK,CAAC6K,mBAAmB,CAACkK,KAAK;UAChChW,OAAO,CAACyB,KAAK,CAACqa,cAAc,GAAG,UAAU;UACzC;QACJ;UACI9b,OAAO,CAACyB,KAAK,CAACqa,cAAc,GAAG,YAAY;UAC3C;MAAM;MAGd,IAAMC,YAAY,GAAGlb,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MAClDib,YAAY,CAACC,MAAM,GAAG,UAACC,EAAS;QAC5BC,qBAAqB,CAAC3Z,KAAI,CAAC;MAC/B,CAAC;MACDwZ,YAAY,CAACI,OAAO,GAAG,UAACF,EAAS;QAC7B,IAAI1Z,KAAI,CAAC2D,eAAe,EAAE;UACtB,IAAMkW,IAAI,GAAG7Z,KAAI,CAAC0H,cAAc,EAAkB;UAElD1H,KAAI,CAAC2D,eAAe;UAEpB,IAAIkW,IAAI,IAAIA,IAAI,CAACvR,UAAU,EAAE;YACzB,IAAMwR,YAAY,GAAGxb,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;YAClDub,YAAY,CAAC5a,KAAK,CAAC+C,OAAO,GAAG,MAAM;YACnC6X,YAAY,CAAC5a,KAAK,CAACoa,UAAU,GAAG,QAAQ;YACxCQ,YAAY,CAAC5a,KAAK,CAACqa,cAAc,GAAG,QAAQ;YAC5CO,YAAY,CAAC5a,KAAK,CAAC2V,eAAe,GAAG,SAAS;YAC9CiF,YAAY,CAAC5a,KAAK,CAACJ,KAAK,GAAG,OAAO;YAClCgb,YAAY,CAACrW,SAAS,GAAG,KAAK;YAC9BqW,YAAY,CAAC5a,KAAK,CAACoE,OAAO,GAAG,MAAM;YAEnCtD,KAAI,CAAC+Z,SAAS,CAACD,YAAY,CAAC;YAE5B9Z,KAAI,CAAC2D,eAAe,CAAC4Q,WAAW,CAACuF,YAAY,CAAC;;;QAItDH,qBAAqB,CAAC3Z,KAAI,CAAC;MAC/B,CAAC;MACDwZ,YAAY,CAACta,KAAK,CAAC8a,QAAQ,GAAG,GAAG;MACjCR,YAAY,CAACpS,SAAS,CAACC,GAAG,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,UAAU,CAAC,CAAC;MAEnE,IAAI,IAAI,CAACiQ,YAAY,IAAI1Q,UAAU,CAACwS,qBAAqB,EAAE;QACvDgJ,YAAY,CAACS,UAAU,GAAG,UAACvJ,CAAC;UACxB,IACI1Q,KAAI,CAAC0O,YAAY,IACjB1O,KAAI,CAAC0O,YAAY,CAACiC,oBAAoB,EAAE,KACvCD,CAAC,CAACwJ,IAAI,KAAK,OAAO,IAAIxJ,CAAC,CAACwJ,IAAI,KAAK,OAAO,CAAC,EAC5C;YACE;YACAxJ,CAAC,CAACE,cAAc,EAAE;YAClBF,CAAC,CAACG,YAAY,GAAG,IAAI;YAErB7Q,KAAI,CAAC0O,YAAY,CAACoC,OAAO,EAAE;;QAEnC,CAAC;QAED0I,YAAY,CAAC/I,OAAO,GAAG,UAACC,CAAC;UACrB,IAAI1Q,KAAI,CAAC0O,YAAY,IAAI1O,KAAI,CAAC0O,YAAY,CAACiC,oBAAoB,EAAE,EAAE;YAC/DD,CAAC,CAACE,cAAc,EAAE;YAClBF,CAAC,CAACG,YAAY,GAAG,IAAI;YAErB7Q,KAAI,CAAC0O,YAAY,CAACoC,OAAO,EAAE;;QAEnC,CAAC;QAED,IAAI,CAACpC,YAAY,CAACqC,4BAA4B,CAACyI,YAAY,CAAC;QAE5D,IAAI,IAAI,CAAC9K,YAAY,CAACiC,oBAAoB,EAAE,EAAE;UAC1C6I,YAAY,CAACpS,SAAS,CAACC,GAAG,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,eAAe,CAAC,CAAC;;;MAIhF,IAAI,CAACsb,SAAS,CAACP,YAAY,CAAC;MAE5B,IAAI,IAAI,CAACta,KAAK,KAAKR,KAAK,CAACqa,UAAU,CAACoB,MAAM,EAAE;QACxCX,YAAY,CAACta,KAAK,CAACkb,YAAY,GAAG,KAAK;QACvCZ,YAAY,CAACta,KAAK,CAACmb,kBAAkB,GAAG,SAAS;QACjDb,YAAY,CAACta,KAAK,CAACob,gBAAgB,GAAG,WAAW;;MAGrD,IAAMzF,eAAe,GAAG7V,KAAK,CAACC,gBAAgB,CAAC,IAAI,CAAC4V,eAAe,CAAC;MACpE,IAAIA,eAAe,EAAE;QACjB2E,YAAY,CAACta,KAAK,CAAC2V,eAAe,GAAGA,eAAe;;MAGxD2E,YAAY,CAACe,GAAG,GAAW,IAAI,CAACtK,uBAAuB,CAAC+I,KAAK,CAACwB,WAAW,CAAC;MAE1E,IAAMC,eAAe,GAAG,IAAI,CAACxK,uBAAuB,CAAC+I,KAAK,CAACyB,eAAe,CAAC;MAC3E,IAAIA,eAAe,EAAE;QACjBjB,YAAY,CAACkB,GAAG,GAAWD,eAAe;;MAG9Chd,OAAO,CAAC8W,WAAW,CAACiF,YAAY,CAAC;;IAGrC,OAAO/b,OAAO;EAClB,CAAC;EAIDub,+BAAe,GAAf;IACI,OAAO,OAAO;EAClB,CAAC;EAEDA,6BAAa,GAAb;IACI,IAAM7T,MAAM,GAAGR,iBAAMoD,aAAa,WAAE;IAEpC,IAAI,IAAI,CAAC2G,YAAY,EAAE;MACnBvJ,MAAM,CAAC8D,IAAI,CAAC,IAAI,CAACyF,YAAY,CAAC;;IAGlC,OAAOvJ,MAAM;EACjB,CAAC;EAED6T,6BAAa,GAAb,UAAc9R,EAAU;IACpB,IAAI/B,MAAM,GAAGR,iBAAMgW,aAAa,YAACzT,EAAE,CAAC;IAEpC,IAAI,CAAC/B,MAAM,IAAI,IAAI,CAACuJ,YAAY,EAAE;MAC9BvJ,MAAM,GAAG,IAAI,CAACuJ,YAAY,CAACiM,aAAa,CAACzT,EAAE,CAAC;;IAGhD,OAAO/B,MAAM;EACjB,CAAC;EAED6T,sCAAsB,GAAtB;IACI,OAAO,IAAI,CAACK,GAAG,GAAG,CAAC;MAAEA,GAAG,EAAE,IAAI,CAACA,GAAG;MAAEuB,QAAQ,EAAE;IAAO,CAAE,CAAC,GAAG,EAAE;EACjE,CAAC;EAjQe5B,iBAAW,GAAG,IAAIjP,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,KAAK,CAAC;EACtD8O,qBAAe,GAAG,IAAIjP,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,SAAS,CAAC;EAC9D8O,6BAAuB,GAAG,IAAIjP,8BAAc,CAACA,wBAAQ,CAACC,IAAI,EAAE,iBAAiB,CAAC;EAC9EgP,mBAAa,GAAG,IAAIjP,4BAAY,CAC5CA,wBAAQ,CAACG,IAAI,EACb,OAAO,EACPxL,KAAK,CAACqa,UAAU,EAChBra,KAAK,CAACqa,UAAU,CAACtU,OAAO,CAC3B;EACeuU,kBAAY,GAAG,IAAIjP,4BAAY,CAC3CA,wBAAQ,CAACG,IAAI,EACb,MAAM,EACNxL,KAAK,CAACma,IAAI,EACVna,KAAK,CAACma,IAAI,CAACC,IAAI,CAClB;EACeE,wBAAkB,GAAG,IAAIjB,sBAAsB,CAC3DhO,wBAAQ,CAACC,IAAI,EACb,OAAO,EACP,YAAY,CACf;EACegP,yBAAmB,GAAG,IAAIjB,sBAAsB,CAC5DhO,wBAAQ,CAACC,IAAI,EACb,QAAQ,EACR,aAAa,EACb9J,WAAW,CAACqK,cAAc,CAC7B;EACeyO,0BAAoB,GAAG,IAAIpO,cAAc,CAACb,wBAAQ,CAACC,IAAI,EAAE,cAAc,EAAE,CACrF,iBAAiB,CACpB,CAAC;EASFG,YADC,4BAAQ,EAAC6O,KAAK,CAACwB,WAAW,CAAC,kCACf;EAGbrQ,YADC,4BAAQ,EAAC6O,KAAK,CAACyB,eAAe,CAAC,sCACf;EAGjBtQ,YADC,4BAAQ,EAAC6O,KAAK,CAAC6B,uBAAuB,CAAC,8CACf;EAGzB1Q,YADC,4BAAQ,EAAC6O,KAAK,CAACpK,YAAY,CAAC,mCACM;EAGnCzE,YADC,4BAAQ,EAAC6O,KAAK,CAAC7E,aAAa,CAAC,oCACqB;EAGnDhK,YADC,4BAAQ,EAAC6O,KAAK,CAAC8B,kBAAkB,CAAC,yCACf;EAGpB3Q,YADC,4BAAQ,EAAC6O,KAAK,CAAC+B,mBAAmB,CAAC,0CACf;EAGrB5Q,YADC,4BAAQ,EAAC6O,KAAK,CAACzN,oBAAoB,CAAC,2CACf;EAwM1B,YAAC;CAAA,CArQ0BrL,WAAW;AAAzBJ;AAuQb;EAAmDC;EAAnD;IACI;IADJ;IA+DIC,2BAAqB,GAAY,KAAK;;EAkL1C;EA1Oc8G,6CAAc,GAAxB,UAAyBsE,MAAgC;IACrDzG,iBAAM0G,cAAc,YAACD,MAAM,CAAC;IAE5B,IAAI,CAAC,IAAI,CAAC4P,YAAY,EAAE;MACpB5P,MAAM,CAACE,MAAM,CAACxE,oBAAoB,CAACyE,oBAAoB,CAAC;;EAEhE,CAAC;EAKD;EAEUzE,+CAAgB,GAA1B,UAA2BrJ,OAAoB;IAC3C,OAAO,IAAI,CAACO,UAAU,CAACwS,qBAAqB,IAAI,CAAC/S,OAAO,CAACwd,aAAa;EAC1E,CAAC;EAESnU,2CAAY,GAAtB;IACInC,iBAAMkD,YAAY,WAAE;IAEpB,IAAI,CAAC,IAAI,CAAClE,eAAe,EAAE;MACvB;;IAGJ,IAAIM,eAAe,GAAG,IAAIvD,0BAAiB,EAAE;IAE7C,IAAI,IAAI,CAACc,mBAAmB,EAAE,EAAE;MAC5ByC,eAAe,GAAG,IAAI,CAACjG,UAAU,CAAC0D,oCAAoC,CAClE,IAAI,CAACF,mBAAmB,EAAE,CAC7B;;IAGL,IAAI,CAACmC,eAAe,CAACzE,KAAK,CAACC,UAAU,GAAG8E,eAAe,CAACgC,GAAG,GAAG,IAAI;IAClE,IAAI,CAACtC,eAAe,CAACzE,KAAK,CAACgc,YAAY,GAAGjX,eAAe,CAACpC,KAAK,GAAG,IAAI;IACtE,IAAI,CAAC8B,eAAe,CAACzE,KAAK,CAACic,aAAa,GAAGlX,eAAe,CAACmC,MAAM,GAAG,IAAI;IACxE,IAAI,CAACzC,eAAe,CAACzE,KAAK,CAACK,WAAW,GAAG0E,eAAe,CAACrC,IAAI,GAAG,IAAI;IAEpE,IAAI,CAAC+B,eAAe,CAACzE,KAAK,CAACM,WAAW,GAAG,GAAG;IAC5C,IAAI,CAACmE,eAAe,CAACzE,KAAK,CAACyC,UAAU,GAAG,GAAG;EAC/C,CAAC;EAED1B,sBAAc6G,8CAAY;SAA1B;MACI,OAAO,KAAK;IAChB,CAAC;;;;EAED;EACUA,qDAAsB,GAAhC;IACI,OAAO,EAAE;EACb,CAAC;EAUDA,kDAAmB,GAAnB;IACInC,iBAAMyW,mBAAmB,WAAE;IAE3B,KAAK,IAAIzU,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC0U,YAAY,EAAE,EAAE1U,CAAC,EAAE,EAAE;MAC1C,IAAI,CAAC2U,SAAS,CAAC3U,CAAC,CAAC,CAACyU,mBAAmB,EAAE;;EAE/C,CAAC;EAEDtU,yDAA0B,GAA1B,UAA2BzC,OAA0B;IACjDM,iBAAM4W,0BAA0B,YAAClX,OAAO,CAAC;IAEzC,KAAK,IAAIsC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC0U,YAAY,EAAE,EAAE1U,CAAC,EAAE,EAAE;MAC1C,IAAM6U,IAAI,GAAG,IAAI,CAACF,SAAS,CAAC3U,CAAC,CAAC;MAE9B,IAAI,CAAC,IAAI,CAAC3I,UAAU,CAACwS,qBAAqB,IAAIgL,IAAI,CAACP,aAAa,EAAE;QAC9D5W,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAACiD,uBAAuB,EAC7CnV,iBAAO,CAACC,MAAM,CAACmV,uBAAuB,EAAE,CAC3C;;MAGL,IAAI,CAAC,IAAI,CAACC,gBAAgB,CAACJ,IAAI,CAAC,EAAE;QAC9BnX,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAACiD,uBAAuB,EAC7CnV,iBAAO,CAACC,MAAM,CAACqV,qBAAqB,CAACL,IAAI,CAAC9X,eAAe,EAAE,CAAC,CAC/D;;MAGL8X,IAAI,CAACD,0BAA0B,CAAClX,OAAO,CAAC;;IAG5C,IAAI,IAAI,CAACyX,aAAa,EAAE;MACpB,IAAI,CAACA,aAAa,CAACP,0BAA0B,CAAClX,OAAO,CAAC;;EAE9D,CAAC;EAEDyC,qCAAM,GAAN;IAAA;IACI,IAAMrJ,OAAO,GAAGkH,iBAAM+R,MAAM,WAAE;IAE9B,IAAIjZ,OAAO,EAAE;MACT,IAAMO,UAAU,GAAG,IAAI,CAACA,UAAU;MAElC,IAAI,IAAI,CAAC+d,qBAAqB,EAAE;QAC5Bte,OAAO,CAACyB,KAAK,CAAC8c,SAAS,GAAG,QAAQ;QAClCve,OAAO,CAACyB,KAAK,CAAC+c,SAAS,GAAG,MAAM;;MAGpC,IACIxe,OAAO,IACP,IAAI,CAACud,YAAY,IACjB,IAAI,CAACc,aAAa,IAClB9d,UAAU,CAACwS,qBAAqB,EAClC;QACE/S,OAAO,CAACgT,OAAO,GAAG,UAACC,CAAC;UAChB,IAAI1Q,KAAI,CAAC8b,aAAa,IAAI9b,KAAI,CAAC8b,aAAa,CAACnL,oBAAoB,EAAE,EAAE;YACjED,CAAC,CAACE,cAAc,EAAE;YAClBF,CAAC,CAACG,YAAY,GAAG,IAAI;YAErB7Q,KAAI,CAAC8b,aAAa,CAAChL,OAAO,EAAE;;QAEpC,CAAC;QAEDrT,OAAO,CAACwc,UAAU,GAAG,UAACvJ,CAAC;UACnB,IACI1Q,KAAI,CAAC8b,aAAa,IAClB9b,KAAI,CAAC8b,aAAa,CAACnL,oBAAoB,EAAE,KACxCD,CAAC,CAACwJ,IAAI,KAAK,OAAO,IAAIxJ,CAAC,CAACwJ,IAAI,KAAK,OAAO,CAAC,EAC5C;YACE;YACAxJ,CAAC,CAACE,cAAc,EAAE;YAClBF,CAAC,CAACG,YAAY,GAAG,IAAI;YAErB7Q,KAAI,CAAC8b,aAAa,CAAChL,OAAO,EAAE;;QAEpC,CAAC;QAED,IAAI,CAACgL,aAAa,CAAC/K,4BAA4B,CAACtT,OAAO,CAAC;QAExD,IAAI,IAAI,CAACqe,aAAa,CAACnL,oBAAoB,EAAE,EAAE;UAC3ClT,OAAO,CAAC2J,SAAS,CAACC,GAAG,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,eAAe,CAAC,CAAC;;;;IAK/E,OAAOhB,OAAO;EAClB,CAAC;EAEDqJ,2CAAY,GAAZ,UAAa+M,eAA+B;IAA/B;MAAAA,sBAA+B;IAAA;IACxClP,iBAAM6C,YAAY,YAACqM,eAAe,CAAC;IAEnC,IAAIA,eAAe,EAAE;MACjB,KAAK,IAAIlN,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC0U,YAAY,EAAE,EAAE1U,CAAC,EAAE,EAAE;QAC1C,IAAI,CAAC2U,SAAS,CAAC3U,CAAC,CAAC,CAACa,YAAY,EAAE;;;EAG5C,CAAC;EAEDV,2CAAY,GAAZ,UAAakC,cAA8B;IAA9B;MAAAA,qBAA8B;IAAA;IACvC,IAAI7D,MAAM,GAAY,EAAE;IAExB,KAAK,IAAIwB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC0U,YAAY,EAAE,EAAE1U,CAAC,EAAE,EAAE;MAC1CxB,MAAM,CAAC8D,IAAI,OAAX9D,MAAM,EAAS,IAAI,CAACmW,SAAS,CAAC3U,CAAC,CAAC,CAACuV,YAAY,CAAClT,cAAc,CAAC;;IAGjE,OAAO7D,MAAM;EACjB,CAAC;EAED2B,4CAAa,GAAb;IACI,IAAM3B,MAAM,GAAGR,iBAAMoD,aAAa,WAAE;IAEpC,KAAK,IAAIpB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC0U,YAAY,EAAE,EAAE1U,CAAC,EAAE,EAAE;MAC1CxB,MAAM,CAAC8D,IAAI,OAAX9D,MAAM,EAAS,IAAI,CAACmW,SAAS,CAAC3U,CAAC,CAAC,CAACoB,aAAa,EAAE;;IAGpD,IAAI,IAAI,CAAC+T,aAAa,EAAE;MACpB3W,MAAM,CAAC8D,IAAI,CAAC,IAAI,CAAC6S,aAAa,CAAC;;IAGnC,OAAO3W,MAAM;EACjB,CAAC;EAED2B,qDAAsB,GAAtB;IACI,IAAI3B,MAAM,GAA2B,EAAE;IAEvC,KAAK,IAAIwB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC0U,YAAY,EAAE,EAAE1U,CAAC,EAAE,EAAE;MAC1CxB,MAAM,CAAC8D,IAAI,OAAX9D,MAAM,EAAS,IAAI,CAACmW,SAAS,CAAC3U,CAAC,CAAC,CAACwV,sBAAsB,EAAE;;IAG7D,OAAOhX,MAAM;EACjB,CAAC;EAED2B,6CAAc,GAAd,UAAeI,EAAU;IACrB,IAAI/B,MAAM,GAAGR,iBAAMyX,cAAc,YAAClV,EAAE,CAAC;IAErC,IAAI,CAAC/B,MAAM,EAAE;MACT,KAAK,IAAIwB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC0U,YAAY,EAAE,EAAE1U,CAAC,EAAE,EAAE;QAC1CxB,MAAM,GAAG,IAAI,CAACmW,SAAS,CAAC3U,CAAC,CAAC,CAACyV,cAAc,CAAClV,EAAE,CAAC;QAE7C,IAAI/B,MAAM,EAAE;UACR;;;;IAKZ,OAAOA,MAAM;EACjB,CAAC;EAED;;;EAGA2B,+CAAgB,GAAhB,UAAiBuV,IAAU;;IACvB,IAAItR,MAAM,GAA2BlL,SAAS;IAE9C,KAAK,IAAI8G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC0U,YAAY,EAAE,EAAE1U,CAAC,EAAE,EAAE;MAC1C;MACAoE,MAAM,GAAG,IAAI,CAACuQ,SAAS,CAAC3U,CAAC,CAAC,CAAC2V,gBAAgB,CAACD,IAAI,CAAC;MAEjD,IAAItR,MAAM,EAAE;QACR,OAAOA,MAAM;;;IAIrB;IACA,KAAK,IAAIpE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACC,cAAc,EAAE,EAAED,CAAC,EAAE,EAAE;MAC5CoE,MAAM,GAAG,UAAI,CAAClE,WAAW,CAACF,CAAC,CAAC,0CAAE2V,gBAAgB,CAACD,IAAI,CAAC;MAEpD,IAAItR,MAAM,EAAE;QACR,OAAOA,MAAM;;;IAIrB;IACA,OAAOpG,iBAAM2X,gBAAgB,YAACD,IAAI,CAAC;EACvC,CAAC;EA7OevV,yCAAoB,GAAG,IAAI8D,cAAc,CAACb,wBAAQ,CAACC,IAAI,EAAE,cAAc,EAAE,CACrF,iBAAiB,CACpB,CAAC;EAWFG,YADC,4BAAQ,EAACrD,oBAAoB,CAACyE,oBAAoB,CAAC,2DACnB;EAiOrC,2BAAC;CAAA,CAjPkDrL,WAAW;AAAxCJ;AAmPtB;EAA8BC;EAA9B;IACI;IADJ;IAmBYC,aAAO,GAAY,EAAE;IAG7BA,eAAS,GAAoBtB,KAAK,CAAC6d,SAAS,CAACvQ,MAAM;;EA+FvD;EA7FI;EAEUwQ,iCAAc,GAAxB;IACI,IAAI/e,OAAO,GAA4BoC,SAAS;IAEhD,IAAI,IAAI,CAAC4c,OAAO,CAAC/M,MAAM,GAAG,CAAC,EAAE;MACzBjS,OAAO,GAAGa,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MACvCd,OAAO,CAACyB,KAAK,CAAC+C,OAAO,GAAG,MAAM;MAC9BxE,OAAO,CAACyB,KAAK,CAACwd,QAAQ,GAAG,MAAM;MAE/B,KAAoB,UAAY,EAAZzG,SAAI,CAACwG,OAAO,EAAZxU,cAAY,EAAZA,IAAY,EAAE;QAA7B,IAAM0U,KAAK;QACZ,QAAQ,IAAI,CAACC,SAAS;UAClB,KAAKle,KAAK,CAAC6d,SAAS,CAAC1Q,KAAK;YACtB8Q,KAAK,CAACtP,IAAI,GAAG3O,KAAK,CAACma,IAAI,CAAChN,KAAK;YAC7B;UACJ,KAAKnN,KAAK,CAAC6d,SAAS,CAACrQ,KAAK;YACtByQ,KAAK,CAACtP,IAAI,GAAG3O,KAAK,CAACma,IAAI,CAAC3M,KAAK;YAC7B;UACJ;YACIyQ,KAAK,CAACtP,IAAI,GAAG3O,KAAK,CAACma,IAAI,CAAC7M,MAAM;YAC9B;QAAM;QAGd2Q,KAAK,CAACra,SAAS,GAAG,IAAI,CAACtE,UAAU,CAAC6e,QAAQ,CAACC,cAAc;QAEzD,IAAMC,aAAa,GAAGJ,KAAK,CAACjG,MAAM,EAAE;QAEpC,IAAIqG,aAAa,EAAE;UACfA,aAAa,CAAC7d,KAAK,CAAC+C,OAAO,GAAG,aAAa;UAC3C8a,aAAa,CAAC7d,KAAK,CAAC8d,MAAM,GAAG,KAAK;UAClCD,aAAa,CAAC7d,KAAK,CAACM,WAAW,GAAG,MAAM;UAExCR,KAAK,CAACuV,WAAW,CAAC9W,OAAO,EAAEsf,aAAa,CAAC;;;;IAKrD,OAAOtf,OAAO;EAClB,CAAC;EAED+e,+BAAY,GAAZ;IACI,OAAO,IAAI,CAACC,OAAO,CAAC/M,MAAM;EAC9B,CAAC;EAED8M,4BAAS,GAAT,UAAUnW,KAAa;IACnB,OAAO,IAAI,CAACoW,OAAO,CAACpW,KAAK,CAAC;EAC9B,CAAC;EAEDmW,8CAA2B,GAA3B;IACI,OAAO,IAAI,CAACC,OAAO,IAAI,IAAI,CAACA,OAAO,CAAC/M,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC+M,OAAO,CAAC,CAAC,CAAC,GAAG5c,SAAS;EAChF,CAAC;EAED2c,6CAA0B,GAA1B;IACI,OAAO,IAAI,CAACC,OAAO,IAAI,IAAI,CAACA,OAAO,CAAC/M,MAAM,GAAG,CAAC,GACxC,IAAI,CAAC+M,OAAO,CAAC,IAAI,CAACA,OAAO,CAAC/M,MAAM,GAAG,CAAC,CAAC,GACrC7P,SAAS;EACnB,CAAC;EAED2c,6BAAU,GAAV,UAAWhB,IAAiB;IACxB,IAAIA,IAAI,YAAYxC,KAAK,EAAE;MACvB,IAAMiE,SAAS,GAAG,IAAI,CAACR,OAAO,CAAC9S,OAAO,CAAC6R,IAAI,CAAC;MAE5C,IAAIyB,SAAS,IAAI,CAAC,EAAE;QAChB,IAAI,CAACR,OAAO,CAAC7F,MAAM,CAACqG,SAAS,EAAE,CAAC,CAAC;QAEjCzB,IAAI,CAAC5F,SAAS,CAAC/V,SAAS,CAAC;QAEzB,IAAI,CAAC2H,YAAY,EAAE;QAEnB,OAAO,IAAI;;;IAInB,OAAO,KAAK;EAChB,CAAC;EAEDgV,kCAAe,GAAf;IACI,OAAO,UAAU;EACrB,CAAC;EAEDA,2BAAQ,GAAR,UAASG,KAAY;IACjB,IAAI,CAACA,KAAK,CAACrc,MAAM,EAAE;MACf,IAAI,CAACmc,OAAO,CAACxT,IAAI,CAAC0T,KAAK,CAAC;MAExBA,KAAK,CAAC/G,SAAS,CAAC,IAAI,CAAC;KACxB,MAAM;MACH,MAAM,IAAItP,KAAK,CAAC,gDAAgD,CAAC;;EAEzE,CAAC;EAEDkW,0BAAO,GAAP,UAAQU,WAAwB;IAC5B,OAAOA,WAAW,YAAYlE,KAAK,GAAG,IAAI,CAACyD,OAAO,CAAC9S,OAAO,CAACuT,WAAW,CAAC,GAAG,CAAC,CAAC;EAChF,CAAC;EAjHeV,uBAAc,GAAG,IAAIzS,oDAAoC,CACrEA,wBAAQ,CAACG,IAAI,EACb,QAAQ,EACR8O,KAAK,EACL,UAACnO,MAA0B,EAAE2Q,IAAW;IACpCA,IAAI,CAAC5F,SAAS,CAAc/K,MAAM,CAAC;EACvC,CAAC,CACJ;EACe2R,0BAAiB,GAAG,IAAIzS,4BAAY,CAChDA,wBAAQ,CAACG,IAAI,EACb,WAAW,EACXxL,KAAK,CAAC6d,SAAS,EACf7d,KAAK,CAAC6d,SAAS,CAACvQ,MAAM,CACzB;EAGD7B,YADC,4BAAQ,EAACqS,QAAQ,CAACW,cAAc,CAAC,yCACJ;EAG9BhT,YADC,4BAAQ,EAACqS,QAAQ,CAACY,iBAAiB,CAAC,2CACe;EA+FxD,eAAC;CAAA,CArH6BtW,oBAAoB;AAArChH;AAuHb;EAA4CC;EAYxC;EAEA,uBAAYsZ,GAAY,EAAEuB,QAAiB;IAA3C,YACIjW,iBAAO;IAEP3E,KAAI,CAACqZ,GAAG,GAAGA,GAAG;IACdrZ,KAAI,CAAC4a,QAAQ,GAAGA,QAAQ;;EAC5B;EAEAyC,+BAAO,GAAP;IACI,OAAO,IAAI,CAACzC,QAAQ,IAAI,IAAI,CAACvB,GAAG,GAAG,IAAI,GAAG,KAAK;EACnD,CAAC;EAtBD;EAEgBgE,8BAAgB,GAAG,IAAItT,8BAAc,CAACA,wBAAQ,CAACC,IAAI,EAAE,UAAU,CAAC;EAChEqT,yBAAW,GAAG,IAAItT,8BAAc,CAACA,wBAAQ,CAACC,IAAI,EAAE,KAAK,CAAC;EAGtEG,YADC,4BAAQ,EAACkT,aAAa,CAACC,gBAAgB,CAAC,+CACvB;EAGlBnT,YADC,4BAAQ,EAACkT,aAAa,CAAC7C,WAAW,CAAC,0CACvB;EAcjB,oBAAC;CAAA,CAxB2CzQ,kCAAkB;AAAxCjK;AA0BtB;EAAmCC;EAQ/B;EAEA,uBAAYsZ,GAAY,EAAEuB,QAAiB,EAAE2C,KAAc;IAA3D,YACI5Y,kBAAM0U,GAAG,EAAEuB,QAAQ,CAAC;IAEpB5a,KAAI,CAACud,KAAK,GAAGA,KAAK;;EACtB;EAEUC,oCAAY,GAAtB;IACI,OAAO,eAAe;EAC1B,CAAC;EAEDA,8BAAM,GAAN;IACI,IAAIrY,MAAM,GAAiCtF,SAAS;IAEpD,IAAI,IAAI,CAACqY,OAAO,EAAE,EAAE;MAChB/S,MAAM,GAAG7G,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;MACxC4G,MAAM,CAACoV,GAAG,GAAG,IAAI,CAAClB,GAAI;MACtBlU,MAAM,CAACsY,IAAI,GAAG,UAAU;MACxBtY,MAAM,CAACoY,KAAK,GAAG,IAAI,CAACA,KAAM;;IAG9B,OAAOpY,MAAM;EACjB,CAAC;EA9BD;EAEgBqY,2BAAa,GAAG,IAAIzT,8BAAc,CAACA,wBAAQ,CAAC2T,IAAI,EAAE,OAAO,CAAC;EAG1EvT,YADC,4BAAQ,EAACqT,aAAa,CAACG,aAAa,CAAC,4CACvB;EA0BnB,oBAAC;CAAA,CAhCkCN,aAAa;AAAnCvd;AAkCb;EAAiCC;EAAjC;;EAgBA;EAfc6d,kCAAY,GAAtB;IACI,OAAO,aAAa;EACxB,CAAC;EAEDA,4BAAM,GAAN;IACI,IAAIzY,MAAM,GAAkCtF,SAAS;IAErD,IAAI,IAAI,CAACqY,OAAO,EAAE,EAAE;MAChB/S,MAAM,GAAG7G,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MACzC4G,MAAM,CAACoV,GAAG,GAAG,IAAI,CAAClB,GAAI;MACtBlU,MAAM,CAAC0Y,IAAI,GAAG,IAAI,CAACjD,QAAS;;IAGhC,OAAOzV,MAAM;EACjB,CAAC;EACL,kBAAC;AAAD,CAAC,CAhBgCkY,aAAa;AAAjCvd;AAkBb;EAAA,wBAsBA;EAfIge,0BAAI,GAAJ;IACI;EAAA,CACH;EAED7d,sBAAI6d,kCAAS;SAAb;MACI,OAAO,IAAI,CAACC,UAAU;IAC1B,CAAC;SAED,UAAwBxd,KAAyB;MAC7C,IAAI,CAACwd,UAAU,GAAGxd,KAAK;IAC3B,CAAC;;;;EAEDN,sBAAI6d,0CAAiB;SAArB;MACI,OAAOje,SAAS;IACpB,CAAC;;;;EACL,kBAAC;AAAD,CAAC,EAtBD;AAAsBC;AAwBtB;EAAsCC;EAiClC,0BAAqBie,KAAY;IAAjC,YACIrZ,iBAAO;IADU3E,WAAK,GAALge,KAAK;IA/BlBhe,sBAAgB,GAAkB,EAAE;IACpCA,qBAAe,GAAoB,EAAE;IAiCzCA,KAAI,CAACie,cAAc,EAAE;;EACzB;EA/BQC,yCAAc,GAAtB;;IACI,IAAI,CAACC,gBAAgB,GAAG,EAAE;IAC1B,IAAI,CAACC,eAAe,GAAG,EAAE;IACzB,IAAI,CAACC,kBAAkB,GAAGxe,SAAS;IAEnC,KAAqB,UAAkB,EAAlBye,SAAI,CAACN,KAAK,CAACO,OAAO,EAAlBtW,cAAkB,EAAlBA,IAAkB,EAAE;MAApC,IAAMvD,MAAM;MACb,IAAM8Z,cAAc,GAAG9Z,MAAM,CAACkW,QAAQ,GAAGlW,MAAM,CAACkW,QAAQ,CAAC6D,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE;MAExE,IAAID,cAAc,CAAC9O,MAAM,KAAK,CAAC,EAAE;QAC7B,IAAI,CAAC,IAAI,CAAC2O,kBAAkB,EAAE;UAC1B,IAAMhY,KAAK,GAAG6X,gBAAgB,CAACQ,mBAAmB,CAAC/U,OAAO,CAAC6U,cAAc,CAAC,CAAC,CAAC,CAAC;UAE7E,IAAInY,KAAK,IAAI,CAAC,EAAE;YACZ,IAAI,CAACgY,kBAAkB,GAAGH,gBAAgB,CAACQ,mBAAmB,CAACrY,KAAK,CAAC;;;QAG7E,IAAImY,cAAc,CAAC,CAAC,CAAC,KAAK,IAAI,CAACH,kBAAkB,EAAE;UAC/C,IAAI,CAACF,gBAAgB,CAAClV,IAAI,CAACvE,MAAM,CAAC;;;;IAK9C,UAAI,CAAC0Z,eAAe,EAACnV,IAAI,WAAI,IAAI,CAAC+U,KAAK,CAACW,cAAc;EAC1D,CAAC;EAUDT,kCAAO,GAAP;IACI,OAAO,IAAI,CAACC,gBAAgB,CAACzO,MAAM,GAAG,CAAC;EAC3C,CAAC;EAEKwO,4CAAiB,GAAvB;;;;;;GAEC;;EAEDA,iCAAM,GAAN;IACI,IAAI,IAAI,CAACG,kBAAkB,KAAK,OAAO,EAAE;MACrC,IAAI,CAACO,aAAa,GAAGtgB,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;KACvD,MAAM;MACH,IAAI,CAACqgB,aAAa,GAAGtgB,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;;IAGxD,IAAI,CAACqgB,aAAa,CAAC/f,YAAY,CAC3B,YAAY,EACZ,IAAI,CAACmf,KAAK,CAACa,OAAO,GAAG,IAAI,CAACb,KAAK,CAACa,OAAO,GAAGtY,iBAAO,CAACuY,QAAQ,CAACC,oBAAoB,EAAE,CACpF;IACD,IAAI,CAACH,aAAa,CAAC/f,YAAY,CAAC,oBAAoB,EAAE,EAAE,CAAC;IACzD,IAAI,CAAC+f,aAAa,CAAC/f,YAAY,CAAC,aAAa,EAAE,EAAE,CAAC;IAClD;IACA;IACA;IACA,IAAI,CAAC+f,aAAa,CAAC/f,YAAY,CAAC,aAAa,EAAE,EAAE,CAAC;IAClD,IAAI,CAAC+f,aAAa,CAACI,QAAQ,GAAG,IAAI;IAClC,IAAI,CAACJ,aAAa,CAACK,QAAQ,GAAG,IAAI;IAElC,IAAIjgB,KAAK,CAACkgB,UAAU,EAAE,EAAE;MACpB,IAAI,CAACN,aAAa,CAACO,KAAK,GAAG,IAAI;;IAGnC,IAAI,CAACP,aAAa,CAACQ,OAAO,GAAG,MAAM;IACnC,IAAI,CAACR,aAAa,CAAC1f,KAAK,CAACQ,KAAK,GAAG,MAAM;IAEvC,KAAqB,UAAkB,EAAlBuW,SAAI,CAAC+H,KAAK,CAACO,OAAO,EAAlBtW,cAAkB,EAAlBA,IAAkB,EAAE;MAApC,IAAMvD,MAAM;MACb,IAAM2a,cAAc,GAAG3a,MAAM,CAACgS,MAAM,EAAE;MAEtC1X,KAAK,CAACuV,WAAW,CAAC,IAAI,CAACqK,aAAa,EAAES,cAAc,CAAC;;IAGzD,KAA4B,UAAyB,EAAzBzM,SAAI,CAACoL,KAAK,CAACW,cAAc,EAAzBL,cAAyB,EAAzBA,IAAyB,EAAE;MAAlD,IAAMgB,aAAa;MACpB,IAAIA,aAAa,CAAC1E,QAAQ,IAAI,KAAK,EAAE;QACjC,IAAM2E,qBAAqB,GAAGD,aAAa,CAAC5I,MAAM,EAAE;QAEpD1X,KAAK,CAACuV,WAAW,CAAC,IAAI,CAACqK,aAAa,EAAEW,qBAAqB,CAAC;;;IAIpE,OAAO,IAAI,CAACX,aAAa;EAC7B,CAAC;EAEDV,+BAAI,GAAJ;IACI,IAAI,IAAI,CAACU,aAAa,EAAE;MACpB,IAAI,CAACA,aAAa,CAACY,IAAI,EAAE;;EAEjC,CAAC;EAEDvf,sBAAIie,+CAAiB;SAArB;MACI,OAAO,IAAI,CAACG,kBAAkB;IAClC,CAAC;;;;EApEeH,oCAAmB,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC;EAqE5D,uBAAC;CAAA,CApGqCJ,WAAW;AAApChe;AAsGb;EAAgDC;EAC5C,2BAAY0f,OAAwB;WAChC9a,iBAAO;EACX;EACJ,wBAAC;AAAD,CAAC,CAJ+CmZ,WAAW;AAArChe;AAMtB;EAAqDC;EAGjD,gCAAY0f,OAAwB,EAAWC,WAAoB;IAAnE,YACI/a,kBAAM8a,OAAO,CAAC;IAD6Bzf,iBAAW,GAAX0f,WAAW;IAGtD,IAAID,OAAO,CAAC/P,MAAM,IAAI,CAAC,EAAE;MACrB1P,KAAI,CAAC2f,QAAQ,GAAGF,OAAO,CAAC,CAAC,CAAC;;;EAElC;EAIAG,wCAAO,GAAP;IACI,OAAO,IAAI,CAACD,QAAQ,KAAK9f,SAAS;EACtC,CAAC;EAED+f,uCAAM,GAAN;IACI,IAAIC,SAAS,GAAGvhB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC7CshB,SAAS,CAAC3gB,KAAK,CAAC4gB,QAAQ,GAAG,UAAU;IACrCD,SAAS,CAAC3gB,KAAK,CAACQ,KAAK,GAAG,MAAM;IAC9BmgB,SAAS,CAAC3gB,KAAK,CAACI,MAAM,GAAG,GAAG;IAC5BugB,SAAS,CAAC3gB,KAAK,CAACic,aAAa,GAAG,QAAQ;IAExC,IAAI4E,MAAM,GAAGzhB,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC7CwhB,MAAM,CAAC7gB,KAAK,CAAC4gB,QAAQ,GAAG,UAAU;IAClCC,MAAM,CAAC7gB,KAAK,CAAC+G,GAAG,GAAG,GAAG;IACtB8Z,MAAM,CAAC7gB,KAAK,CAAC0C,IAAI,GAAG,GAAG;IACvBme,MAAM,CAAC7gB,KAAK,CAACQ,KAAK,GAAG,MAAM;IAC3BqgB,MAAM,CAAC7gB,KAAK,CAACI,MAAM,GAAG,MAAM;IAC5BygB,MAAM,CAACxF,GAAG,GAAG,IAAI,CAACyF,gBAAgB,EAAE;IACpCD,MAAM,CAACE,WAAW,GAAG,GAAG;IAExB,IAAI,IAAI,CAACP,WAAW,EAAE;MAClBK,MAAM,CAACtI,KAAK,GAAG,IAAI,CAACiI,WAAW;;IAGnCK,MAAM,CAACG,KAAK,GACR,0FAA0F;IAC9FH,MAAM,CAACI,eAAe,GAAG,IAAI;IAE7BN,SAAS,CAACtL,WAAW,CAACwL,MAAM,CAAC;IAE7B,OAAOF,SAAS;EACpB,CAAC;EAED5f,sBAAI2f,2CAAO;SAAX;MACI,OAAO,IAAI,CAACD,QAAQ;IACxB,CAAC;;;;EACL,6BAAC;AAAD,CAAC,CAjDoDS,iBAAiB;AAAhDtgB;AAmDtB;EAAiCC;EAAjC;;EAgBA;EAfUsgB,uCAAiB,GAAvB;;;;;;YACUC,SAAS,GAAG,gDAAyC,IAAI,CAACN,gBAAgB,EAAE,CAAE;YAErE,qBAAMO,KAAK,CAACD,SAAS,CAAC;;YAAjCE,QAAQ,GAAGvK,SAAsB;iBAEjCuK,QAAQ,CAACC,EAAE,EAAX;YACW,qBAAMD,QAAQ,CAACE,IAAI,EAAE;;YAA5BA,IAAI,GAAGzK,SAAqB;YAEhC,IAAI,CAAC0K,SAAS,GAAGD,IAAI,CAAC,eAAe,CAAC;;;;;;;GAE7C;;EAEDL,sCAAgB,GAAhB;IACI,OAAO,yCAAkC,IAAI,CAACO,OAAO,gBAAa;EACtE,CAAC;EACL,kBAAC;AAAD,CAAC,CAhBgChB,sBAAsB;AAA1C9f;AAkBb;EAAuCC;EAAvC;;EAgBA;EAfU8gB,6CAAiB,GAAvB;;;;;;YACUC,MAAM,GAAG,4CAAqC,IAAI,CAACF,OAAO,8BAA2B;YAE5E,qBAAML,KAAK,CAACO,MAAM,CAAC;;YAA9BN,QAAQ,GAAGvK,SAAmB;iBAE9BuK,QAAQ,CAACC,EAAE,EAAX;YACW,qBAAMD,QAAQ,CAACE,IAAI,EAAE;;YAA5BA,IAAI,GAAGzK,SAAqB;YAEhC,IAAI,CAAC0K,SAAS,GAAGD,IAAI,CAAC,mBAAmB,CAAC;;;;;;;GAEjD;;EAEDG,4CAAgB,GAAhB;IACI,OAAO,kDAA2C,IAAI,CAACD,OAAO,gBAAa;EAC/E,CAAC;EACL,wBAAC;AAAD,CAAC,CAhBsChB,sBAAsB;AAAhD9f;AAkBb;EAAmCC;EAG/B,uBAAY0f,OAAwB,EAAWC,WAAoB;IAAnE,YACI/a,kBAAM8a,OAAO,EAAEC,WAAW,CAAC;IADgB1f,iBAAW,GAAX0f,WAAW;IAGtD,IAAID,OAAO,CAAC/P,MAAM,IAAI,CAAC,IAAI+P,OAAO,CAAC,CAAC,CAAC,KAAK5f,SAAS,EAAE;MACjDG,KAAI,CAAC+gB,eAAe,GAAGC,QAAQ,CAACvB,OAAO,CAAC,CAAC,CAAC,CAAC;;;EAEnD;EAEMwB,yCAAiB,GAAvB;;;QACI,IAAI,CAACN,SAAS,GAAG,IAAI,CAACC,OAAO,GACvB,qCAA8B,IAAI,CAACA,OAAO,uBAAoB,GAC9D/gB,SAAS;;;;GAClB;;EAEDohB,wCAAgB,GAAhB;IACI,IAAI5H,GAAG,GAAG,wCAAiC,IAAI,CAACuH,OAAO,gBAAa;IAEpE,IAAI,IAAI,CAACG,eAAe,KAAKlhB,SAAS,EAAE;MACpCwZ,GAAG,IAAI,iBAAU,IAAI,CAAC0H,eAAe,CAAE;;IAG3C,OAAO1H,GAAG;EACd,CAAC;EACL,oBAAC;AAAD,CAAC,CA1BkCuG,sBAAsB;AAA5C9f;AAiCb;EAA2BC;EAA3B;IAAA;IAsCIC,aAAO,GAAkB,EAAE;IAG3BA,oBAAc,GAAoB,EAAE;;EAsOxC;EA1NYkhB,iCAAiB,GAAzB;IACI,KAAqB,UAAwB,EAAxBjL,UAAK,CAACkL,kBAAkB,EAAxBlZ,cAAwB,EAAxBA,IAAwB,EAAE;MAA1C,IAAImZ,QAAQ;MACb,KAAmB,UAAY,EAAZxO,SAAI,CAAC2L,OAAO,EAAZD,cAAY,EAAZA,IAAY,EAAE;QAA5B,IAAI5Z,MAAM;QACX,IAAIA,MAAM,CAAC2U,GAAG,EAAE;UACZ,KAAoB,UAAoB,EAApBgI,aAAQ,CAACC,WAAW,EAApBC,cAAoB,EAApBA,IAAoB,EAAE;YAArC,IAAIC,OAAO;YACZ,IAAI/B,OAAO,GAAG+B,OAAO,CAACC,IAAI,CAAC/c,MAAM,CAAC2U,GAAG,CAAC;YAEtC,IAAIoG,OAAO,KAAK,IAAI,EAAE;cAClB,OAAO2B,QAAQ,CAACM,iBAAiB,CAACjC,OAAO,CAAC;;;;;;IAO9D,OAAO,IAAIvB,gBAAgB,CAAC,IAAI,CAAC;EACrC,CAAC;EAEOgD,sCAAsB,GAA9B,UAA+BS,KAAc;IACzC,IAAI,IAAI,CAAC3jB,UAAU,CAAC4jB,KAAK,CAACC,mBAAmB,EAAE;MAC3CF,KAAK,CAAC/Q,cAAc,EAAE;MACtB+Q,KAAK,CAAC9Q,YAAY,GAAG,IAAI;MAEzB,IAAI,IAAI,CAAClN,eAAe,EAAE;QACtB,IAAMme,kBAAkB,GAAG,IAAI,CAACC,YAAY,CAACrL,MAAM,EAAE;QACrDlZ,YAAY,CAAC,IAAI,CAACmG,eAAe,CAAC;QAClC,IAAI,CAACA,eAAe,CAAC4Q,WAAW,CAACuN,kBAAkB,CAAC;QAEpD,IAAI,CAACC,YAAY,CAACvC,IAAI,EAAE;QAExBsC,kBAAkB,CAACE,KAAK,EAAE;;KAEjC,MAAM;MACH,IAAId,KAAK,CAACe,MAAM,EAAE;QACdN,KAAK,CAAC/Q,cAAc,EAAE;QACtB+Q,KAAK,CAAC9Q,YAAY,GAAG,IAAI;QAEzBqQ,KAAK,CAACe,MAAM,CAAC,IAAI,CAAC;;;EAG9B,CAAC;EAEaf,6BAAa,GAA3B;;;;;QACI,IAAI,IAAI,CAACvd,eAAe,EAAE;UAChBue,oBAAoB,GAAG,EAAE;UACzBC,qBAAqB,GAAG,EAAE;UAE1BC,sBAAoB9jB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;UACvD6jB,mBAAiB,CAAC5jB,SAAS,GAAG,IAAI,CAACR,UAAU,CAACS,gBAAgB,CAAC,iBAAiB,CAAC;UACjF2jB,mBAAiB,CAACvjB,YAAY,CAAC,MAAM,EAAE,aAAa,CAAC;UACrDujB,mBAAiB,CAACvjB,YAAY,CAC1B,YAAY,EACZ,IAAI,CAACggB,OAAO,GAAG,IAAI,CAACA,OAAO,GAAGtY,iBAAO,CAACuY,QAAQ,CAACC,oBAAoB,EAAE,CACxE;UACDqD,mBAAiB,CAACljB,KAAK,CAAC4gB,QAAQ,GAAG,UAAU;UAC7CsC,mBAAiB,CAACljB,KAAK,CAAC+C,OAAO,GAAG,MAAM;UAEpC0e,SAAS,GAAG,IAAI,CAAC0B,MAAM,GAAG,IAAI,CAACA,MAAM,GAAG,IAAI,CAACN,YAAY,CAACpB,SAAS;UAEvE,IAAI,CAACA,SAAS,EAAE;YACZA,SAAS,GAAG,IAAI,CAAC3iB,UAAU,CAAC4jB,KAAK,CAACU,aAAa;;UAGnD,IAAI3B,SAAS,EAAE;YACL4B,uBAAqBjkB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;YACxDgkB,oBAAkB,CAACrjB,KAAK,CAACQ,KAAK,GAAG,MAAM;YACvC6iB,oBAAkB,CAACrjB,KAAK,CAACI,MAAM,GAAG,MAAM;YACxCijB,oBAAkB,CAAC1jB,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC;YAEvD0jB,oBAAkB,CAAC3I,OAAO,GAAG,UAACF,EAAS;cACnC,IAAI6I,oBAAkB,CAACC,UAAU,EAAE;gBAC/BD,oBAAkB,CAACC,UAAU,CAACC,WAAW,CAACF,oBAAkB,CAAC;;cAGjEH,mBAAiB,CAAChb,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC;cACxC+a,mBAAiB,CAACljB,KAAK,CAACqE,SAAS,GAAG,OAAO;YAC/C,CAAC;YAEDgf,oBAAkB,CAAChI,GAAG,GAAGoG,SAAS;YAElCyB,mBAAiB,CAAC7N,WAAW,CAACgO,oBAAkB,CAAC;WACpD,MAAM;YACHH,mBAAiB,CAAChb,SAAS,CAACC,GAAG,CAAC,OAAO,CAAC;YACxC+a,mBAAiB,CAACljB,KAAK,CAACqE,SAAS,GAAG,OAAO;;UAG/C,IAAI,IAAI,CAACvF,UAAU,CAACwS,qBAAqB,IAAI,IAAI,CAACuR,YAAY,CAACW,OAAO,EAAE,EAAE;YAChEC,sBAAsB,GAAGrkB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;YAC5DokB,sBAAsB,CAACC,QAAQ,GAAG,CAAC;YACnCD,sBAAsB,CAAC9jB,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC;YACrD8jB,sBAAsB,CAAC9jB,YAAY,CAC/B,YAAY,EACZ0H,iBAAO,CAACuY,QAAQ,CAAC+D,oBAAoB,EAAE,CAC1C;YACDF,sBAAsB,CAACnkB,SAAS,GAC5B,IAAI,CAACR,UAAU,CAACS,gBAAgB,CAAC,qBAAqB,CAAC;YAC3DkkB,sBAAsB,CAACzjB,KAAK,CAAC+C,OAAO,GAAG,MAAM;YAC7C0gB,sBAAsB,CAACzjB,KAAK,CAACoa,UAAU,GAAG,QAAQ;YAClDqJ,sBAAsB,CAACzjB,KAAK,CAACqa,cAAc,GAAG,QAAQ;YACtDoJ,sBAAsB,CAAClS,OAAO,GAAG,UAACC,CAAC;cAC/B1Q,KAAI,CAAC8iB,sBAAsB,CAACpS,CAAC,CAAC;YAClC,CAAC;YAEDiS,sBAAsB,CAAC1I,UAAU,GAAG,UAACvJ,CAAgB;cACjD,IAAIA,CAAC,CAACwJ,IAAI,KAAK,OAAO,IAAIxJ,CAAC,CAACwJ,IAAI,KAAK,OAAO,EAAE;gBAC1C;gBACAla,KAAI,CAAC8iB,sBAAsB,CAACpS,CAAC,CAAC;;YAEtC,CAAC;YAEKqS,sBAAsB,GAAGzkB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;YAC5DwkB,sBAAsB,CAACvkB,SAAS,GAAG,IAAI,CAACR,UAAU,CAACS,gBAAgB,CAC/D,2BAA2B,CAC9B;YACDskB,sBAAsB,CAAC7jB,KAAK,CAACQ,KAAK,GAAGwiB,oBAAoB,GAAG,IAAI;YAChEa,sBAAsB,CAAC7jB,KAAK,CAACI,MAAM,GAAG6iB,qBAAqB,GAAG,IAAI;YAClEY,sBAAsB,CAAC7jB,KAAK,CAAC8jB,cAAc,GAAGb,qBAAqB,GAAG,CAAC,GAAG,IAAI;YAC9EY,sBAAsB,CAAC7jB,KAAK,CAAC+jB,iBAAiB,GAAGd,qBAAqB,GAAG,CAAC,GAAG,IAAI;YACjFY,sBAAsB,CAAC7jB,KAAK,CAACgkB,eAAe,GAAGhB,oBAAoB,GAAG,IAAI;YAC1Ea,sBAAsB,CAAC7jB,KAAK,CAACikB,gBAAgB,GAAG,GAAG;YACnDJ,sBAAsB,CAAC7jB,KAAK,CAACkY,WAAW,GAAG,OAAO;YAClD2L,sBAAsB,CAAC7jB,KAAK,CAACkkB,cAAc,GAAG,aAAa;YAC3DL,sBAAsB,CAAC7jB,KAAK,CAACmkB,gBAAgB,GAAG,aAAa;YAC7DN,sBAAsB,CAAC7jB,KAAK,CAACokB,iBAAiB,GAAG,aAAa;YAC9DP,sBAAsB,CAAC7jB,KAAK,CAACqkB,SAAS,GAClC,YAAY,GAAGrB,oBAAoB,GAAG,EAAE,GAAG,SAAS;YAExDS,sBAAsB,CAACpO,WAAW,CAACwO,sBAAsB,CAAC;YAEpDS,mBAAmB,GAAGllB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;YACzDilB,mBAAmB,CAACtkB,KAAK,CAAC4gB,QAAQ,GAAG,UAAU;YAC/C0D,mBAAmB,CAACtkB,KAAK,CAAC0C,IAAI,GAAG,GAAG;YACpC4hB,mBAAmB,CAACtkB,KAAK,CAAC+G,GAAG,GAAG,GAAG;YACnCud,mBAAmB,CAACtkB,KAAK,CAACQ,KAAK,GAAG,MAAM;YACxC8jB,mBAAmB,CAACtkB,KAAK,CAACI,MAAM,GAAG,MAAM;YACzCkkB,mBAAmB,CAACtkB,KAAK,CAAC+C,OAAO,GAAG,MAAM;YAC1CuhB,mBAAmB,CAACtkB,KAAK,CAACqa,cAAc,GAAG,QAAQ;YACnDiK,mBAAmB,CAACtkB,KAAK,CAACoa,UAAU,GAAG,QAAQ;YAE/CkK,mBAAmB,CAACjP,WAAW,CAACoO,sBAAsB,CAAC;YACvDP,mBAAiB,CAAC7N,WAAW,CAACiP,mBAAmB,CAAC;;UAGtDhmB,YAAY,CAAC,IAAI,CAACmG,eAAe,CAAC;UAClC,IAAI,CAACA,eAAe,CAAC4Q,WAAW,CAAC6N,mBAAiB,CAAC;;;;;GAE1D;;EAESlB,8BAAc,GAAxB;IACI,IAAMzjB,OAAO,GAAgBa,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC1Dd,OAAO,CAACe,SAAS,GAAG,IAAI,CAACR,UAAU,CAACS,gBAAgB,CAAC,UAAU,CAAC;IAEhE,OAAOhB,OAAO;EAClB,CAAC;EAIDyjB,sBAAM,GAAN;IAAA;IACI,IAAI/b,MAAM,GAAGR,iBAAM+R,MAAM,WAAE;IAE3B,IAAIvR,MAAM,EAAE;MACR,IAAI,CAAC4c,YAAY,GAAG,IAAI,CAACL,iBAAiB,EAAE;MAE5C,IAAI,CAACK,YAAY,CAAC0B,iBAAiB,EAAE,CAACC,IAAI,CAAC;QAAM,YAAI,CAACC,aAAa,EAAE;MAApB,CAAoB,CAAC;;IAG1E,OAAOxe,MAAM;EACjB,CAAC;EAED+b,mCAAmB,GAAnB;IACIvc,iBAAMyW,mBAAmB,WAAE;IAE3B,IAAI,CAACuI,aAAa,EAAE;EACxB,CAAC;EAEDzC,+BAAe,GAAf;IACI,OAAO,OAAO;EAClB,CAAC;EAEDA,sCAAsB,GAAtB;IACI,IAAM/b,MAAM,GAA2B,EAAE;IAEzC,IAAI,IAAI,CAAC4c,YAAY,EAAE;MACnB,IAAMpB,SAAS,GAAG,IAAI,CAAC0B,MAAM,GAAG,IAAI,CAACA,MAAM,GAAG,IAAI,CAACrkB,UAAU,CAAC4jB,KAAK,CAACU,aAAa;MAEjF,IAAI3B,SAAS,EAAE;QACXxb,MAAM,CAAC8D,IAAI,CAAC;UAAEoQ,GAAG,EAAEsH,SAAS;UAAE/F,QAAQ,EAAE;QAAO,CAAE,CAAC;;;IAI1D,KAA0B,UAAY,EAAZ3E,SAAI,CAACsI,OAAO,EAAZtW,cAAY,EAAZA,IAAY,EAAE;MAAnC,IAAM2b,WAAW;MAClB,IAAIA,WAAW,CAAC1L,OAAO,EAAE,EAAE;QACvB/S,MAAM,CAAC8D,IAAI,CAAC;UACR;UACAoQ,GAAG,EAAEuK,WAAW,CAACvK,GAAI;UACrBuB,QAAQ,EAAEgJ,WAAW,CAAChJ;UACtB;SACH,CAAC;;;;IAIV,KAA4B,UAAmB,EAAnBhI,SAAI,CAAC+L,cAAc,EAAnBL,cAAmB,EAAnBA,IAAmB,EAAE;MAA5C,IAAMgB,aAAa;MACpB,IAAIA,aAAa,CAACpH,OAAO,EAAE,EAAE;QACzB/S,MAAM,CAAC8D,IAAI,CAAC;UACR;UACAoQ,GAAG,EAAEiG,aAAa,CAACjG,GAAI;UACvBuB,QAAQ,EAAE0E,aAAa,CAAC1E;UACxB;SACH,CAAC;;;;IAIV,OAAOzV,MAAM;EACjB,CAAC;EAEDlF,sBAAIihB,oCAAiB;SAArB;MACI,OAAO,IAAI,CAACa,YAAY,CAAC8B,iBAAiB;IAC9C,CAAC;;;;EA7QM3C,wBAAkB,GAAyB,CAC9C;IACII,WAAW,EAAE,CACT,yFAAyF,EACzF,wDAAwD,CAC3D;IACDI,iBAAiB,EAAE,UAACjC,OAAO;MACvB,WAAIwB,aAAa,CAACxB,OAAO,EAAElZ,iBAAO,CAACuY,QAAQ,CAACgF,kBAAkB,EAAE,CAAC;IAAjE;GACP,EACD;IACIxC,WAAW,EAAE,CAAC,6CAA6C,CAAC;IAC5DI,iBAAiB,EAAE,UAACjC,OAAO;MACvB,WAAIY,WAAW,CAACZ,OAAO,EAAElZ,iBAAO,CAACuY,QAAQ,CAACiF,gBAAgB,EAAE,CAAC;IAA7D;GACP,EACD;IACIzC,WAAW,EAAE,CAAC,mEAAmE,CAAC;IAClFI,iBAAiB,EAAE,UAACjC,OAAO;MACvB,WAAIoB,iBAAiB,CAACpB,OAAO,EAAElZ,iBAAO,CAACuY,QAAQ,CAACkF,sBAAsB,EAAE,CAAC;IAAzE;GACP,CACJ;EAED;EAEgB9C,qBAAe,GAAG,IAAInX,oDAAoC,CACtEA,wBAAQ,CAACC,IAAI,EACb,SAAS,EACT4T,WAAW,CACd;EACesD,4BAAsB,GAAG,IAAInX,oDAAoC,CAC7EA,wBAAQ,CAAC2T,IAAI,EACb,gBAAgB,EAChBF,aAAa,CAChB;EACe0D,oBAAc,GAAG,IAAInX,8BAAc,CAACA,wBAAQ,CAACC,IAAI,EAAE,QAAQ,CAAC;EAC5DkX,qBAAe,GAAG,IAAInX,8BAAc,CAACA,wBAAQ,CAACC,IAAI,EAAE,SAAS,CAAC;EAG9EG,YADC,4BAAQ,EAAC+W,KAAK,CAAC+C,eAAe,CAAC,sCACJ;EAG5B9Z,YADC,4BAAQ,EAAC+W,KAAK,CAACgD,sBAAsB,CAAC,6CACF;EAGrC/Z,YADC,4BAAQ,EAAC+W,KAAK,CAACiD,cAAc,CAAC,qCACf;EAGhBha,YADC,4BAAQ,EAAC+W,KAAK,CAACzG,eAAe,CAAC,sCACf;EAgOrB,YAAC;CAAA,CA/Q0Bva,WAAW;AAAzBJ;AAiRb;EAAoCC;EAApC;;EAgSA;EAvQcqkB,8BAAc,GAAxB;IACI,IAAMC,QAAQ,GAAa,EAAE;IAE7B,IAAI,IAAI,CAACC,UAAU,EAAE;MACjBD,QAAQ,CAACpb,IAAI,CAAC,IAAI,CAACqb,UAAU,CAAC;;IAGlC,IAAI,IAAI,CAACC,qBAAqB,EAAE;MAC5BF,QAAQ,CAACpb,IAAI,CAAC,IAAI,CAACsb,qBAAqB,CAACrd,EAAE,CAAC;;IAGhD,IAAI,IAAI,CAACsd,4BAA4B,EAAE;MACnCH,QAAQ,CAACpb,IAAI,CAAC,IAAI,CAACub,4BAA4B,CAACtd,EAAE,CAAC;;IAGvD,OAAOmd,QAAQ;EACnB,CAAC;EAESD,gDAAgC,GAA1C;IACI,IAAI,IAAI,CAACK,4BAA4B,EAAE;MACnC,IAAMJ,QAAQ,GAAa,IAAI,CAACK,cAAc,EAAE;MAEhD,IAAIL,QAAQ,CAAC3U,MAAM,GAAG,CAAC,EAAE;QACrB,IAAI,CAAC+U,4BAA4B,CAAC5lB,YAAY,CAC1C,iBAAiB,EACjBwlB,QAAQ,CAACM,IAAI,CAAC,GAAG,CAAC,CACrB;OACJ,MAAM;QACH,IAAI,CAACF,4BAA4B,CAACG,eAAe,CAAC,iBAAiB,CAAC;;;EAGhF,CAAC;EAED3kB,sBAAcmkB,6BAAU;SAAxB;MACI,OAAO,IAAI;IACf,CAAC;;;;EAEDnkB,sBAAcmkB,8CAA2B;SAAzC;MACI,OAAO,IAAI,CAACK,4BAA4B;IAC5C,CAAC;;;;EAEDxkB,sBAAcmkB,+CAA4B;SAA1C;MACI,OAAO,IAAI,CAACS,6BAA6B;IAC7C,CAAC;;;;EAEST,sCAAsB,GAAhC;IACI,IAAMpmB,UAAU,GAAG,IAAI,CAACA,UAAU;IAElC,IAAI,CAAC8mB,sBAAsB,GAAGxmB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC3D,IAAI,CAACumB,sBAAsB,CAAC5lB,KAAK,CAAC+C,OAAO,GAAG,MAAM;IAClD,IAAI,CAAC6iB,sBAAsB,CAAC5lB,KAAK,CAAC6lB,aAAa,GAAG,QAAQ;IAE1D,IAAMC,sBAAsB,GAAGhmB,KAAK,CAACimB,gBAAgB,EAAE;IAEvD,IAAI,IAAI,CAAC1H,KAAK,EAAE;MACZ,IAAM2H,kBAAkB,GAAG,IAAI7P,aAAa,EAAE;MAC9C6P,kBAAkB,CAACtP,SAAS,CAAC,IAAI,CAAC;MAClCsP,kBAAkB,CAAChV,YAAY,GAAG8U,sBAAsB;MAExD,IAAMG,WAAW,GAAG,IAAI/Q,OAAO,CAAC,IAAI,CAACmJ,KAAK,CAAC;MAC3C2H,kBAAkB,CAACE,SAAS,CAACD,WAAW,CAAC;MAEzC,IAAI,IAAI,CAACE,UAAU,EAAE;QACjBF,WAAW,CAACG,IAAI,CAACtnB,UAAU,CAACunB,MAAM,CAAChI,KAAK,CAACiI,cAAc,CAAC;QAExD,IAAMC,mBAAmB,GAAG,IAAIrR,OAAO,CACnCpW,UAAU,CAACunB,MAAM,CAAChI,KAAK,CAACiI,cAAc,CAACE,MAAM,CAChD;QACDD,mBAAmB,CAAC3mB,KAAK,GAAGd,UAAU,CAACunB,MAAM,CAAChI,KAAK,CAACiI,cAAc,CAACG,WAAW;QAC9EF,mBAAmB,CAAChX,UAAU,GAAG,IAAI;QAErCyW,kBAAkB,CAACE,SAAS,CAACK,mBAAmB,CAAC;OACpD,MAAM;QACHN,WAAW,CAACG,IAAI,CAACtnB,UAAU,CAACunB,MAAM,CAAChI,KAAK,CAACqI,cAAc,CAAC;;MAG5D,IAAI,CAACrB,qBAAqB,GAAGW,kBAAkB,CAACxO,MAAM,EAAE;MAExD,IAAI,IAAI,CAAC6N,qBAAqB,EAAE;QAC5B,IAAI,CAACA,qBAAqB,CAACrd,EAAE,GAAGlI,KAAK,CAACimB,gBAAgB,EAAE;QACxD,IAAI,CAACV,qBAAqB,CAACrlB,KAAK,CAACE,YAAY,GACzCpB,UAAU,CAACmD,mBAAmB,CAACnD,UAAU,CAACunB,MAAM,CAAChI,KAAK,CAACsI,YAAY,CAAC,GAAG,IAAI;QAE/E,IAAI,CAACf,sBAAsB,CAACvQ,WAAW,CAAC,IAAI,CAACgQ,qBAAqB,CAAC;;;IAI3E,IAAI,CAACM,6BAA6B,GAAGvmB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAClE,IAAI,CAACsmB,6BAA6B,CAACrmB,SAAS,GACxCR,UAAU,CAACS,gBAAgB,CAAC,oBAAoB,CAAC;IACrD,IAAI,CAAComB,6BAA6B,CAAC3lB,KAAK,CAAC+C,OAAO,GAAG,MAAM;IAEzD,IAAI,IAAI,CAAC3C,MAAM,KAAK,SAAS,EAAE;MAC3B,IAAI,CAACulB,6BAA6B,CAAC3lB,KAAK,CAACoa,UAAU,GAAG,SAAS;MAC/D,IAAI,CAACuL,6BAA6B,CAAC3lB,KAAK,CAACU,IAAI,GAAG,UAAU;;IAG9D,IAAI,CAAC6kB,4BAA4B,GAAG,IAAI,CAAC5gB,cAAc,EAAE;IAEzD,IAAI,IAAI,CAAC4gB,4BAA4B,EAAE;MACnC,IAAI,CAACA,4BAA4B,CAACvd,EAAE,GAAG8d,sBAAsB;MAC7D,IAAI,CAACP,4BAA4B,CAACvlB,KAAK,CAAC8a,QAAQ,GAAG,KAAK;MAExD,IAAI,IAAI,CAAC8L,UAAU,IAAI,IAAI,CAACT,UAAU,EAAE;QACpC,IAAI,CAACZ,4BAA4B,CAAC5lB,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC;QACvE,IAAI,CAAC4lB,4BAA4B,CAACrd,SAAS,CAACC,GAAG,CAC3CrJ,UAAU,CAACS,gBAAgB,CAAC,mBAAmB,CAAC,CACnD;;MAGL,IAAI,CAAComB,6BAA6B,CAACtQ,WAAW,CAAC,IAAI,CAACkQ,4BAA4B,CAAC;MACjF,IAAI,CAACK,sBAAsB,CAACvQ,WAAW,CAAC,IAAI,CAACsQ,6BAA6B,CAAC;MAE3E,IAAI,CAACkB,gCAAgC,EAAE;MAEvC,OAAO,IAAI,CAACjB,sBAAsB;;IAGtC,IAAI,CAACkB,eAAe,EAAE;IAEtB,OAAOnmB,SAAS;EACpB,CAAC;EAESukB,4BAAY,GAAtB;IACI,IAAI,CAAC1c,cAAc,EAAE,CAACC,yBAAyB,EAAE;IAEjD,IAAI,IAAI,CAACuQ,OAAO,EAAE,EAAE;MAChB,IAAI,CAAC+N,yBAAyB,EAAE;;IAGpC,IAAI,IAAI,CAACC,cAAc,EAAE;MACrB,IAAI,CAACA,cAAc,CAAC,IAAI,CAAC;;IAG7BC,2BAA2B,CAAC,IAAI,CAAC;EACrC,CAAC;EAES/B,yCAAyB,GAAnC;IACI,IAAI,IAAI,CAACgC,2BAA2B,EAAE;MAClC,IAAI,CAACA,2BAA2B,CAAChf,SAAS,CAACkE,MAAM,CAC7C,IAAI,CAACtN,UAAU,CAACS,gBAAgB,CAAC,4BAA4B,CAAC,CACjE;MAED,IAAI,CAACsnB,gCAAgC,EAAE;MAEvC,IAAI,IAAI,CAACvB,4BAA4B,EAAE;QACnC,IAAI,CAACM,sBAAsB,CAACrC,WAAW,CAAC,IAAI,CAAC+B,4BAA4B,CAAC;QAE1E,IAAI,CAACA,4BAA4B,GAAG3kB,SAAS;;;EAGzD,CAAC;EAESukB,0CAA0B,GAApC;IACI,IACI,IAAI,CAACzgB,eAAe,IACpB,IAAI,CAAC0iB,YAAY,IACjB3lB,uBAAc,CAAC4lB,4BAA4B,EAC7C;MACE,IAAMC,qBAAqB,GAAG,IAAItX,SAAS,EAAE;MAC7CsX,qBAAqB,CAAC3Q,SAAS,CAAC,IAAI,CAAC;MACrC2Q,qBAAqB,CAACrb,IAAI,GAAG,IAAI,CAACmb,YAAY;MAC9CE,qBAAqB,CAACnU,IAAI,GAAG,IAAI;MACjCmU,qBAAqB,CAACjB,IAAI,CAAC,IAAI,CAACtnB,UAAU,CAACunB,MAAM,CAACc,YAAY,CAAC;MAE/D,IAAI,CAAC7B,4BAA4B,GAAG+B,qBAAqB,CAAC7P,MAAM,EAAE;MAElE,IAAI,IAAI,CAAC8N,4BAA4B,EAAE;QACnC,IAAI,CAACA,4BAA4B,CAACtd,EAAE,GAAGlI,KAAK,CAACimB,gBAAgB,EAAE;QAC/D,IAAI,CAACH,sBAAsB,CAACvQ,WAAW,CAAC,IAAI,CAACiQ,4BAA4B,CAAC;QAE1E,IAAI,CAACuB,gCAAgC,EAAE;;;EAGnD,CAAC;EAQD3B,qBAAK,GAAL;IACI,IAAI,IAAI,CAACK,4BAA4B,EAAE;MACnC,IAAI,CAACA,4BAA4B,CAACzC,KAAK,EAAE;;EAEjD,CAAC;EAEDoC,uBAAO,GAAP;IACI,OAAO,IAAI;EACf,CAAC;EAEDA,uBAAO,GAAP;IACI,OAAO,IAAI,CAAC7jB,KAAK,KAAK,IAAI,CAACimB,SAAS;EACxC,CAAC;EAEDpC,+BAAe,GAAf;IACI,IAAI,CAACoC,SAAS,GAAG,IAAI,CAACjmB,KAAK;EAC/B,CAAC;EAED6jB,0CAA0B,GAA1B,UAA2B/f,OAA0B;IACjDM,iBAAM4W,0BAA0B,YAAClX,OAAO,CAAC;IAEzC,IAAI,CAAC,IAAI,CAAC6C,EAAE,EAAE;MACV7C,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAACgO,kBAAkB,EACxClgB,iBAAO,CAACC,MAAM,CAACkgB,sBAAsB,EAAE,CAC1C;;IAGL,IAAI,IAAI,CAACrB,UAAU,EAAE;MACjB,IAAI,CAAC,IAAI,CAAC9H,KAAK,EAAE;QACblZ,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAACkO,6BAA6B,EACnD,qCAAqC,CACxC;;MAGL,IAAI,CAAC,IAAI,CAACN,YAAY,EAAE;QACpBhiB,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAACmO,oCAAoC,EAC1D,8CAA8C,CACjD;;;EAGb,CAAC;EAEDxC,6BAAa,GAAb;IACI,IAAI,CAAC6B,yBAAyB,EAAE;IAEhC,IAAM9gB,MAAM,GAAG,IAAI,CAACkgB,UAAU,GAAG,IAAI,CAACwB,KAAK,EAAE,IAAI,IAAI,CAAC3O,OAAO,EAAE,GAAG,IAAI,CAACA,OAAO,EAAE;IAEhF,IAAI,CAAC/S,MAAM,IAAI,IAAI,CAACihB,2BAA2B,EAAE;MAC7C,IAAI,CAACA,2BAA2B,CAAChf,SAAS,CAACC,GAAG,CAC1C,IAAI,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,4BAA4B,CAAC,CACjE;MAED,IAAI,CAACqoB,0BAA0B,EAAE;;IAGrC,OAAO3hB,MAAM;EACjB,CAAC;EAEDif,4BAAY,GAAZ,UAAapb,cAA8B;IAA9B;MAAAA,qBAA8B;IAAA;IACvC,OAAO,CAAC,IAAI,CAAC;EACjB,CAAC;EAEDob,sBAAM,GAAN;IACI,IAAIjf,MAAM,GAAGR,iBAAM+R,MAAM,WAAE;IAE3B,IAAI,CAACsP,eAAe,EAAE;IAEtB,OAAO7gB,MAAM;EACjB,CAAC;EAIDlF,sBAAImkB,gCAAa;SAAjB;MACI,OAAO,IAAI;IACf,CAAC;;;;EA9RD;EAEgBA,mBAAa,GAAG,IAAIra,8BAAc,CAACA,wBAAQ,CAACiL,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC;EAChEoP,wBAAkB,GAAG,IAAIra,4BAAY,CAACA,wBAAQ,CAACiL,IAAI,EAAE,YAAY,EAAE,KAAK,CAAC;EACzEoP,0BAAoB,GAAG,IAAIra,8BAAc,CAACA,wBAAQ,CAACiL,IAAI,EAAE,cAAc,EAAE,IAAI,CAAC;EAG9F7K,YADC,4BAAQ,EAACia,KAAK,CAACzG,aAAa,CAAC,oCACf;EAGfxT,YADC,4BAAQ,EAACia,KAAK,CAAC2C,kBAAkB,CAAC,yCACf;EAGpB5c,YADC,4BAAQ,EAACia,KAAK,CAAC4C,oBAAoB,CAAC,2CACf;EAkR1B,YAAC;CAAA,CAhSmC9mB,WAAW;AAAzBJ;AAkStB;EAA+BC;EAA/B;IACI;IADJ;IAgCIC,iBAAW,GAAY,KAAK;IAM5BA,WAAK,GAAyBtB,KAAK,CAACuoB,cAAc,CAACC,IAAI;;EA4L3D;EApLI;EAEQC,8BAAU,GAAlB,UAAmBC,KAA6C;IAAhE;IACIA,KAAK,CAACloB,KAAK,CAACU,IAAI,GAAG,UAAU;IAE7BwnB,KAAK,CAACxE,QAAQ,GAAG,IAAI,CAAC7gB,YAAY,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;IAE7C,IAAI,IAAI,CAACslB,WAAW,EAAE;MAClBD,KAAK,CAACC,WAAW,GAAG,IAAI,CAACA,WAAW;MACpCD,KAAK,CAACvoB,YAAY,CAAC,YAAY,EAAE,IAAI,CAACwoB,WAAW,CAAC;;IAGtD,IAAI,IAAI,CAACpP,YAAY,EAAE;MACnBmP,KAAK,CAAC7mB,KAAK,GAAG,IAAI,CAAC0X,YAAY;;IAGnC,IAAI,IAAI,CAACqP,SAAS,IAAI,IAAI,CAACA,SAAS,GAAG,CAAC,EAAE;MACtCF,KAAK,CAACE,SAAS,GAAG,IAAI,CAACA,SAAS;;IAGpCF,KAAK,CAACG,OAAO,GAAG;MACZvnB,KAAI,CAACwnB,YAAY,EAAE;IACvB,CAAC;IACDJ,KAAK,CAACnN,UAAU,GAAG,UAACvJ,CAAgB;MAChC;MACA,IACIA,CAAC,CAAC+W,OAAO,IACT/W,CAAC,CAACwJ,IAAI,KAAK,OAAO,IAClBla,KAAI,CAAC0nB,YAAY,IACjB1nB,KAAI,CAAC0nB,YAAY,CAAC/W,oBAAoB,EAAE,EAC1C;QACE3Q,KAAI,CAAC0nB,YAAY,CAAC5W,OAAO,EAAE;;IAEnC,CAAC;EACL,CAAC;EAESqW,kCAAc,GAAxB;IACI,IAAIhiB,MAA8C;IAElD,IAAI,IAAI,CAACwiB,WAAW,IAAI,IAAI,CAACzoB,KAAK,KAAKR,KAAK,CAACuoB,cAAc,CAACW,QAAQ,EAAE;MAClEziB,MAAM,GAAG7G,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC;MAC3C4G,MAAM,CAAC3G,SAAS,GAAG,IAAI,CAACR,UAAU,CAACS,gBAAgB,CAC/C,UAAU,EACV,cAAc,EACd,cAAc,CACjB;MAED,IAAI,IAAI,CAACa,MAAM,KAAK,SAAS,EAAE;QAC3B6F,MAAM,CAACjG,KAAK,CAACI,MAAM,GAAG,SAAS;;KAEtC,MAAM;MACH6F,MAAM,GAAG7G,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;MACxC4G,MAAM,CAAC3G,SAAS,GAAG,IAAI,CAACR,UAAU,CAACS,gBAAgB,CAAC,UAAU,EAAE,cAAc,CAAC;MAC/E0G,MAAM,CAAC0Y,IAAI,GAAGnf,KAAK,CAACuoB,cAAc,CAAC,IAAI,CAAC/nB,KAAK,CAAC,CAAC2Q,WAAW,EAAE;;IAGhE,IAAI,CAACgY,UAAU,CAAC1iB,MAAM,CAAC;IAEvB,OAAOA,MAAM;EACjB,CAAC;EAESgiB,0CAAsB,GAAhC;IAAA;IACI,IAAMW,oBAAoB,GAAGnjB,iBAAMqC,sBAAsB,WAAE;IAE3D,IAAI,IAAI,CAAC0gB,YAAY,EAAE;MACnB,IAAMK,QAAM,GAAGzpB,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MAC/CwpB,QAAM,CAACvpB,SAAS,GAAG,IAAI,CAACR,UAAU,CAACS,gBAAgB,CAC/C,IAAI,CAACipB,YAAY,CAAC/W,oBAAoB,EAAE,GAClC,uBAAuB,GACvB,gCAAgC,CACzC;MAEDoX,QAAM,CAACtX,OAAO,GAAG,UAACC,CAAC;QACf,IAAI1Q,KAAI,CAAC0nB,YAAY,IAAI1nB,KAAI,CAAC0nB,YAAY,CAAC/W,oBAAoB,EAAE,EAAE;UAC/DD,CAAC,CAACE,cAAc,EAAE;UAClBF,CAAC,CAACG,YAAY,GAAG,IAAI;UAErB7Q,KAAI,CAAC0nB,YAAY,CAAC5W,OAAO,EAAE;;MAEnC,CAAC;MAED,IAAI,IAAI,CAAC4W,YAAY,CAACM,OAAO,EAAE;QAC3BD,QAAM,CAAC3gB,SAAS,CAACC,GAAG,CAAC,UAAU,CAAC;QAEhC,IAAM4gB,MAAI,GAAG3pB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;QAC1C0pB,MAAI,CAAC/oB,KAAK,CAACI,MAAM,GAAG,MAAM;QAC1B2oB,MAAI,CAACppB,YAAY,CAAC,MAAM,EAAE,cAAc,CAAC;QAEzC;QACA;QACA;QACA;QACAopB,MAAI,CAAC/oB,KAAK,CAAC+C,OAAO,GAAG,MAAM;QAC3BgmB,MAAI,CAACxO,MAAM,GAAG;UACVwO,MAAI,CAAC/oB,KAAK,CAACgD,cAAc,CAAC,SAAS,CAAC;QACxC,CAAC;QACD+lB,MAAI,CAACrO,OAAO,GAAG;UACXmO,QAAM,CAACtF,WAAW,CAACwF,MAAI,CAAC;UACxBF,QAAM,CAAC3gB,SAAS,CAACkE,MAAM,CAAC,UAAU,CAAC;UACnCyc,QAAM,CAAC3gB,SAAS,CAACC,GAAG,CAAC,UAAU,CAAC;UAChC0gB,QAAM,CAACG,WAAW,GACdloB,KAAI,CAAC0nB,YAAY,IAAI1nB,KAAI,CAAC0nB,YAAY,CAACjQ,KAAK,GACtCzX,KAAI,CAAC0nB,YAAY,CAACjQ,KAAK,GACvBlR,iBAAO,CAACuY,QAAQ,CAACqJ,iBAAiB,EAAE;QAClD,CAAC;QAEDF,MAAI,CAAC1N,GAAG,GAAG,IAAI,CAACmN,YAAY,CAACM,OAAO;QAEpCD,QAAM,CAACxT,WAAW,CAAC0T,MAAI,CAAC;QACxBF,QAAM,CAACtQ,KAAK,GAAG,IAAI,CAACiQ,YAAY,CAACjQ,KAAK,GAChC,IAAI,CAACiQ,YAAY,CAACjQ,KAAK,GACvBlR,iBAAO,CAACuY,QAAQ,CAACqJ,iBAAiB,EAAE;OAC7C,MAAM;QACHJ,QAAM,CAAC3gB,SAAS,CAACC,GAAG,CAAC,UAAU,CAAC;QAChC0gB,QAAM,CAACG,WAAW,GAAG,IAAI,CAACR,YAAY,CAACjQ,KAAK,GACtC,IAAI,CAACiQ,YAAY,CAACjQ,KAAK,GACvBlR,iBAAO,CAACuY,QAAQ,CAACqJ,iBAAiB,EAAE;;MAG9C,IAAI,CAACT,YAAY,CAAC3W,4BAA4B,CAACgX,QAAM,EAAE,IAAI,CAAC;MAE5DA,QAAM,CAAC7oB,KAAK,CAACyC,UAAU,GAAG,KAAK;MAE/B,IAAI,CAACymB,4BAA4B,CAAC7T,WAAW,CAACwT,QAAM,CAAC;;IAGzD,OAAOD,oBAAoB;EAC/B,CAAC;EAEDX,mCAAe,GAAf;IACI,OAAO,YAAY;EACvB,CAAC;EAEDA,iCAAa,GAAb;IACI,IAAMhiB,MAAM,GAAGR,iBAAMoD,aAAa,WAAE;IAEpC,IAAI,IAAI,CAAC2f,YAAY,EAAE;MACnBviB,MAAM,CAAC8D,IAAI,CAAC,IAAI,CAACye,YAAY,CAAC;;IAGlC,OAAOviB,MAAM;EACjB,CAAC;EAEDgiB,iCAAa,GAAb,UAAcjgB,EAAU;IACpB,IAAI/B,MAAM,GAAGR,iBAAMgW,aAAa,YAACzT,EAAE,CAAC;IAEpC,IAAI,CAAC/B,MAAM,IAAI,IAAI,CAACuiB,YAAY,EAAE;MAC9BviB,MAAM,GAAG,IAAI,CAACuiB,YAAY,CAAC/M,aAAa,CAACzT,EAAE,CAAC;;IAGhD,OAAO/B,MAAM;EACjB,CAAC;EAEDgiB,yBAAK,GAAL;IACI,OAAO,IAAI,CAAC5mB,KAAK,GAAG,IAAI,GAAG,KAAK;EACpC,CAAC;EAED4mB,2BAAO,GAAP;IACI,IAAI,CAAC,IAAI,CAAC5mB,KAAK,EAAE;MACb,OAAO,IAAI;;IAGf,IAAI,IAAI,CAAC8nB,KAAK,EAAE;MACZ,OAAO,IAAIC,MAAM,CAAC,IAAI,CAACD,KAAK,EAAE,GAAG,CAAC,CAACE,IAAI,CAAC,IAAI,CAAChoB,KAAK,CAAC;;IAGvD,OAAO,IAAI;EACf,CAAC;EAEDN,sBAAIknB,4BAAK;SAAT;MACI,IAAI,IAAI,CAACf,2BAA2B,EAAE;QAClC,IAAI,IAAI,CAACuB,WAAW,EAAE;UAClB,OAA6B,IAAI,CAACvB,2BAA4B,CAAC7lB,KAAK;SACvE,MAAM;UACH,OAA0B,IAAI,CAAC6lB,2BAA4B,CAAC7lB,KAAK;;OAExE,MAAM;QACH,OAAOV,SAAS;;IAExB,CAAC;;;;EA9NesnB,uBAAa,GAAG,IAAIpd,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,OAAO,CAAC;EAC1Did,2BAAiB,GAAG,IAAIpd,2BAAW,CAACA,wBAAQ,CAACG,IAAI,EAAE,WAAW,CAAC;EAC/Did,6BAAmB,GAAG,IAAIpd,4BAAY,CAACA,wBAAQ,CAACG,IAAI,EAAE,aAAa,EAAE,KAAK,CAAC;EAC3Eid,6BAAmB,GAAG,IAAIpd,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,aAAa,CAAC;EACtEid,uBAAa,GAAG,IAAIpd,4BAAY,CAC5CA,wBAAQ,CAACG,IAAI,EACb,OAAO,EACPxL,KAAK,CAACuoB,cAAc,EACpBvoB,KAAK,CAACuoB,cAAc,CAACC,IAAI,EACzB,CACI;IAAE3mB,KAAK,EAAE7B,KAAK,CAACuoB,cAAc,CAACC;EAAI,CAAE,EACpC;IAAE3mB,KAAK,EAAE7B,KAAK,CAACuoB,cAAc,CAACuB;EAAG,CAAE,EACnC;IAAEjoB,KAAK,EAAE7B,KAAK,CAACuoB,cAAc,CAACwB;EAAG,CAAE,EACnC;IAAEloB,KAAK,EAAE7B,KAAK,CAACuoB,cAAc,CAACyB;EAAK,CAAE,EACrC;IAAEnoB,KAAK,EAAE7B,KAAK,CAACuoB,cAAc,CAACW,QAAQ;IAAEnd,aAAa,EAAEV,wBAAQ,CAACgK;EAAI,CAAE,CACzE,CACJ;EACeoT,8BAAoB,GAAG,IAAIvc,cAAc,CAACb,wBAAQ,CAACG,IAAI,EAAE,cAAc,EAAE,CACrF,iBAAiB,CACpB,CAAC;EACcid,uBAAa,GAAG,IAAIpd,8BAAc,CAACA,wBAAQ,CAACiL,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC;EAGhF7K,YADC,4BAAQ,EAACgd,SAAS,CAACpQ,aAAa,CAAC,+CACZ;EAGtB5M,YADC,4BAAQ,EAACgd,SAAS,CAACwB,iBAAiB,CAAC,4CACnB;EAGnBxe,YADC,4BAAQ,EAACgd,SAAS,CAACyB,mBAAmB,CAAC,8CACX;EAG7Bze,YADC,4BAAQ,EAACgd,SAAS,CAAC0B,mBAAmB,CAAC,8CACnB;EAGrB1e,YADC,4BAAQ,EAACgd,SAAS,CAAChT,aAAa,CAAC,wCACsB;EAGxDhK,YADC,4BAAQ,EAACgd,SAAS,CAAC2B,oBAAoB,CAAC,+CACnB;EAGtB3e,YADC,4BAAQ,EAACgd,SAAS,CAAC4B,aAAa,CAAC,wCACnB;EAsLnB,gBAAC;CAAA,CAlO8B3E,KAAK;AAAvBtkB;AAoOb;EAAiCC;EAAjC;IACI;IADJ;IAkCIC,aAAO,GAAW,MAAM;IAGxBA,cAAQ,GAAW,OAAO;IAG1BA,UAAI,GAAY,KAAK;;EA6HzB;EArHcgpB,sDAAgC,GAA1C;IACI,IAAI,IAAI,CAACC,qBAAqB,EAAE;MAC5B,IAAIC,cAAc,GAAG,IAAI,CAACxE,cAAc,EAAE,CAACC,IAAI,CAAC,GAAG,CAAC;MAEpD,IAAI,IAAI,CAACwE,0BAA0B,IAAI,IAAI,CAACA,0BAA0B,CAACjiB,EAAE,EAAE;QACvEgiB,cAAc,IAAI,GAAG,GAAG,IAAI,CAACC,0BAA0B,CAACjiB,EAAE;;MAG9D,IAAIgiB,cAAc,EAAE;QAChB,IAAI,CAACD,qBAAqB,CAACpqB,YAAY,CAAC,iBAAiB,EAAEqqB,cAAc,CAAC;OAC7E,MAAM;QACH,IAAI,CAACD,qBAAqB,CAACrE,eAAe,CAAC,iBAAiB,CAAC;;;EAGzE,CAAC;EAESoE,oCAAc,GAAxB;IAAA;IACI,IAAMvrB,OAAO,GAAGa,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC7Cd,OAAO,CAACe,SAAS,GAAG,IAAI,CAACR,UAAU,CAACS,gBAAgB,CAAC,UAAU,EAAE,gBAAgB,CAAC;IAClFhB,OAAO,CAACyB,KAAK,CAACQ,KAAK,GAAG,MAAM;IAC5BjC,OAAO,CAACyB,KAAK,CAAC+C,OAAO,GAAG,MAAM;IAC9BxE,OAAO,CAACyB,KAAK,CAACoa,UAAU,GAAG,QAAQ;IAEnC,IAAI,CAAC2P,qBAAqB,GAAG3qB,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;IAC5D,IAAI,CAAC0qB,qBAAqB,CAAC/hB,EAAE,GAAGlI,KAAK,CAACimB,gBAAgB,EAAE;IACxD,IAAI,CAACgE,qBAAqB,CAACpL,IAAI,GAAG,UAAU;IAC5C,IAAI,CAACoL,qBAAqB,CAAC/pB,KAAK,CAAC+C,OAAO,GAAG,cAAc;IACzD,IAAI,CAACgnB,qBAAqB,CAAC/pB,KAAK,CAACyY,aAAa,GAAG,QAAQ;IACzD,IAAI,CAACsR,qBAAqB,CAAC/pB,KAAK,CAAC8d,MAAM,GAAG,GAAG;IAC7C,IAAI,CAACiM,qBAAqB,CAAC/pB,KAAK,CAACU,IAAI,GAAG,UAAU;IAElD,IAAI,IAAI,CAAC6X,KAAK,EAAE;MACZ,IAAI,CAACwR,qBAAqB,CAACpqB,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC4Y,KAAK,CAAC;;IAGrE,IAAI,IAAI,CAAC4N,UAAU,EAAE;MACjB,IAAI,CAAC4D,qBAAqB,CAACpqB,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC;;IAGpE,IAAI,CAACoqB,qBAAqB,CAACrG,QAAQ,GAAG,IAAI,CAAC7gB,YAAY,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;IAElE,IAAI,IAAI,CAACkW,YAAY,KAAK,IAAI,CAACmR,OAAO,EAAE;MACpC,IAAI,CAACH,qBAAqB,CAACI,OAAO,GAAG,IAAI;;IAG7C,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAACL,qBAAqB,CAACI,OAAO;IAE3D,IAAI,CAACJ,qBAAqB,CAACM,QAAQ,GAAG;MAClCvpB,KAAI,CAACwnB,YAAY,EAAE;IACvB,CAAC;IAEDxoB,KAAK,CAACuV,WAAW,CAAC9W,OAAO,EAAE,IAAI,CAACwrB,qBAAqB,CAAC;IAEtD,IAAI,IAAI,CAACxR,KAAK,IAAI,IAAI,CAAC1V,YAAY,EAAE,EAAE;MACnC,IAAMwb,KAAK,GAAG,IAAItO,SAAS,EAAE;MAC7BsO,KAAK,CAAC3H,SAAS,CAAC,IAAI,CAAC;MACrB2H,KAAK,CAACrN,YAAY,GAAG,IAAI,CAAC+Y,qBAAqB,CAAC/hB,EAAE;MAClDqW,KAAK,CAACvf,UAAU,GAAG,IAAI,CAACA,UAAU;MAClCuf,KAAK,CAACrS,IAAI,GAAG,CAAC,IAAI,CAACuM,KAAK,GAAG,IAAI,CAAC/T,eAAe,EAAE,GAAG,IAAI,CAAC+T,KAAK;MAC9D8F,KAAK,CAACnM,WAAW,GAAG1Q,uBAAc,CAAC8oB,mCAAmC;MACtEjM,KAAK,CAACnL,IAAI,GAAG,IAAI,CAACA,IAAI;MAEtB,IAAI,CAAC+W,0BAA0B,GAAG5L,KAAK,CAAC7G,MAAM,EAAE;MAEhD,IAAI,IAAI,CAACyS,0BAA0B,EAAE;QACjC,IAAI,CAACA,0BAA0B,CAACjiB,EAAE,GAAGlI,KAAK,CAACimB,gBAAgB,EAAE;QAC7D,IAAI,CAACkE,0BAA0B,CAACjqB,KAAK,CAAC+C,OAAO,GAAG,cAAc;QAC9D,IAAI,CAACknB,0BAA0B,CAACjqB,KAAK,CAACU,IAAI,GAAG,UAAU;QACvD,IAAI,CAACupB,0BAA0B,CAACjqB,KAAK,CAACyC,UAAU,GAAG,KAAK;QACxD,IAAI,CAACwnB,0BAA0B,CAACjqB,KAAK,CAACyY,aAAa,GAAG,QAAQ;QAE9D,IAAM8R,aAAa,GAAGnrB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;QACnDkrB,aAAa,CAACvqB,KAAK,CAACQ,KAAK,GAAG,KAAK;QAEjCV,KAAK,CAACuV,WAAW,CAAC9W,OAAO,EAAEgsB,aAAa,CAAC;QACzCzqB,KAAK,CAACuV,WAAW,CAAC9W,OAAO,EAAE,IAAI,CAAC0rB,0BAA0B,CAAC;;;IAInE,OAAO1rB,OAAO;EAClB,CAAC;EAEDwC,sBAAc+oB,mCAAU;SAAxB;MACI,OAAO,KAAK;IAChB,CAAC;;;;EAEDA,qCAAe,GAAf;IACI,OAAO,cAAc;EACzB,CAAC;EAEDA,2BAAK,GAAL;IACI,IAAI,IAAI,CAACC,qBAAqB,EAAE;MAC5B,IAAI,CAACA,qBAAqB,CAACjH,KAAK,EAAE;;EAE1C,CAAC;EAEDgH,2BAAK,GAAL;IACI,IAAI,IAAI,CAAC3D,UAAU,EAAE;MACjB,OAAO,IAAI,CAAC9kB,KAAK,KAAK,IAAI,CAAC6oB,OAAO;;IAGtC,OAAO,IAAI,CAAC7oB,KAAK,GAAG,IAAI,GAAG,KAAK;EACpC,CAAC;EAEDyoB,6BAAO,GAAP;IACI,OAAO,IAAI,CAACC,qBAAqB,GAC3B,IAAI,CAACA,qBAAqB,CAACI,OAAO,KAAK,IAAI,CAACC,iBAAiB,GAC7D,KAAK;EACf,CAAC;EAEDrpB,sBAAI+oB,8BAAK;SAAT;MACI,IAAI,IAAI,CAACC,qBAAqB,EAAE;QAC5B,OAAO,IAAI,CAACA,qBAAqB,CAACI,OAAO,GAAG,IAAI,CAACD,OAAO,GAAG,IAAI,CAACM,QAAQ;OAC3E,MAAM;QACH,OAAO7pB,SAAS;;IAExB,CAAC;;;;EAjKempB,yBAAa,GAAG,IAAIjf,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,OAAO,CAAC;EAC1D8e,yBAAa,GAAG,IAAIjf,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,OAAO,CAAC;EAC1D8e,2BAAe,GAAG,IAAIjf,8BAAc,CAChDA,wBAAQ,CAACG,IAAI,EACb,SAAS,EACT,IAAI,EACJrK,SAAS,EACT,MAAM,EACN,UAACgL,MAA0B;IACvB,OAAO,MAAM;EACjB,CAAC,CACJ;EACeme,4BAAgB,GAAG,IAAIjf,8BAAc,CACjDA,wBAAQ,CAACG,IAAI,EACb,UAAU,EACV,IAAI,EACJrK,SAAS,EACT,OAAO,EACP,UAACgL,MAA0B;IACvB,OAAO,OAAO;EAClB,CAAC,CACJ;EACeme,wBAAY,GAAG,IAAIjf,4BAAY,CAACA,wBAAQ,CAACE,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC;EAG7EE,YADC,4BAAQ,EAAC6e,WAAW,CAACjS,aAAa,CAAC,iDACd;EAGtB5M,YADC,4BAAQ,EAAC6e,WAAW,CAAClS,aAAa,CAAC,0CACrB;EAGf3M,YADC,4BAAQ,EAAC6e,WAAW,CAACW,eAAe,CAAC,4CACb;EAGzBxf,YADC,4BAAQ,EAAC6e,WAAW,CAACY,gBAAgB,CAAC,6CACZ;EAG3Bzf,YADC,4BAAQ,EAAC6e,WAAW,CAAC/U,YAAY,CAAC,yCACb;EA6H1B,kBAAC;CAAA,CArKgCmQ,KAAK;AAAzBtkB;AAuKb;EAA4BC;EAkBxB,gBAAY0X,KAAc,EAAElX,KAAc;IAA1C,YACIoE,iBAAO;IAEP3E,KAAI,CAACyX,KAAK,GAAGA,KAAK;IAClBzX,KAAI,CAACO,KAAK,GAAGA,KAAK;;EACtB;EAXA;EAEUspB,6BAAY,GAAtB;IACI,OAAO,QAAQ;EACnB,CAAC;EAfD;EAEgBA,oBAAa,GAAG,IAAI9f,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,OAAO,CAAC;EAC1D2f,oBAAa,GAAG,IAAI9f,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,OAAO,CAAC;EAG1EC,YADC,4BAAQ,EAAC0f,MAAM,CAAC/S,aAAa,CAAC,qCAChB;EAGf3M,YADC,4BAAQ,EAAC0f,MAAM,CAAC9S,aAAa,CAAC,qCAChB;EAcnB,aAAC;CAAA,CAxB2BhN,kCAAkB;AAAjCjK;AA0Bb;EAAoCC;EAApC;IACI;IADJ;IAsCIC,mBAAa,GAAY,KAAK;IAM9BA,UAAI,GAAY,KAAK;IAGrBA,aAAO,GAAa,EAAE;;EAqY1B;EAvZIC,sBAAI6pB,qCAAS;SAAb;MACI,OAAO,CAAC,IAAI,CAAC5qB,KAAK,IAAI,IAAI,CAACA,KAAK,KAAK,SAAS;IAClD,CAAC;SAED,UAAcqB,KAAc;MACxB,IAAI,CAACrB,KAAK,GAAGqB,KAAK,GAAGV,SAAS,GAAG,UAAU;IAC/C,CAAC;;;;EAkBciqB,oCAAqB,GAApC;IACI,IAAMC,kBAAkB,GAAG,eAAe,GAAGD,cAAc,CAACE,sBAAsB;IAElFF,cAAc,CAACE,sBAAsB,EAAE;IAEvC,OAAOD,kBAAkB;EAC7B,CAAC;EAQD;EACQD,iDAAwB,GAAhC;IACI,IAAI,IAAI,CAACG,cAAc,EAAE;MACrB,IAAMC,OAAO,GAAG,IAAI,CAACD,cAAc,CAACC,OAAO;MAE3C,IAAIA,OAAO,EAAE;QACT,KAAqB,UAAmB,EAAnBjU,UAAK,CAACpD,IAAI,CAACqX,OAAO,CAAC,EAAnBjiB,cAAmB,EAAnBA,IAAmB,EAAE;UAArC,IAAMkiB,MAAM;UACb,IAAIA,MAAM,CAACC,QAAQ,EAAE;YACjBD,MAAM,CAACtrB,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC;WAC9C,MAAM;YACHsrB,MAAM,CAACvF,eAAe,CAAC,cAAc,CAAC;;;;;EAK1D,CAAC;EAEOkF,4CAAmB,GAA3B,UACIO,YAAoB,EACpBxM,IAA0B,EAC1ByM,aAAmC;IAHvC;IAKI,IAAM7sB,OAAO,GAAGa,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC7Cd,OAAO,CAACe,SAAS,GAAG,IAAI,CAACR,UAAU,CAACS,gBAAgB,CAAC,UAAU,EAAE4rB,YAAY,CAAC;IAC9E5sB,OAAO,CAACyB,KAAK,CAACQ,KAAK,GAAG,MAAM;IAE5BjC,OAAO,CAACmlB,QAAQ,GAAG,IAAI,CAAC7gB,YAAY,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;IAE/C,IAAI,CAACwoB,aAAa,GAAG,EAAE;IACvB,IAAI,CAACC,OAAO,GAAG,EAAE;IAEjB,KAAqB,UAAY,EAAZvU,SAAI,CAACwU,OAAO,EAAZxiB,cAAY,EAAZA,IAAY,EAAE;MAA9B,IAAMyiB,MAAM;MACb,IAAMtD,KAAK,GAAG9oB,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;MAC7C6oB,KAAK,CAAClgB,EAAE,GAAGlI,KAAK,CAACimB,gBAAgB,EAAE;MACnCmC,KAAK,CAACvJ,IAAI,GAAGA,IAAI;MACjBuJ,KAAK,CAACloB,KAAK,CAAC8d,MAAM,GAAG,GAAG;MACxBoK,KAAK,CAACloB,KAAK,CAAC+C,OAAO,GAAG,cAAc;MACpCmlB,KAAK,CAACloB,KAAK,CAACyY,aAAa,GAAG,QAAQ;MACpCyP,KAAK,CAACloB,KAAK,CAACU,IAAI,GAAG,UAAU;MAC7BwnB,KAAK,CAAC1c,IAAI,GAAG,IAAI,CAACxD,EAAE,GAAG,IAAI,CAACA,EAAE,GAAG,IAAI,CAACyjB,mBAAmB;MAEzD,IAAI,IAAI,CAACtF,UAAU,EAAE;QACjB+B,KAAK,CAACvoB,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC;;MAG/CuoB,KAAK,CAACxE,QAAQ,GAAG,IAAI,CAAC7gB,YAAY,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;MAE7C,IAAI2oB,MAAM,CAACnqB,KAAK,EAAE;QACd6mB,KAAK,CAAC7mB,KAAK,GAAGmqB,MAAM,CAACnqB,KAAK;;MAG9B,IAAImqB,MAAM,CAACjT,KAAK,EAAE;QACd2P,KAAK,CAACvoB,YAAY,CAAC,YAAY,EAAE6rB,MAAM,CAACjT,KAAK,CAAC;;MAGlD,IAAI6S,aAAa,IAAII,MAAM,CAACnqB,KAAK,EAAE;QAC/B,IAAI+pB,aAAa,CAAC3gB,OAAO,CAAC+gB,MAAM,CAACnqB,KAAK,CAAC,IAAI,CAAC,EAAE;UAC1C6mB,KAAK,CAACiC,OAAO,GAAG,IAAI;;;MAI5BjC,KAAK,CAACmC,QAAQ,GAAG;QACbvpB,KAAI,CAACwnB,YAAY,EAAE;MACvB,CAAC;MAED,IAAI,CAAC+C,aAAa,CAACthB,IAAI,CAACme,KAAK,CAAC;MAE9B,IAAMwD,aAAa,GAAGtsB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MACnDqsB,aAAa,CAAC1rB,KAAK,CAAC+C,OAAO,GAAG,MAAM;MACpC2oB,aAAa,CAAC1rB,KAAK,CAACoa,UAAU,GAAG,QAAQ;MAEzCta,KAAK,CAACuV,WAAW,CAACqW,aAAa,EAAExD,KAAK,CAAC;MAEvC,IAAM7J,KAAK,GAAG,IAAItO,SAAS,EAAE;MAC7BsO,KAAK,CAAC3H,SAAS,CAAC,IAAI,CAAC;MACrB2H,KAAK,CAACrN,YAAY,GAAGkX,KAAK,CAAClgB,EAAE;MAC7BqW,KAAK,CAACvf,UAAU,GAAG,IAAI,CAACA,UAAU;MAClCuf,KAAK,CAACrS,IAAI,GAAGwf,MAAM,CAACjT,KAAK,GAAGiT,MAAM,CAACjT,KAAK,GAAG,SAAS,GAAG,IAAI,CAAC8S,aAAa,CAAC7a,MAAM;MAChF6N,KAAK,CAACnM,WAAW,GAAG1Q,uBAAc,CAAC8oB,mCAAmC;MACtEjM,KAAK,CAACnL,IAAI,GAAG,IAAI,CAACA,IAAI;MAEtB,IAAMjC,YAAY,GAAGoN,KAAK,CAAC7G,MAAM,EAAE;MAEnC,IAAI,CAAC8T,OAAO,CAACvhB,IAAI,CAACkH,YAAY,CAAC;MAE/B,IAAIA,YAAY,EAAE;QACdA,YAAY,CAACjJ,EAAE,GAAGlI,KAAK,CAACimB,gBAAgB,EAAE;QAC1C9U,YAAY,CAACjR,KAAK,CAAC+C,OAAO,GAAG,cAAc;QAC3CkO,YAAY,CAACjR,KAAK,CAACU,IAAI,GAAG,UAAU;QACpCuQ,YAAY,CAACjR,KAAK,CAACyC,UAAU,GAAG,KAAK;QACrCwO,YAAY,CAACjR,KAAK,CAACyY,aAAa,GAAG,QAAQ;QAE3C,IAAM8R,aAAa,GAAGnrB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;QACnDkrB,aAAa,CAACvqB,KAAK,CAACQ,KAAK,GAAG,KAAK;QAEjCV,KAAK,CAACuV,WAAW,CAACqW,aAAa,EAAEnB,aAAa,CAAC;QAC/CzqB,KAAK,CAACuV,WAAW,CAACqW,aAAa,EAAEza,YAAY,CAAC;;MAGlDnR,KAAK,CAACuV,WAAW,CAAC9W,OAAO,EAAEmtB,aAAa,CAAC;;IAG7C,OAAOntB,OAAO;EAClB,CAAC;EAESqsB,yDAAgC,GAA1C;IACI,IACI,CAAC,IAAI,CAACe,aAAa,IAAI,IAAI,CAAC3rB,KAAK,KAAK,UAAU,KAChD,IAAI,CAACqrB,aAAa,IAClB,IAAI,CAACC,OAAO,EACd;MACE,IAAMnG,QAAQ,GAAa,IAAI,CAACK,cAAc,EAAE;MAEhD,KAAK,IAAI/d,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC4jB,aAAa,CAAC7a,MAAM,EAAE/I,CAAC,EAAE,EAAE;QAChD,IAAIuiB,cAAc,GAAG7E,QAAQ,CAACM,IAAI,CAAC,GAAG,CAAC;QACvC,IAAMpH,KAAK,GAAG,IAAI,CAACiN,OAAO,CAAC7jB,CAAC,CAAC;QAE7B,IAAI4W,KAAK,IAAIA,KAAK,CAACrW,EAAE,EAAE;UACnBgiB,cAAc,IAAI,GAAG,GAAG3L,KAAK,CAACrW,EAAE;;QAGpC,IAAIgiB,cAAc,EAAE;UAChB,IAAI,CAACqB,aAAa,CAAC5jB,CAAC,CAAC,CAAC9H,YAAY,CAAC,iBAAiB,EAAEqqB,cAAc,CAAC;SACxE,MAAM;UACH,IAAI,CAACqB,aAAa,CAAC5jB,CAAC,CAAC,CAACie,eAAe,CAAC,iBAAiB,CAAC;;;KAGnE,MAAM;MACHjgB,iBAAMohB,gCAAgC,WAAE;;EAEhD,CAAC;EAES+D,uCAAc,GAAxB;IAAA;IACI,IAAI,CAACa,mBAAmB,GAAGb,cAAc,CAACgB,qBAAqB,EAAE;IAEjE,IAAI,IAAI,CAACD,aAAa,EAAE;MACpB;MACA,OAAO,IAAI,CAACE,mBAAmB,CAC3B,+BAA+B,EAC/B,UAAU,EACV,IAAI,CAAC9S,YAAY,GACX,IAAI,CAACA,YAAY,CAACwG,KAAK,CAAC,IAAI,CAACzgB,UAAU,CAACgtB,4BAA4B,CAAC,GACrEnrB,SAAS,CAClB;KACJ,MAAM;MACH,IAAI,IAAI,CAACX,KAAK,KAAK,UAAU,EAAE;QAC3B;QACA,OAAO,IAAI,CAAC6rB,mBAAmB,CAC3B,4BAA4B,EAC5B,OAAO,EACP,IAAI,CAAC9S,YAAY,GAAG,CAAC,IAAI,CAACA,YAAY,CAAC,GAAGpY,SAAS,CACtD;OACJ,MAAM,IAAI,IAAI,CAACX,KAAK,KAAK,UAAU,EAAE;QAClC;QACA,IAAM+rB,cAAc,GAAG3sB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;QACpD0sB,cAAc,CAAC/rB,KAAK,CAACQ,KAAK,GAAG,MAAM;QAEnC,IAAI,CAACwrB,UAAU,GAAG5sB,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;QACjD,IAAI,CAAC2sB,UAAU,CAAC1sB,SAAS,GAAG,IAAI,CAACR,UAAU,CAACS,gBAAgB,CACxD,UAAU,EACV,qBAAqB,EACrB,4BAA4B,CAC/B;QACD,IAAI,CAACysB,UAAU,CAACrN,IAAI,GAAG,MAAM;QAC7B,IAAI,CAACqN,UAAU,CAAChsB,KAAK,CAACQ,KAAK,GAAG,MAAM;QACpC,IAAI,CAACwrB,UAAU,CAAC3D,OAAO,GAAG;UACtBvnB,KAAI,CAACwnB,YAAY,EAAE;UAEnB,IAAIxnB,KAAI,CAACkrB,UAAU,EAAE;YACjB;YACA;YACA,IAAIlrB,KAAI,CAACO,KAAK,EAAE;cACZP,KAAI,CAACkrB,UAAU,CAACtG,eAAe,CAAC,aAAa,CAAC;cAC9C5kB,KAAI,CAACkrB,UAAU,CAACtG,eAAe,CAAC,YAAY,CAAC;aAChD,MAAM,IAAI5kB,KAAI,CAACqnB,WAAW,EAAE;cACzBrnB,KAAI,CAACkrB,UAAU,CAAC7D,WAAW,GAAGrnB,KAAI,CAACqnB,WAAW;cAC9CrnB,KAAI,CAACkrB,UAAU,CAACrsB,YAAY,CAAC,YAAY,EAAEmB,KAAI,CAACqnB,WAAW,CAAC;;;QAGxE,CAAC;QAED,IAAI,IAAI,CAACpP,YAAY,EAAE;UACnB,IAAI,CAACiT,UAAU,CAAC3qB,KAAK,GAAG,IAAI,CAAC0X,YAAY;;QAG7C,IAAI,IAAI,CAACoP,WAAW,IAAI,CAAC,IAAI,CAAC6D,UAAU,CAAC3qB,KAAK,EAAE;UAC5C,IAAI,CAAC2qB,UAAU,CAAC7D,WAAW,GAAG,IAAI,CAACA,WAAW;UAC9C,IAAI,CAAC6D,UAAU,CAACrsB,YAAY,CAAC,YAAY,EAAE,IAAI,CAACwoB,WAAW,CAAC;;QAGhE,IAAI,CAAC6D,UAAU,CAACtI,QAAQ,GAAG,IAAI,CAAC7gB,YAAY,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;QAEvD,IAAMopB,QAAQ,GAAG7sB,QAAQ,CAACC,aAAa,CAAC,UAAU,CAAC;QACnD4sB,QAAQ,CAACjkB,EAAE,GAAGlI,KAAK,CAACimB,gBAAgB,EAAE;QAEtC,KAAqB,UAAY,EAAZhP,SAAI,CAACwU,OAAO,EAAZxiB,cAAY,EAAZA,IAAY,EAAE;UAA9B,IAAMyiB,MAAM;UACb,IAAMP,MAAM,GAAG7rB,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;UAC/C;UACA;UACA,IAAImsB,MAAM,CAACjT,KAAK,EAAE;YACd0S,MAAM,CAAC5pB,KAAK,GAAGmqB,MAAM,CAACjT,KAAK;YAC3B0S,MAAM,CAACtrB,YAAY,CAAC,YAAY,EAAE6rB,MAAM,CAACjT,KAAK,CAAC;;UAGnD0S,MAAM,CAACvH,QAAQ,GAAG,IAAI,CAAC7gB,YAAY,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;UAE9CopB,QAAQ,CAAC5W,WAAW,CAAC4V,MAAM,CAAC;;QAGhC,IAAI,CAACe,UAAU,CAACrsB,YAAY,CAAC,MAAM,EAAEssB,QAAQ,CAACjkB,EAAE,CAAC;QAEjD+jB,cAAc,CAACG,MAAM,CAAC,IAAI,CAACF,UAAU,EAAEC,QAAQ,CAAC;QAEhD,OAAOF,cAAc;OACxB,MAAM;QACH;QACA,IAAI,CAAChB,cAAc,GAAG3rB,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;QACtD,IAAI,CAAC0rB,cAAc,CAACzrB,SAAS,GAAG,IAAI,CAACR,UAAU,CAACS,gBAAgB,CAC5D,UAAU,EACV,qBAAqB,EACrB,2BAA2B,CAC9B;QACD,IAAI,CAACwrB,cAAc,CAAC/qB,KAAK,CAACQ,KAAK,GAAG,MAAM;QAExC,IAAI,CAACuqB,cAAc,CAACrH,QAAQ,GAAG,IAAI,CAAC7gB,YAAY,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;QAE3D,IAAMspB,iBAAiB,GAAG/sB,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;QAC1D8sB,iBAAiB,CAACjB,QAAQ,GAAG,IAAI;QACjCiB,iBAAiB,CAACC,QAAQ,GAAG,IAAI;QACjCD,iBAAiB,CAACE,MAAM,GAAG,IAAI;QAC/BF,iBAAiB,CAAC9qB,KAAK,GAAG,EAAE;QAE5B,IAAI,IAAI,CAAC8mB,WAAW,EAAE;UAClBgE,iBAAiB,CAACngB,IAAI,GAAG,IAAI,CAACmc,WAAW;;QAG7CroB,KAAK,CAACuV,WAAW,CAAC,IAAI,CAAC0V,cAAc,EAAEoB,iBAAiB,CAAC;QAEzD,KAAqB,UAAY,EAAZzY,SAAI,CAAC6X,OAAO,EAAZnM,cAAY,EAAZA,IAAY,EAAE;UAA9B,IAAMoM,MAAM;UACb,IAAMP,MAAM,GAAG7rB,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;UAC/C4rB,MAAM,CAAC5pB,KAAK,GAAGmqB,MAAM,CAACnqB,KAAM;UAE5B,IAAImqB,MAAM,CAACjT,KAAK,EAAE;YACd0S,MAAM,CAACjf,IAAI,GAAGwf,MAAM,CAACjT,KAAK;YAC1B0S,MAAM,CAACtrB,YAAY,CAAC,YAAY,EAAE6rB,MAAM,CAACjT,KAAK,CAAC;;UAGnD0S,MAAM,CAACvH,QAAQ,GAAG,IAAI,CAAC7gB,YAAY,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;UAE9C,IAAI2oB,MAAM,CAACnqB,KAAK,KAAK,IAAI,CAAC0X,YAAY,EAAE;YACpCkS,MAAM,CAACC,QAAQ,GAAG,IAAI;;UAG1BprB,KAAK,CAACuV,WAAW,CAAC,IAAI,CAAC0V,cAAc,EAAEE,MAAM,CAAC;;QAGlD,IAAI,CAACF,cAAc,CAACV,QAAQ,GAAG;UAC3BvpB,KAAI,CAACwrB,wBAAwB,EAAE;UAC/BxrB,KAAI,CAACwnB,YAAY,EAAE;QACvB,CAAC;QAED,IAAI,CAACgE,wBAAwB,EAAE;QAE/B,OAAO,IAAI,CAACvB,cAAc;;;EAGtC,CAAC;EAEDH,wCAAe,GAAf;IACI,OAAO,iBAAiB;EAC5B,CAAC;EAEDA,8BAAK,GAAL;IACI,IAAI,IAAI,CAACS,aAAa,KAAK,IAAI,CAACM,aAAa,IAAI,IAAI,CAAC3rB,KAAK,KAAK,UAAU,CAAC,EAAE;MACzE,IAAI,IAAI,CAACqrB,aAAa,CAAC7a,MAAM,GAAG,CAAC,EAAE;QAC/B,IAAI,CAAC6a,aAAa,CAAC,CAAC,CAAC,CAACvI,KAAK,EAAE;;KAEpC,MAAM,IAAI,IAAI,CAACkJ,UAAU,EAAE;MACxB,IAAI,CAACA,UAAU,CAAClJ,KAAK,EAAE;KAC1B,MAAM;MACHrd,iBAAMqd,KAAK,WAAE;;EAErB,CAAC;EAED8H,mDAA0B,GAA1B,UAA2BzlB,OAA0B;IACjDM,iBAAM4W,0BAA0B,YAAClX,OAAO,CAAC;IAEzC,IAAI,IAAI,CAAComB,OAAO,CAAC/a,MAAM,KAAK,CAAC,EAAE;MAC3BrL,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAACgT,qBAAqB,EAC3CllB,iBAAO,CAACC,MAAM,CAACklB,iCAAiC,EAAE,CACrD;;IAGL,KAAqB,UAAY,EAAZzV,SAAI,CAACwU,OAAO,EAAZxiB,cAAY,EAAZA,IAAY,EAAE;MAA9B,IAAMyiB,MAAM;MACb,IAAI,CAACA,MAAM,CAACjT,KAAK,IAAI,CAACiT,MAAM,CAACnqB,KAAK,EAAE;QAChC8D,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAACgO,kBAAkB,EACxClgB,iBAAO,CAACC,MAAM,CAACmlB,qCAAqC,EAAE,CACzD;;;EAGb,CAAC;EAED7B,8BAAK,GAAL;IACI,OAAO,IAAI,CAACvpB,KAAK,GAAG,IAAI,GAAG,KAAK;EACpC,CAAC;EAEDupB,gCAAO,GAAP;IACI,IAAI,IAAI,CAACoB,UAAU,EAAE;MACjB,IAAI,IAAI,CAAC3qB,KAAK,KAAK,EAAE,IAAI,IAAI,CAACA,KAAK,KAAK,IAAI,CAAC8mB,WAAW,EAAE;QACtD,OAAO,IAAI;;MAEf,KAAqB,UAAY,EAAZpR,SAAI,CAACwU,OAAO,EAAZxiB,cAAY,EAAZA,IAAY,EAAE;QAA9B,IAAMyiB,MAAM;QACb,IAAI,IAAI,CAACnqB,KAAK,KAAKmqB,MAAM,CAACnqB,KAAK,EAAE;UAC7B,OAAO,IAAI;;;MAInB,OAAO,KAAK;;IAGhB,OAAOoE,iBAAMuT,OAAO,WAAE;EAC1B,CAAC;EAEDjY,sBAAI6pB,iCAAK;SAAT;MACI,IAAI,CAAC,IAAI,CAACe,aAAa,EAAE;QACrB,IAAI,IAAI,CAACZ,cAAc,EAAE;UACrB,OAAO,IAAI,CAACA,cAAc,CAAC2B,aAAa,GAAG,CAAC,GACtC,IAAI,CAAC3B,cAAc,CAAC1pB,KAAK,GACzBV,SAAS;SAClB,MAAM,IAAI,IAAI,CAACqrB,UAAU,EAAE;UACxB,KAAqB,UAAY,EAAZjV,SAAI,CAACwU,OAAO,EAAZxiB,cAAY,EAAZA,IAAY,EAAE;YAA9B,IAAMyiB,MAAM;YACb,IAAIA,MAAM,CAACjT,KAAK,IAAI,IAAI,CAACyT,UAAU,CAAC3qB,KAAK,KAAKmqB,MAAM,CAACjT,KAAK,EAAE;cACxD,OAAOiT,MAAM,CAACnqB,KAAK;;;UAG3B,OAAO,IAAI,CAAC2qB,UAAU,CAAC3qB,KAAK;SAC/B,MAAM,IAAI,IAAI,CAACgqB,aAAa,IAAI,IAAI,CAACA,aAAa,CAAC7a,MAAM,GAAG,CAAC,EAAE;UAC5D,KAA0B,UAAkB,EAAlBkD,SAAI,CAAC2X,aAAa,EAAlBjM,cAAkB,EAAlBA,IAAkB,EAAE;YAAzC,IAAMuN,WAAW;YAClB,IAAIA,WAAW,CAACxC,OAAO,EAAE;cACrB,OAAOwC,WAAW,CAACtrB,KAAK;;;;QAKpC,OAAOV,SAAS;OACnB,MAAM;QACH,IAAI,CAAC,IAAI,CAAC0qB,aAAa,IAAI,IAAI,CAACA,aAAa,CAAC7a,MAAM,KAAK,CAAC,EAAE;UACxD,OAAO7P,SAAS;;QAGpB,IAAIsF,MAAM,GAAW,EAAE;QAEvB,KAA0B,UAAkB,EAAlBkc,SAAI,CAACkJ,aAAa,EAAlBhJ,cAAkB,EAAlBA,IAAkB,EAAE;UAAzC,IAAMsK,WAAW;UAClB,IAAIA,WAAW,CAACxC,OAAO,EAAE;YACrB,IAAIlkB,MAAM,KAAK,EAAE,EAAE;cACfA,MAAM,IAAI,IAAI,CAACnH,UAAU,CAACgtB,4BAA4B;;YAG1D7lB,MAAM,IAAI0mB,WAAW,CAACtrB,KAAK;;;QAInC,OAAO4E,MAAM,GAAGA,MAAM,GAAGtF,SAAS;;IAE1C,CAAC;;;;EAhbeiqB,4BAAa,GAAG,IAAI/f,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,OAAO,CAAC;EAC1D4f,8BAAe,GAAG,IAAI/f,oDAAoC,CACtEA,wBAAQ,CAACG,IAAI,EACb,SAAS,EACT2f,MAAM,CACT;EACeC,4BAAa,GAAG,IAAI/f,gCAAgB,CAChDA,wBAAQ,CAACG,IAAI,EACb,OAAO,EACP,CACI;IAAE3J,KAAK,EAAE;EAAS,CAAE,EACpB;IAAEA,KAAK,EAAE;EAAU,CAAE,EACrB;IAAEA,KAAK,EAAE,UAAU;IAAEkK,aAAa,EAAEV,wBAAQ,CAACgK;EAAI,CAAE,CACtD,EACD,SAAS,CACZ;EACe+V,oCAAqB,GAAG,IAAI/f,4BAAY,CAACA,wBAAQ,CAACG,IAAI,EAAE,eAAe,EAAE,KAAK,CAAC;EAC/E4f,kCAAmB,GAAG,IAAI/f,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,aAAa,CAAC;EACtE4f,2BAAY,GAAG,IAAI/f,4BAAY,CAACA,wBAAQ,CAACE,IAAI,EAAE,MAAM,EAAE,KAAK,CAAC;EA4B7E;EAEe6f,qCAAsB,GAAG,CAAC;EA3BzC3f,YADC,4BAAQ,EAAC2f,cAAc,CAAC/S,aAAa,CAAC,oDACjB;EAGtB5M,YADC,4BAAQ,EAAC2f,cAAc,CAAC3V,aAAa,CAAC,6CACK;EAW5ChK,YADC,4BAAQ,EAAC2f,cAAc,CAACgC,qBAAqB,CAAC,qDAChB;EAG/B3hB,YADC,4BAAQ,EAAC2f,cAAc,CAACjB,mBAAmB,CAAC,mDACxB;EAGrB1e,YADC,4BAAQ,EAAC2f,cAAc,CAAC7V,YAAY,CAAC,4CAChB;EAGtB9J,YADC,4BAAQ,EAAC2f,cAAc,CAACiC,eAAe,CAAC,+CAClB;EAqY3B,qBAAC;CAAA,CApbmC3H,KAAK;AAA5BtkB;AAsbb;EAAiCC;EAAjC;;EA+FA;EAvEcisB,oCAAc,GAAxB;IAAA;IACI,IAAI,CAACC,mBAAmB,GAAG3tB,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;IAC1D,IAAI,CAAC0tB,mBAAmB,CAACptB,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC;IAEvD,IAAI,IAAI,CAACqtB,GAAG,KAAKrsB,SAAS,EAAE;MACxB,IAAI,CAACosB,mBAAmB,CAACptB,YAAY,CAAC,KAAK,EAAE,IAAI,CAACqtB,GAAG,CAACjrB,QAAQ,EAAE,CAAC;;IAGrE,IAAI,IAAI,CAACkrB,GAAG,KAAKtsB,SAAS,EAAE;MACxB,IAAI,CAACosB,mBAAmB,CAACptB,YAAY,CAAC,KAAK,EAAE,IAAI,CAACstB,GAAG,CAAClrB,QAAQ,EAAE,CAAC;;IAGrE,IAAI,CAACgrB,mBAAmB,CAACztB,SAAS,GAAG,IAAI,CAACR,UAAU,CAACS,gBAAgB,CACjE,UAAU,EACV,gBAAgB,CACnB;IACD,IAAI,CAACwtB,mBAAmB,CAAC/sB,KAAK,CAACQ,KAAK,GAAG,MAAM;IAE7C,IAAI,CAACusB,mBAAmB,CAACrJ,QAAQ,GAAG,IAAI,CAAC7gB,YAAY,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;IAEhE,IAAI,IAAI,CAACkW,YAAY,KAAKpY,SAAS,EAAE;MACjC,IAAI,CAACosB,mBAAmB,CAACG,aAAa,GAAG,IAAI,CAACnU,YAAY;;IAG9D,IAAI,IAAI,CAACoP,WAAW,EAAE;MAClB,IAAI,CAAC4E,mBAAmB,CAAC5E,WAAW,GAAG,IAAI,CAACA,WAAW;MACvD,IAAI,CAAC4E,mBAAmB,CAACptB,YAAY,CAAC,YAAY,EAAE,IAAI,CAACwoB,WAAW,CAAC;;IAGzE,IAAI,CAAC4E,mBAAmB,CAAC1E,OAAO,GAAG;MAC/BvnB,KAAI,CAACwnB,YAAY,EAAE;IACvB,CAAC;IAED,OAAO,IAAI,CAACyE,mBAAmB;EACnC,CAAC;EAEDD,qCAAe,GAAf;IACI,OAAO,cAAc;EACzB,CAAC;EAEDA,2BAAK,GAAL;IACI,OAAO,IAAI,CAACzrB,KAAK,KAAKV,SAAS,IAAI,CAAC+Y,KAAK,CAAC,IAAI,CAACrY,KAAK,CAAC;EACzD,CAAC;EAEDyrB,6BAAO,GAAP;IACI,IAAI,IAAI,CAACzrB,KAAK,KAAKV,SAAS,EAAE;MAC1B,OAAO,CAAC,IAAI,CAACwlB,UAAU;;IAG3B,IAAIlgB,MAAM,GAAG,IAAI;IAEjB,IAAI,IAAI,CAAC+mB,GAAG,KAAKrsB,SAAS,EAAE;MACxBsF,MAAM,GAAGA,MAAM,IAAI,IAAI,CAAC5E,KAAK,IAAI,IAAI,CAAC2rB,GAAG;;IAG7C,IAAI,IAAI,CAACC,GAAG,KAAKtsB,SAAS,EAAE;MACxBsF,MAAM,GAAGA,MAAM,IAAI,IAAI,CAAC5E,KAAK,IAAI,IAAI,CAAC4rB,GAAG;;IAG7C,OAAOhnB,MAAM;EACjB,CAAC;EAEDlF,sBAAI+rB,8BAAK;SAAT;MACI,OAAO,IAAI,CAACC,mBAAmB,GAAG,IAAI,CAACA,mBAAmB,CAACG,aAAa,GAAGvsB,SAAS;IACxF,CAAC;SAED,UAAUU,KAAyB;MAC/B,IAAIA,KAAK,IAAI,IAAI,CAAC0rB,mBAAmB,EAAE;QACnC,IAAI,CAACA,mBAAmB,CAAC1rB,KAAK,GAAGA,KAAK,CAACU,QAAQ,EAAE;;IAEzD,CAAC;;;;EA7FD;EAEgB+qB,yBAAa,GAAG,IAAIjiB,2BAAW,CAACA,wBAAQ,CAACG,IAAI,EAAE,OAAO,CAAC;EACvD8hB,+BAAmB,GAAG,IAAIjiB,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,aAAa,CAAC;EACtE8hB,uBAAW,GAAG,IAAIjiB,2BAAW,CAACA,wBAAQ,CAACG,IAAI,EAAE,KAAK,CAAC;EACnD8hB,uBAAW,GAAG,IAAIjiB,2BAAW,CAACA,wBAAQ,CAACG,IAAI,EAAE,KAAK,CAAC;EAGnEC,YADC,4BAAQ,EAAC6hB,WAAW,CAACjV,aAAa,CAAC,iDACd;EAGtB5M,YADC,4BAAQ,EAAC6hB,WAAW,CAACK,WAAW,CAAC,wCACrB;EAGbliB,YADC,4BAAQ,EAAC6hB,WAAW,CAACM,WAAW,CAAC,wCACrB;EAGbniB,YADC,4BAAQ,EAAC6hB,WAAW,CAACnD,mBAAmB,CAAC,gDACrB;EA6EzB,kBAAC;CAAA,CA/FgCzE,KAAK;AAAzBtkB;AAiGb;EAA+BC;EAA/B;;EA+FA;EAvEcwsB,kCAAc,GAAxB;IAAA;IACI,IAAI,CAACC,iBAAiB,GAAGluB,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;IACxD,IAAI,CAACiuB,iBAAiB,CAAC3tB,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC;IAEnD,IAAI,IAAI,CAACqtB,GAAG,EAAE;MACV,IAAI,CAACM,iBAAiB,CAAC3tB,YAAY,CAAC,KAAK,EAAE,IAAI,CAACqtB,GAAG,CAAC;;IAGxD,IAAI,IAAI,CAACC,GAAG,EAAE;MACV,IAAI,CAACK,iBAAiB,CAAC3tB,YAAY,CAAC,KAAK,EAAE,IAAI,CAACstB,GAAG,CAAC;;IAGxD,IAAI,IAAI,CAAC9E,WAAW,EAAE;MAClB,IAAI,CAACmF,iBAAiB,CAACnF,WAAW,GAAG,IAAI,CAACA,WAAW;MACrD,IAAI,CAACmF,iBAAiB,CAAC3tB,YAAY,CAAC,YAAY,EAAE,IAAI,CAACwoB,WAAW,CAAC;;IAGvE,IAAI,CAACmF,iBAAiB,CAAC5J,QAAQ,GAAG,IAAI,CAAC7gB,YAAY,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;IAE9D,IAAI,CAACyqB,iBAAiB,CAAChuB,SAAS,GAAG,IAAI,CAACR,UAAU,CAACS,gBAAgB,CAC/D,UAAU,EACV,cAAc,CACjB;IACD,IAAI,CAAC+tB,iBAAiB,CAACttB,KAAK,CAACQ,KAAK,GAAG,MAAM;IAE3C,IAAI,CAAC8sB,iBAAiB,CAACjF,OAAO,GAAG;MAC7BvnB,KAAI,CAACwnB,YAAY,EAAE;IACvB,CAAC;IAED,IAAI,IAAI,CAACvP,YAAY,EAAE;MACnB,IAAI,CAACuU,iBAAiB,CAACjsB,KAAK,GAAG,IAAI,CAAC0X,YAAY;;IAGpD,OAAO,IAAI,CAACuU,iBAAiB;EACjC,CAAC;EAEDD,mCAAe,GAAf;IACI,OAAO,YAAY;EACvB,CAAC;EAEDA,yBAAK,GAAL;IACI,OAAO,IAAI,CAAChsB,KAAK,GAAG,IAAI,GAAG,KAAK;EACpC,CAAC;EAEDgsB,2BAAO,GAAP;IACI,IAAI,CAAC,IAAI,CAAChsB,KAAK,EAAE;MACb,OAAO,CAAC,IAAI,CAAC8kB,UAAU;;IAG3B,IAAMoH,WAAW,GAAG,IAAIC,IAAI,CAAC,IAAI,CAACnsB,KAAK,CAAC;IAExC,IAAI4E,MAAM,GAAG,IAAI;IAEjB,IAAI,IAAI,CAAC+mB,GAAG,EAAE;MACV,IAAMS,OAAO,GAAG,IAAID,IAAI,CAAC,IAAI,CAACR,GAAG,CAAC;MAElC/mB,MAAM,GAAGA,MAAM,IAAIsnB,WAAW,IAAIE,OAAO;;IAG7C,IAAI,IAAI,CAACR,GAAG,EAAE;MACV,IAAMS,OAAO,GAAG,IAAIF,IAAI,CAAC,IAAI,CAACP,GAAG,CAAC;MAElChnB,MAAM,GAAGA,MAAM,IAAIsnB,WAAW,IAAIG,OAAO;;IAG7C,OAAOznB,MAAM;EACjB,CAAC;EAEDlF,sBAAIssB,4BAAK;SAAT;MACI,OAAO,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,CAACjsB,KAAK,GAAGV,SAAS;IAC5E,CAAC;;;;EA7FD;EAEgB0sB,uBAAa,GAAG,IAAIxiB,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,OAAO,CAAC;EAC1DqiB,6BAAmB,GAAG,IAAIxiB,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,aAAa,CAAC;EACtEqiB,qBAAW,GAAG,IAAIxiB,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,KAAK,CAAC;EACtDqiB,qBAAW,GAAG,IAAIxiB,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,KAAK,CAAC;EAGtEC,YADC,4BAAQ,EAACoiB,SAAS,CAACxV,aAAa,CAAC,+CACZ;EAGtB5M,YADC,4BAAQ,EAACoiB,SAAS,CAACF,WAAW,CAAC,sCACnB;EAGbliB,YADC,4BAAQ,EAACoiB,SAAS,CAACD,WAAW,CAAC,sCACnB;EAGbniB,YADC,4BAAQ,EAACoiB,SAAS,CAAC1D,mBAAmB,CAAC,8CACnB;EA6EzB,gBAAC;CAAA,CA/F8BzE,KAAK;AAAvBtkB;AAiGb;EAAkCC;EAC9B,sBAAqB0K,aAAsB,EAAWC,IAAY;IAAlE,YACI/F,kBACI8F,aAAa,EACbC,IAAI,EACJ,UACIG,MAA0B,EAC1BgiB,IAAwB,EACxBnoB,MAAmB,EACnBL,OAAiC;MAEjC,IAAM9D,KAAK,GAAGmE,MAAM,CAACmoB,IAAI,CAACniB,IAAI,CAAC;MAE/B,IAAI,OAAOnK,KAAK,KAAK,QAAQ,IAAIA,KAAK,IAAI,qBAAqB,CAACgoB,IAAI,CAAChoB,KAAK,CAAC,EAAE;QACzE,OAAOA,KAAK;;MAGhB,OAAOV,SAAS;IACpB,CAAC,EACD,UACIgL,MAA0B,EAC1BgiB,IAAwB,EACxB9hB,MAAmB,EACnBxK,KAAyB,EACzB8D,OAAiC;MAEjCA,OAAO,CAAC2G,cAAc,CAACD,MAAM,EAAE8hB,IAAI,CAACniB,IAAI,EAAEnK,KAAK,CAAC;IACpD,CAAC,CACJ;IA3BgBP,mBAAa,GAAbyK,aAAa;IAAoBzK,UAAI,GAAJ0K,IAAI;;EA4B1D;EACJ,mBAAC;AAAD,CAAC,CA9BiCX,8BAAc;AAAnCjK;AAgCb;EAA+BC;EAA/B;;EAkGA;EAjGmB+sB,iCAAuB,GAAtC,UAAuCC,UAAkB;IACrD,OAAO,IAAIL,IAAI,CAAC,aAAa,GAAGK,UAAU,GAAG,MAAM,CAAC;EACxD,CAAC;EAyBSD,kCAAc,GAAxB;IAAA;IACI,IAAI,CAACE,iBAAiB,GAAG1uB,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;IACxD,IAAI,CAACyuB,iBAAiB,CAACnuB,YAAY,CAAC,MAAM,EAAE,MAAM,CAAC;IAEnD,IAAI,IAAI,CAACqtB,GAAG,EAAE;MACV,IAAI,CAACc,iBAAiB,CAACnuB,YAAY,CAAC,KAAK,EAAE,IAAI,CAACqtB,GAAG,CAAC;;IAGxD,IAAI,IAAI,CAACC,GAAG,EAAE;MACV,IAAI,CAACa,iBAAiB,CAACnuB,YAAY,CAAC,KAAK,EAAE,IAAI,CAACstB,GAAG,CAAC;;IAGxD,IAAI,CAACa,iBAAiB,CAACxuB,SAAS,GAAG,IAAI,CAACR,UAAU,CAACS,gBAAgB,CAC/D,UAAU,EACV,cAAc,CACjB;IACD,IAAI,CAACuuB,iBAAiB,CAAC9tB,KAAK,CAACQ,KAAK,GAAG,MAAM;IAC3C,IAAI,CAACstB,iBAAiB,CAACzF,OAAO,GAAG;MAC7BvnB,KAAI,CAACwnB,YAAY,EAAE;IACvB,CAAC;IAED,IAAI,IAAI,CAACH,WAAW,EAAE;MAClB,IAAI,CAAC2F,iBAAiB,CAAC3F,WAAW,GAAG,IAAI,CAACA,WAAW;MACrD,IAAI,CAAC2F,iBAAiB,CAACnuB,YAAY,CAAC,YAAY,EAAE,IAAI,CAACwoB,WAAW,CAAC;;IAGvE,IAAI,CAAC2F,iBAAiB,CAACpK,QAAQ,GAAG,IAAI,CAAC7gB,YAAY,EAAE,GAAG,CAAC,CAAC,GAAG,CAAC;IAE9D,IAAI,IAAI,CAACkW,YAAY,EAAE;MACnB,IAAI,CAAC+U,iBAAiB,CAACzsB,KAAK,GAAG,IAAI,CAAC0X,YAAY;;IAGpD,OAAO,IAAI,CAAC+U,iBAAiB;EACjC,CAAC;EAEDF,mCAAe,GAAf;IACI,OAAO,YAAY;EACvB,CAAC;EAEDA,yBAAK,GAAL;IACI,OAAO,IAAI,CAACvsB,KAAK,GAAG,IAAI,GAAG,KAAK;EACpC,CAAC;EAEDusB,2BAAO,GAAP;IACI,IAAI,CAAC,IAAI,CAACvsB,KAAK,EAAE;MACb,OAAO,CAAC,IAAI,CAAC8kB,UAAU;;IAG3B,IAAMoH,WAAW,GAAGK,SAAS,CAACG,uBAAuB,CAAC,IAAI,CAAC1sB,KAAK,CAAC;IAEjE,IAAI4E,MAAM,GAAG,IAAI;IAEjB,IAAI,IAAI,CAAC+mB,GAAG,EAAE;MACV,IAAMS,OAAO,GAAGG,SAAS,CAACG,uBAAuB,CAAC,IAAI,CAACf,GAAG,CAAC;MAE3D/mB,MAAM,GAAGA,MAAM,IAAIsnB,WAAW,IAAIE,OAAO;;IAG7C,IAAI,IAAI,CAACR,GAAG,EAAE;MACV,IAAMS,OAAO,GAAGE,SAAS,CAACG,uBAAuB,CAAC,IAAI,CAACd,GAAG,CAAC;MAE3DhnB,MAAM,GAAGA,MAAM,IAAIsnB,WAAW,IAAIG,OAAO;;IAG7C,OAAOznB,MAAM;EACjB,CAAC;EAEDlF,sBAAI6sB,4BAAK;SAAT;MACI,OAAO,IAAI,CAACE,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,CAACzsB,KAAK,GAAGV,SAAS;IAC5E,CAAC;;;;EA5FD;EAEgBitB,uBAAa,GAAG,IAAII,YAAY,CAACnjB,wBAAQ,CAACG,IAAI,EAAE,OAAO,CAAC;EACxD4iB,6BAAmB,GAAG,IAAI/iB,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,aAAa,CAAC;EACtE4iB,qBAAW,GAAG,IAAII,YAAY,CAACnjB,wBAAQ,CAACG,IAAI,EAAE,KAAK,CAAC;EACpD4iB,qBAAW,GAAG,IAAII,YAAY,CAACnjB,wBAAQ,CAACG,IAAI,EAAE,KAAK,CAAC;EAGpEC,YADC,4BAAQ,EAAC2iB,SAAS,CAAC/V,aAAa,CAAC,+CACZ;EAGtB5M,YADC,4BAAQ,EAAC2iB,SAAS,CAACT,WAAW,CAAC,sCACnB;EAGbliB,YADC,4BAAQ,EAAC2iB,SAAS,CAACR,WAAW,CAAC,sCACnB;EAGbniB,YADC,4BAAQ,EAAC2iB,SAAS,CAACjE,mBAAmB,CAAC,8CACnB;EA4EzB,gBAAC;CAAA,CAlG8BzE,KAAK;AAAvBtkB;AA4Gb;EAAqCC;EAArC;IACI;IADJ;IA+BIC,WAAK,GAAWtB,KAAK,CAACyuB,WAAW,CAAC1oB,OAAO;IAGzCzE,UAAI,GAAWtB,KAAK,CAAC0uB,UAAU,CAACC,OAAO;IAyE/BrtB,YAAM;IAENA,kBAAY,GAAY,IAAI;;EAiSxC;EApWI;EAEQstB,oCAAmB,GAA3B;IACI,IAAI,IAAI,CAAC3pB,eAAe,EAAE;MACtB;MACA,IAAM3F,UAAU,GAAG,IAAI,CAACA,UAAU;MAElC,IAAMuvB,YAAY,GAAGjvB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MAClDgvB,YAAY,CAACruB,KAAK,CAACS,QAAQ,GAAG,QAAQ;MACtC4tB,YAAY,CAACruB,KAAK,CAACmT,YAAY,GAAG,UAAU;MAE5C,IACI,EACIrU,UAAU,CAACwvB,OAAO,CAACC,aAAa,KAAK/uB,KAAK,CAACgvB,mBAAmB,CAACC,UAAU,IACzE3vB,UAAU,CAACwvB,OAAO,CAACI,gBAAgB,CACtC,EACH;QACEL,YAAY,CAACruB,KAAK,CAACiU,UAAU,GAAG,QAAQ;;MAG5C,IAAI,IAAI,CAACsE,KAAK,EAAE;QACZ8V,YAAY,CAAC9pB,SAAS,GAAG,IAAI,CAACgU,KAAK;;MAGvC,IAAI,CAAC,IAAI,CAACuQ,OAAO,EAAE;QACf,IAAI,CAACrkB,eAAe,CAACyD,SAAS,CAACC,GAAG,CAAC,QAAQ,CAAC;QAC5C,IAAI,CAAC1D,eAAe,CAAC4Q,WAAW,CAACgZ,YAAY,CAAC;OACjD,MAAM;QACH,IAAMM,WAAW,GAAGvvB,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;QACjDsvB,WAAW,CAACtT,GAAG,GAAG,IAAI,CAACyN,OAAO;QAC9B6F,WAAW,CAAC3uB,KAAK,CAACQ,KAAK,GAAG1B,UAAU,CAACwvB,OAAO,CAACM,QAAQ,GAAG,IAAI;QAC5DD,WAAW,CAAC3uB,KAAK,CAACI,MAAM,GAAGtB,UAAU,CAACwvB,OAAO,CAACM,QAAQ,GAAG,IAAI;QAC7DD,WAAW,CAAC3uB,KAAK,CAACU,IAAI,GAAG,UAAU;QAEnC,IAAI5B,UAAU,CAACwvB,OAAO,CAACC,aAAa,KAAK/uB,KAAK,CAACgvB,mBAAmB,CAACC,UAAU,EAAE;UAC3E,IAAI,CAAChqB,eAAe,CAACyD,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;UAC/C,IAAI,CAAC1D,eAAe,CAACzE,KAAK,CAAC6lB,aAAa,GAAG,QAAQ;UAEnD,IAAI,IAAI,CAACtN,KAAK,EAAE;YACZoW,WAAW,CAAC3uB,KAAK,CAACE,YAAY,GAAG,KAAK;;SAE7C,MAAM;UACH,IAAI,CAACuE,eAAe,CAACyD,SAAS,CAACC,GAAG,CAAC,UAAU,CAAC;UAE9CwmB,WAAW,CAAC3uB,KAAK,CAACoD,SAAS,GAAG,MAAM;UAEpC,IAAI,IAAI,CAACmV,KAAK,EAAE;YACZoW,WAAW,CAAC3uB,KAAK,CAACM,WAAW,GAAG,KAAK;;;QAI7C,IAAI,CAACmE,eAAe,CAAC4Q,WAAW,CAACsZ,WAAW,CAAC;QAC7C,IAAI,CAAClqB,eAAe,CAAC4Q,WAAW,CAACgZ,YAAY,CAAC;;;EAG1D,CAAC;EAEOD,mCAAkB,GAA1B;IACI,IAAI,IAAI,CAAChtB,MAAM,YAAYyI,SAAS,EAAE;MAClC,OAAO,IAAI,CAACzI,MAAM;;IAGtB,OAAO,IAAI,CAACA,MAAM,GAAG,IAAI,CAACA,MAAM,CAACiB,kBAAkB,EAAE,GAAG1B,SAAS;EACrE,CAAC;EAMDytB,6BAAY,GAAZ;IACI,IAAMllB,WAAW,GAAG,IAAI,CAACS,aAAa,EAAE;IAExC,OAAOT,WAAW,YAAYlI,WAAW,IAAIkI,WAAW,CAACrG,YAAY,EAAE;EAC3E,CAAC;EAESurB,iCAAgB,GAA1B;;IACI,IAAI,IAAI,CAAChtB,MAAM,IAAI,IAAI,CAACqD,eAAe,EAAE;MACrC,IAAM3F,UAAU,GAAG,IAAI,CAACsC,MAAM,CAACtC,UAAU;MAEzC,IAAI,CAAC2F,eAAe,CAACnF,SAAS,GAAGR,UAAU,CAACS,gBAAgB,CACxD,IAAI,CAACkS,oBAAoB,EAAE,GAAG,eAAe,GAAG,wBAAwB,CAC3E;MAED,IAAMrP,eAAe,GAAG,IAAI,CAACC,kBAAkB,EAAE;MAEjD,IAAID,eAAe,EAAE;QACjB,IAAMysB,oBAAoB,GAAGzsB,eAAe,CAACuD,iBAAiB,EAAE;QAEhE,IAAIkpB,oBAAoB,EAAE;UACtB,IAAI,CAACpqB,eAAe,CAACyD,SAAS,CAACC,GAAG,CAAC,QAAQ,GAAG0mB,oBAAoB,CAAC;;;MAI3E,IAAI,CAACpqB,eAAe,CAACif,QAAQ,GAAG,CAAC,IAAI,CAAC7gB,YAAY,EAAE,IAAI,IAAI,CAACisB,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC;MAEjF,QAAQ,IAAI,CAACC,MAAM;QACf;UACI;UACA;QAEJ;UACI,IAAI,CAACtqB,eAAe,CAACyD,SAAS,CAACC,GAAG,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,UAAU,CAAC,CAAC;UAC3E;QACJ;UACI,IAAI,CAACkF,eAAe,CAACyD,SAAS,CAACC,GAAG,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,SAAS,CAAC,CAAC;UAC1E;MAAM;MAGd,IAAI,IAAI,CAACS,KAAK,IAAI,IAAI,CAACyR,oBAAoB,EAAE,EAAE;QAC3C,IAAI,IAAI,CAACzR,KAAK,KAAKR,KAAK,CAACyuB,WAAW,CAACe,QAAQ,EAAE;UAC3C,UAAI,CAACvqB,eAAe,CAACyD,SAAS,EAACC,GAAG,WAC3BrJ,UAAU,CAACmwB,iBAAiB,CAAC,SAAS,EAAE,gBAAgB,CAAC;SAEnE,MAAM;UACH,UAAI,CAACxqB,eAAe,CAACyD,SAAS,EAACC,GAAG,WAC3BrJ,UAAU,CAACmwB,iBAAiB,CAAC,QAAQ,GAAG,IAAI,CAACjvB,KAAK,CAAC2Q,WAAW,EAAE,CAAC;;;;EAKxF,CAAC;EAESyd,+CAA8B,GAAxC;IACI,OAAO,IAAIxqB,oBAAoB,EAAE;EACrC,CAAC;EAESwqB,4CAA2B,GAArC;IACI,OAAO,EAAE;EACb,CAAC;EAESA,4CAA2B,GAArC,UAAsCc,OAAsC;IACxE;EAAA,CACH;EAESd,uCAAsB,GAAhC,UAAiCe,gBAA+C;IAC5E,IAAMlpB,MAAM,GAAY,EAAE;IAE1B,IAAIkpB,gBAAgB,EAAE;MAClB,KAAkB,UAA6B,EAA7BpY,WAAM,CAACqY,IAAI,CAACD,gBAAgB,CAAC,EAA7BpmB,cAA6B,EAA7BA,IAA6B,EAAE;QAA5C,IAAMsmB,GAAG;QACV,IAAMnH,KAAK,GAAGiH,gBAAgB,CAACE,GAAG,CAAC;QAEnC,IAAI,CAACnH,KAAK,CAACoH,aAAa,EAAE,EAAE;UACxBrpB,MAAM,CAAC8D,IAAI,CAACme,KAAK,CAAC;;;;IAK9B,OAAOjiB,MAAM;EACjB,CAAC;EAESmoB,gCAAe,GAAzB,UAA0BjpB,OAA6B;IACnD,OAAOA,OAAO,CAACoqB,cAAc,CAAClqB,UAAU,CAAC,IAAI,CAACb,eAAe,EAAE,CAAC,KAAK7D,SAAS;EAClF,CAAC;EAESytB,wCAAuB,GAAjC;IACI,IAAI,IAAI,CAACoB,SAAS,EAAE;MAChB,IAAI,CAACA,SAAS,CAAC,IAAI,CAAC;;IAGxBC,uBAAuB,CAAC,IAAI,CAAC;EACjC,CAAC;EAESrB,qCAAoB,GAA9B;IACI,IAAIsB,UAAU,GAAG,IAAI,CAAC/lB,aAAa,EAAE;IAErC,IAAI+lB,UAAU,YAAY1uB,WAAW,EAAE;MACnC0uB,UAAU,CAACjnB,yBAAyB,EAAE;;EAE9C,CAAC;EAID2lB,wBAAO,GAAP;IACI,OAAO,EAAE;EACb,CAAC;EAEDA,4BAAW,GAAX;IACI,OAAO,QAAQ;EACnB,CAAC;EAEDA,6CAA4B,GAA5B,UAA6B7vB,OAAoB,EAAEoxB,qBAAsC;IAAtC;MAAAA,6BAAsC;IAAA;IACrFpxB,OAAO,CAACmlB,QAAQ,GAAG,IAAI,CAACjS,oBAAoB,EAAE,IAAI,CAAC,IAAI,CAAC5O,YAAY,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;IAE/EtE,OAAO,CAACoB,YAAY,CAAC,MAAM,EAAE,IAAI,CAACiwB,WAAW,EAAE,CAAC;IAEhD,IAAIrxB,OAAO,YAAYsxB,iBAAiB,EAAE;MACtCtxB,OAAO,CAAC6tB,QAAQ,GAAG,CAAC,IAAI,CAAC3a,oBAAoB,EAAE;;IAGnD,IAAI,CAAC,IAAI,CAACA,oBAAoB,EAAE,EAAE;MAC9BlT,OAAO,CAACoB,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC;KAChD,MAAM;MACHpB,OAAO,CAACmnB,eAAe,CAAC,eAAe,CAAC;MACxCnnB,OAAO,CAAC2J,SAAS,CAACC,GAAG,CAAC,IAAI,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,eAAe,CAAC,CAAC;;IAG5E,IAAI,IAAI,CAACgZ,KAAK,EAAE;MACZha,OAAO,CAACoB,YAAY,CAAC,YAAY,EAAE,IAAI,CAAC4Y,KAAK,CAAC;MAC9Cha,OAAO,CAACga,KAAK,GAAG,IAAI,CAACA,KAAK;KAC7B,MAAM;MACHha,OAAO,CAACmnB,eAAe,CAAC,YAAY,CAAC;MACrCnnB,OAAO,CAACmnB,eAAe,CAAC,OAAO,CAAC;;IAGpC,IAAI,IAAI,CAACoK,OAAO,EAAE;MACd,IAAMC,mBAAmB,GAAGJ,qBAAqB,GAC3C,IAAI,CAACpX,KAAK,GACN,kBAAkB,GAClB,YAAY,GAChB,kBAAkB;MAExBha,OAAO,CAACoB,YAAY,CAACowB,mBAAmB,EAAE,IAAI,CAACD,OAAO,CAAC;MACvDvxB,OAAO,CAACga,KAAK,GAAG,IAAI,CAACuX,OAAO;;EAEpC,CAAC;EAED1B,sBAAK,GAAL,UAAM5oB,MAAW,EAAEL,OAA8B;IAC7C,OAAOM,iBAAMC,KAAK,YAACF,MAAM,EAAEL,OAAO,GAAGA,OAAO,GAAG,IAAIvB,oBAAoB,EAAE,CAAC;EAC9E,CAAC;EAEDwqB,uBAAM,GAAN;IAAA;IACI,IAAM4B,aAAa,GAAG5wB,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IACtD2wB,aAAa,CAACrR,IAAI,GAAG,QAAQ;IAC7BqR,aAAa,CAAChwB,KAAK,CAAC+C,OAAO,GAAG,MAAM;IACpCitB,aAAa,CAAChwB,KAAK,CAACoa,UAAU,GAAG,QAAQ;IACzC4V,aAAa,CAAChwB,KAAK,CAACqa,cAAc,GAAG,QAAQ;IAC7C2V,aAAa,CAACze,OAAO,GAAG,UAACC,CAAC;MACtB,IAAI1Q,KAAI,CAAC2Q,oBAAoB,EAAE,EAAE;QAC7BD,CAAC,CAACE,cAAc,EAAE;QAClBF,CAAC,CAACG,YAAY,GAAG,IAAI;QAErB7Q,KAAI,CAAC8Q,OAAO,EAAE;;IAEtB,CAAC;IAED,IAAI,CAAC/P,gBAAgB,GAAGmuB,aAAa;IAErC,IAAI,CAACC,mBAAmB,EAAE;IAC1B,IAAI,CAACC,gBAAgB,EAAE;IACvB,IAAI,CAACre,4BAA4B,CAACme,aAAa,CAAC;EACpD,CAAC;EAED5B,wBAAO,GAAP;IACI,IAAI,IAAI,CAAC+B,iBAAiB,EAAE;MACxB,IAAI,CAACA,iBAAiB,CAACC,cAAc,CAAC,IAAI,CAAC;;IAG/C,IAAI,CAACX,uBAAuB,EAAE;IAC9B,IAAI,CAACY,oBAAoB,EAAE;EAC/B,CAAC;EAEDjC,oCAAmB,GAAnB;IACI,IAAMe,gBAAgB,GAAG,IAAI,CAACmB,mBAAmB,EAAE;IACnD,IAAMC,aAAa,GAAG,IAAI,CAACC,sBAAsB,CAACrB,gBAAgB,CAAC;IAEnE,IAAIoB,aAAa,CAAC/f,MAAM,GAAG,CAAC,EAAE;MAC1B+f,aAAa,CAAC,CAAC,CAAC,CAACzN,KAAK,EAAE;MAExB,OAAO,KAAK;;IAGhB,IAAI,CAAC2N,2BAA2B,CAACtB,gBAAgB,CAAC;IAElD,OAAO,IAAI;EACf,CAAC;EAEDf,uBAAM,GAAN;IACI,IAAI,IAAI,CAAC+B,iBAAiB,EAAE;MACxB,OAAO,IAAI,CAACA,iBAAiB,CAACO,YAAY,CAAC,IAAI,CAAC;;IAGpD,OAAO,KAAK;EAChB,CAAC;EAEDtC,6BAAY,GAAZ,UAAatkB,cAA8B;IAA9B;MAAAA,qBAA8B;IAAA;IACvC,OAAO,EAAE;EACb,CAAC;EAEDskB,8BAAa,GAAb;IACI,OAAO,CAAC,IAAI,CAAC;EACjB,CAAC;EAEDA,uCAAsB,GAAtB;IACI,OAAO,IAAI,CAACtF,OAAO,GAAG,CAAC;MAAE3O,GAAG,EAAE,IAAI,CAAC2O,OAAO;MAAEpN,QAAQ,EAAE;IAAO,CAAE,CAAC,GAAG,EAAE;EACzE,CAAC;EAED0S,8BAAa,GAAb,UAAcpmB,EAAU;IACpB,OAAO,IAAI,CAACA,EAAE,KAAKA,EAAE,GAAG,IAAI,GAAGrH,SAAS;EAC5C,CAAC;EAEDytB,oCAAmB,GAAnB;IACI,OAAO,IAAI,CAACuC,2BAA2B,EAAE;EAC7C,CAAC;EAED;;;;;EAKAvC,+BAAc,GAAd;IACI,OAAO,IAAI,CAACoC,sBAAsB,CAAC,IAAI,CAACF,mBAAmB,EAAE,CAAC;EAClE,CAAC;EAEDlC,mCAAkB,GAAlB;IACI;EAAA,CACH;EAEDA,qCAAoB,GAApB;IACI,OAAO,IAAI,CAACwC,SAAS;EACzB,CAAC;EAED7vB,sBAAIqtB,6BAAS;SAAb;MACI,OAAO,IAAI,CAACpuB,KAAK,KAAKR,KAAK,CAACyuB,WAAW,CAACe,QAAQ;IACpD,CAAC;SAED,UAAc3tB,KAAc;MACxB,IAAIA,KAAK,EAAE;QACP,IAAI,CAACrB,KAAK,GAAGR,KAAK,CAACyuB,WAAW,CAACe,QAAQ;OAC1C,MAAM;QACH,IAAI,IAAI,CAAChvB,KAAK,KAAKR,KAAK,CAACyuB,WAAW,CAACe,QAAQ,EAAE;UAC3C,IAAI,CAAChvB,KAAK,GAAGR,KAAK,CAACyuB,WAAW,CAAC1oB,OAAO;;;IAGlD,CAAC;;;;EAEDxE,sBAAIqtB,8BAAU;SAAd;MACI,OAAO,IAAI,CAAChtB,MAAM,GAAG,IAAI,CAACA,MAAM,CAACtC,UAAU,GAAG0L,+BAAiB;IACnE,CAAC;;;;EAEDzJ,sBAAIqtB,0BAAM;SAAV;MACI,OAAoB,IAAI,CAAC1jB,OAAO;IACpC,CAAC;;;;EAED3J,sBAAIqtB,yBAAK;SAAT;MACI,OAAO,IAAI,CAACW,MAAM;IACtB,CAAC;SAED,UAAU1tB,KAAwB;MAC9B,IAAI,IAAI,CAAC0tB,MAAM,KAAK1tB,KAAK,EAAE;QACvB,IAAI,CAAC0tB,MAAM,GAAG1tB,KAAK;QAEnB,IAAI,CAAC6uB,gBAAgB,EAAE;;IAE/B,CAAC;;;;EAEDnvB,sBAAIqtB,+BAAW;SAAf;MACI,OAAO,IAAI,CAACyC,YAAY;IAC5B,CAAC;SAED,UAAgBxvB,KAAc;MAC1B,IAAI,IAAI,CAACwvB,YAAY,KAAKxvB,KAAK,EAAE;QAC7B,IAAI,CAACwvB,YAAY,GAAGxvB,KAAK;QAEzB,IAAI,CAAC6uB,gBAAgB,EAAE;;IAE/B,CAAC;;;;EA1Ye9B,oBAAa,GAAG,IAAIvjB,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,OAAO,CAAC;EAC1DojB,sBAAe,GAAG,IAAIvjB,8BAAc,CAACA,wBAAQ,CAACC,IAAI,EAAE,SAAS,CAAC;EAC9DsjB,oBAAa,GAAG,IAAIvjB,gCAAgB,CAChDA,wBAAQ,CAACE,IAAI,EACb,OAAO,EACP,CACI;IAAE1J,KAAK,EAAE7B,KAAK,CAACyuB,WAAW,CAAC1oB;EAAO,CAAE,EACpC;IAAElE,KAAK,EAAE7B,KAAK,CAACyuB,WAAW,CAACe;EAAQ,CAAE,EACrC;IAAE3tB,KAAK,EAAE7B,KAAK,CAACyuB,WAAW,CAAC6C;EAAW,CAAE,CAC3C,EACDtxB,KAAK,CAACyuB,WAAW,CAAC1oB,OAAO,CAC5B;EACe6oB,mBAAY,GAAG,IAAIvjB,gCAAgB,CAC/CA,wBAAQ,CAACgK,IAAI,EACb,MAAM,EACN,CAAC;IAAExT,KAAK,EAAE7B,KAAK,CAAC0uB,UAAU,CAACC;EAAO,CAAE,EAAE;IAAE9sB,KAAK,EAAE7B,KAAK,CAAC0uB,UAAU,CAAC6C;EAAS,CAAE,CAAC,EAC5EvxB,KAAK,CAAC0uB,UAAU,CAACC,OAAO,CAC3B;EACeC,sBAAe,GAAG,IAAIvjB,8BAAc,CAACA,wBAAQ,CAACgK,IAAI,EAAE,SAAS,CAAC;EAC9DuZ,wBAAiB,GAAG,IAAIvjB,4BAAY,CAACA,wBAAQ,CAACgK,IAAI,EAAE,WAAW,EAAE,IAAI,CAAC;EAGtF5J,YADC,4BAAQ,EAACmjB,MAAM,CAACxW,aAAa,CAAC,qCAChB;EAGf3M,YADC,4BAAQ,EAACmjB,MAAM,CAAC4C,eAAe,CAAC,uCAChB;EAGjB/lB,YADC,4BAAQ,EAACmjB,MAAM,CAACnZ,aAAa,CAAC,qCACW;EAG1ChK,YADC,4BAAQ,EAACmjB,MAAM,CAAC6C,YAAY,CAAC,oCACU;EAGxChmB,YADC,4BAAQ,EAACmjB,MAAM,CAAC8C,eAAe,CAAC,uCAChB;EAGjBjmB,YADC,4BAAQ,EAACmjB,MAAM,CAAC+C,iBAAiB,CAAC,yCAChB;EAsWvB,aAAC;CAAA,CA9YoC7lB,wBAAU;AAAzB1K;AAgZtB;EAA+CC;EAA/C;IACI;IADJ;IA4CIC,0CAAoC,GAAY,KAAK;IAErD;IAEQA,iBAAW,GAAY,KAAK;IAE5BA,+BAAyB,GAAY,KAAK;;EA0GtD;EAxGcswB,sDAA2B,GAArC;IACI,IAAMnrB,MAAM,GAAsB,EAAE;IAEpC,IAAI,IAAI,CAACorB,gBAAgB,KAAK,MAAM,EAAE;MAClC,IAAIC,OAAO,GAA4B,IAAI,CAAClwB,MAAM;MAClD,IAAIilB,MAAM,GAAY,EAAE;MAExB,OAAOiL,OAAO,EAAE;QACZjL,MAAM,CAACtc,IAAI,OAAXsc,MAAM,EAASiL,OAAO,CAACtU,YAAY,CAAC,KAAK,CAAC;QAE1CsU,OAAO,GAAGA,OAAO,CAAClwB,MAAM;;MAG5B,KAAoB,UAAM,EAANmwB,iBAAM,EAANxoB,oBAAM,EAANA,IAAM,EAAE;QAAvB,IAAMmf,KAAK;QACZ,IAAIA,KAAK,CAAClgB,EAAE,EAAE;UACV/B,MAAM,CAACiiB,KAAK,CAAClgB,EAAE,CAAC,GAAGkgB,KAAK;;;;IAKpC,OAAOjiB,MAAM;EACjB,CAAC;EAESmrB,sDAA2B,GAArC,UAAsC/K,MAAqC;IACvE,IAAI,IAAI,CAACmL,aAAa,EAAE;MACpB,IAAI,CAACC,cAAc,GAAGC,IAAI,CAAChsB,KAAK,CAACgsB,IAAI,CAACC,SAAS,CAAC,IAAI,CAACH,aAAa,CAAC,CAAC;KACvE,MAAM;MACH,IAAI,CAACC,cAAc,GAAG,EAAE;;IAG5B,IAAI,IAAI,CAACA,cAAc,IAAIpL,MAAM,EAAE;MAC/B,KAAkB,UAAmB,EAAnBtP,WAAM,CAACqY,IAAI,CAAC/I,MAAM,CAAC,EAAnBtd,cAAmB,EAAnBA,IAAmB,EAAE;QAAlC,IAAMsmB,GAAG;QACV,IAAMnH,KAAK,GAAG7B,MAAM,CAACgJ,GAAG,CAAC;QAEzB,IAAInH,KAAK,CAAClgB,EAAE,IAAIkgB,KAAK,CAACP,KAAK,EAAE,EAAE;UAC3B,IAAI,CAAC8J,cAAc,CAACvJ,KAAK,CAAClgB,EAAE,CAAC,GACzB,OAAOkgB,KAAK,CAAC7mB,KAAK,KAAK,QAAQ,GAAG6mB,KAAK,CAAC7mB,KAAK,GAAG6mB,KAAK,CAAC7mB,KAAK,CAACU,QAAQ,EAAE;;;;IAKtF,IAAI,CAAC6vB,WAAW,GAAG,IAAI;EAC3B,CAAC;EAESR,+CAAoB,GAA9B;IACI,IAAI5vB,uBAAc,CAACqwB,yCAAyC,EAAE;MAC1D,IAAI,CAACC,+BAA+B,EAAE;;EAE9C,CAAC;EAEDV,0DAA+B,GAA/B;IACI,IAAIjC,gBAAgB,GAAG,IAAI,CAACmB,mBAAmB,EAAE;IAEjD,IAAI,CAACyB,yBAAyB,GAAG,KAAK;IAEtC,IAAI5C,gBAAgB,EAAE;MAClB,KAAkB,UAA6B,EAA7BpY,WAAM,CAACqY,IAAI,CAACD,gBAAgB,CAAC,EAA7BpmB,cAA6B,EAA7BA,IAA6B,EAAE;QAA5C,IAAMsmB,GAAG;QACV,IAAMnH,KAAK,GAAGiH,gBAAgB,CAACE,GAAG,CAAC;QAEnCnH,KAAK,CAACpB,eAAe,EAAE;;;EAGnC,CAAC;EAEDsK,6CAAkB,GAAlB;IACI,IAAI,CAACW,yBAAyB,GAAG,KAAK;IAEtC,IAAI5C,gBAAgB,GAAG,IAAI,CAACmB,mBAAmB,EAAE;IAEjD,IAAInB,gBAAgB,EAAE;MAClB,KAAkB,UAA6B,EAA7BpY,WAAM,CAACqY,IAAI,CAACD,gBAAgB,CAAC,EAA7BpmB,cAA6B,EAA7BA,IAA6B,EAAE;QAA5C,IAAMsmB,GAAG;QACV,IAAMnH,KAAK,GAAGiH,gBAAgB,CAACE,GAAG,CAAC;QAEnC,IAAInH,KAAK,CAAC8J,OAAO,EAAE,EAAE;UACjB,IAAI,CAACD,yBAAyB,GAAG,IAAI;UAErC;;;;IAKZ,IAAI,CAAC7B,gBAAgB,EAAE;IAEvB,IAAI,IAAI,CAACruB,gBAAgB,EAAE;MACvB,IAAI,CAACgQ,4BAA4B,CAAC,IAAI,CAAChQ,gBAAgB,CAAC;;EAEhE,CAAC;EAEDuvB,+CAAoB,GAApB;IACI,IAAInrB,MAAM,GAAGR,iBAAMgM,oBAAoB,WAAE;IAEzC,OAAO,IAAI,CAACwgB,oCAAoC,GAC1ChsB,MAAM,IAAI,IAAI,CAAC8rB,yBAAyB,GACxC9rB,MAAM;EAChB,CAAC;EAEDlF,sBAAIqwB,kCAAI;SAAR;MACI,OAAO,IAAI,CAACQ,WAAW,GAAG,IAAI,CAACH,cAAc,GAAG,IAAI,CAACD,aAAa;IACtE,CAAC;SAED,UAASnwB,KAAyB;MAC9B,IAAI,CAACmwB,aAAa,GAAGnwB,KAAK;MAC1B,IAAI,CAACuwB,WAAW,GAAG,KAAK;IAC5B,CAAC;;;;EAxJeR,6BAAY,GAAG,IAAIvmB,kCAAkB,CAACA,wBAAQ,CAACG,IAAI,EAAE,MAAM,CAAC;EAC5DomB,yCAAwB,GAAG,IAAIvmB,8BAAc,CACzDA,wBAAQ,CAACiL,IAAI,EACb,kBAAkB,EAClB,UACInK,MAA0B,EAC1BgiB,IAAwB,EACxBnoB,MAAmB,EACnBL,OAAiC;IAEjC,IAAM9D,KAAK,GAAGmE,MAAM,CAACmoB,IAAI,CAACniB,IAAI,CAAC;IAE/B,IAAInK,KAAK,KAAKV,SAAS,IAAI,OAAOU,KAAK,KAAK,QAAQ,EAAE;MAClD,OAAOA,KAAK,CAACsP,WAAW,EAAE,KAAK,MAAM,GAAG,MAAM,GAAG,MAAM;;IAG3D,OAAOhQ,SAAS;EACpB,CAAC,EACD,UACIgL,MAA0B,EAC1BgiB,IAAwB,EACxB9hB,MAAmB,EACnBxK,KAAyB,EACzB8D,OAAiC;IAEjCA,OAAO,CAAC2G,cAAc,CAACD,MAAM,EAAE8hB,IAAI,CAACniB,IAAI,EAAEnK,KAAK,CAAC;EACpD,CAAC,CACJ;EACe+vB,6DAA4C,GAAG,IAAIvmB,4BAAY,CAC3EA,wBAAQ,CAAC2T,IAAI,EACb,sCAAsC,EACtC,KAAK,CACR;EAGDvT,YADC,4BAAQ,EAACmmB,gBAAgB,CAACc,YAAY,CAAC,uDACJ;EAGpCjnB,YADC,4BAAQ,EAACmmB,gBAAgB,CAACe,wBAAwB,CAAC,0DACjB;EAGnClnB,YADC,4BAAQ,EAACmmB,gBAAgB,CAACgB,4CAA4C,CAAC,8EAClB;EAgH1D,uBAAC;CAAA,CA5J8ChE,MAAM;AAA/BxtB;AA8JtB;EAAkCC;EAAlC;;EAQA;EAHIwxB,sCAAe,GAAf;IACI,OAAOA,YAAY,CAACC,YAAY;EACpC,CAAC;EAND;EACA;EACgBD,yBAAY,GAAoB,eAAe;EAKnE,mBAAC;CAAA,CARiCjB,gBAAgB;AAArCxwB;AAUb;EAAmCC;EAAnC;;EAiBA;EALI;EAEA0xB,uCAAe,GAAf;IACI,OAAOA,aAAa,CAACD,YAAY;EACrC,CAAC;EAfD;EACA;EACgBC,0BAAY,GAAqB,gBAAgB;EAEjE;EAEgBA,0BAAY,GAAG,IAAI1nB,8BAAc,CAACA,wBAAQ,CAAC2nB,IAAI,EAAE,MAAM,CAAC;EAGxEvnB,YADC,4BAAQ,EAACsnB,aAAa,CAACE,YAAY,CAAC,2CACxB;EAOjB,oBAAC;CAAA,CAjBkCrB,gBAAgB;AAAtCxwB;AAmBb;EAAmCC;EAAnC;;EAqCA;EAvBI6xB,uCAAe,GAAf;IACI,OAAOA,aAAa,CAACJ,YAAY;EACrC,CAAC;EAEDI,mCAAW,GAAX;IACI,OAAO,MAAM;EACjB,CAAC;EAEDA,kDAA0B,GAA1B,UAA2BvtB,OAA0B;IACjDM,iBAAM4W,0BAA0B,YAAClX,OAAO,CAAC;IAEzC,IAAI,CAAC,IAAI,CAACgV,GAAG,EAAE;MACXhV,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAACgO,kBAAkB,EACxClgB,iBAAO,CAACC,MAAM,CAACqrB,iBAAiB,CAAC,KAAK,CAAC,CAC1C;;EAET,CAAC;EAEDD,+BAAO,GAAP;IACI,OAAO,IAAI,CAACvY,GAAG;EACnB,CAAC;EAnCD;EAEgBuY,yBAAW,GAAG,IAAI7nB,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,KAAK,CAAC;EAKtE;EAEA;EACA;EACgB0nB,0BAAY,GAAqB,gBAAgB;EANjEznB,YADC,4BAAQ,EAACynB,aAAa,CAACpX,WAAW,CAAC,0CACvB;EA+BjB,oBAAC;CAAA,CArCkC8S,MAAM;AAA5BxtB;AAuCb;EAA4CC;EAA5C;IACI;IADJ;IA2DIC,oBAAc,GAA2B,EAAE;;EAuE/C;EA/DY8xB,4DAA2B,GAAnC;IACI;IACA,IAAI,IAAI,CAACC,cAAc,EAAE;MACrB,IAAMC,UAAU,GAAG/xB,MAAM,CAACquB,IAAI,CAAC,IAAI,CAACyD,cAAc,CAAC;MAEnD,IAAI,IAAI,CAAChxB,gBAAgB,EAAE;QACvB,IAAIixB,UAAU,CAACtiB,MAAM,GAAG,CAAC,EAAE;UACvB,IAAI,CAAC3O,gBAAgB,CAAClC,YAAY,CAAC,eAAe,EAAEmzB,UAAU,CAACrN,IAAI,CAAC,GAAG,CAAC,CAAC;SAC5E,MAAM;UACH,IAAI,CAAC5jB,gBAAgB,CAAC6jB,eAAe,CAAC,eAAe,CAAC;;;;EAItE,CAAC;EAEDkN,2DAA0B,GAA1B,UAA2BztB,OAA0B;IACjDM,iBAAM4W,0BAA0B,YAAClX,OAAO,CAAC;IAEzC,IAAI,CAAC,IAAI,CAAC0tB,cAAc,EAAE;MACtB1tB,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAACgO,kBAAkB,EACxClgB,iBAAO,CAACC,MAAM,CAACqrB,iBAAiB,CAAC,gBAAgB,CAAC,CACrD;;EAET,CAAC;EAEDC,gDAAe,GAAf;IACI,OAAOA,sBAAsB,CAACN,YAAY;EAC9C,CAAC;EAEDM,uCAAM,GAAN;IACIntB,iBAAM+R,MAAM,WAAE;IAEd,IAAI,CAACub,2BAA2B,EAAE;EACtC,CAAC;EAEDH,wCAAO,GAAP;IACIntB,iBAAMmM,OAAO,WAAE;IACf,IAAI,IAAI,CAACxQ,MAAM,EAAE;MACb,KAAwB,UAAgC,EAAhC2V,WAAM,CAACqY,IAAI,CAAC,IAAI,CAACyD,cAAc,CAAC,EAAhC9pB,cAAgC,EAAhCA,IAAgC,EAAE;QAArD,IAAMiqB,SAAS;QAChB,IAAM1kB,aAAa,GAAG,IAAI,CAAClN,MAAM,CAACoH,cAAc,EAAE,CAAC0U,cAAc,CAAC8V,SAAS,CAAC;QAE5E,IAAI1kB,aAAa,EAAE;UACf,IAAI,OAAO,IAAI,CAACukB,cAAc,CAACG,SAAS,CAAC,KAAK,SAAS,EAAE;YACrD1kB,aAAa,CAAC3M,SAAS,GAAG,IAAI,CAACkxB,cAAc,CAACG,SAAS,CAAC;WAC3D,MAAM;YACH1kB,aAAa,CAAC3M,SAAS,GAAG,CAAC2M,aAAa,CAAC3M,SAAS;;;;;EAKtE,CAAC;EAEDixB,iDAAgB,GAAhB,UAAiBI,SAAiB,EAAErxB,SAA0C;IAA1C;MAAAA,qBAA0C;IAAA;IAC1E,IAAI,CAACkxB,cAAc,CAACG,SAAS,CAAC,GAAGrxB,SAAS;IAC1C,IAAI,CAACoxB,2BAA2B,EAAE;EACtC,CAAC;EAEDH,oDAAmB,GAAnB,UAAoBI,SAAiB;IACjC,OAAO,IAAI,CAACH,cAAc,CAACG,SAAS,CAAC;IACrC,IAAI,CAACD,2BAA2B,EAAE;EACtC,CAAC;EA9HeH,6CAAsB,GAAG,IAAI/nB,8BAAc,CACvDA,wBAAQ,CAACE,IAAI,EACb,gBAAgB,EAChB,UACIY,MAA0B,EAC1BgiB,IAAwB,EACxBnoB,MAAmB,EACnBL,OAAiC;IAEjC,IAAMc,MAAM,GAAgB,EAAE;IAE9B,IAAI4Q,KAAK,CAACC,OAAO,CAACtR,MAAM,CAACmoB,IAAI,CAACniB,IAAI,CAAC,CAAC,EAAE;MAClC,KAAmB,UAAiB,EAAjBuL,WAAM,CAAC4W,IAAI,CAACniB,IAAI,CAAC,EAAjBzC,cAAiB,EAAjBA,IAAiB,EAAE;QAAjC,IAAMuT,IAAI;QACX,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE;UAC1BrW,MAAM,CAACqW,IAAI,CAAC,GAAG3b,SAAS;SAC3B,MAAM,IAAI,OAAO2b,IAAI,KAAK,QAAQ,EAAE;UACjC,IAAM0W,SAAS,GAAG1W,IAAI,CAAC,WAAW,CAAC;UAEnC,IAAI,OAAO0W,SAAS,KAAK,QAAQ,EAAE;YAC/B/sB,MAAM,CAAC+sB,SAAS,CAAC,GAAGlzB,KAAK,CAACmzB,SAAS,CAAC3W,IAAI,CAAC,WAAW,CAAC,CAAC;;;;;IAMtE,OAAOrW,MAAM;EACjB,CAAC,EACD,UACI0F,MAA0B,EAC1BgiB,IAAwB,EACxB9hB,MAAmB,EACnBxK,KAAkB,EAClB8D,OAAiC;IAEjC,IAAM0tB,cAAc,GAAU,EAAE;IAEhC,KAAiB,UAAkB,EAAlB9b,WAAM,CAACqY,IAAI,CAAC/tB,KAAK,CAAC,EAAlB0H,cAAkB,EAAlBA,IAAkB,EAAE;MAAhC,IAAMf,EAAE;MACT,IAAI,OAAO3G,KAAK,CAAC2G,EAAE,CAAC,KAAK,SAAS,EAAE;QAChC6qB,cAAc,CAAC9oB,IAAI,CAAC;UAChBipB,SAAS,EAAEhrB,EAAE;UACbrG,SAAS,EAAEN,KAAK,CAAC2G,EAAE;SACtB,CAAC;OACL,MAAM;QACH6qB,cAAc,CAAC9oB,IAAI,CAAC/B,EAAE,CAAC;;;IAI/B7C,OAAO,CAAC+tB,cAAc,CAACrnB,MAAM,EAAE8hB,IAAI,CAACniB,IAAI,EAAEqnB,cAAc,CAAC;EAC7D,CAAC,EACD,EAAE,EACF,UAAClnB,MAA0B;IACvB,OAAO,EAAE;EACb,CAAC,CACJ;EAKD;EAEA;EACA;EACgBinB,mCAAY,GAA8B,yBAAyB;EANnF3nB,YADC,4BAAQ,EAAC2nB,sBAAsB,CAACO,sBAAsB,CAAC,8DACZ;EAuEhD,6BAAC;CAAA,CAlI2C/E,MAAM;AAArCxtB;AAoIb;EAA6CC;EAqBzC,wCAAqB0K,aAAsB,EAAWC,IAAY;IAAlE,YACI/F,kBAAM8F,aAAa,EAAEC,IAAI,EAAE7K,SAAS,EAAE;MAClC,OAAO,IAAIa,gCAAuB,EAAE;IACxC,CAAC,CAAC;IAHeV,mBAAa,GAAbyK,aAAa;IAAoBzK,UAAI,GAAJ0K,IAAI;;EAI1D;EAxBA4nB,8CAAK,GAAL,UACIznB,MAA0B,EAC1BnG,MAAmB,EACnBL,OAAiC;IAEjC,IAAMc,MAAM,GAAG,IAAIzE,gCAAuB,EAAE;IAC5CyE,MAAM,CAACotB,GAAG,CAACvzB,KAAK,CAACwzB,WAAW,CAAC9tB,MAAM,CAAC,IAAI,CAACgG,IAAI,CAAC,CAAC,CAAC;IAEhD,OAAOvF,MAAM;EACjB,CAAC;EAEDmtB,+CAAM,GAAN,UACIznB,MAA0B,EAC1BE,MAAmB,EACnBxK,KAA8B,EAC9B8D,OAAiC;IAEjCA,OAAO,CAAC2G,cAAc,CAACD,MAAM,EAAE,IAAI,CAACL,IAAI,EAAEnK,KAAK,CAACkyB,WAAW,EAAE,CAAC;EAClE,CAAC;EAOL,qCAAC;AAAD,CAAC,CA1B4C1oB,kCAAkB;AA4B/D;EAAgChK;EAgB5B;EAEA,oBAAY2K,IAAiB,EAAEnK,KAAkB;IAArC;MAAAmK,SAAiB;IAAA;IAAE;MAAAnK,UAAkB;IAAA;IAAjD,YACIoE,iBAAO;IAEP3E,KAAI,CAAC0K,IAAI,GAAGA,IAAI;IAChB1K,KAAI,CAACO,KAAK,GAAGA,KAAK;;EACtB;EAjBUmyB,iCAAY,GAAtB;IACI,OAAO,YAAY;EACvB,CAAC;EAiBDA,wCAAmB,GAAnB,UAAoBnN,MAAe,EAAE8I,gBAAmC;IACpE,IAAI,CAACsE,MAAM,CAACnD,mBAAmB,CAACjK,MAAM,EAAE8I,gBAAgB,CAAC;EAC7D,CAAC;EAEDqE,wCAAmB,GAAnB,UAAoBnN,MAAyB;IACzC,IAAI,CAACoN,MAAM,CAACC,qBAAqB,CAACrN,MAAM,EAAE7kB,qBAAY,CAACmyB,6BAA6B,CAAC;EACzF,CAAC;EAED5yB,sBAAIyyB,6BAAK;SAAT;MACI,OAAO,IAAI,CAACC,MAAM,CAACG,GAAG,EAAE;IAC5B,CAAC;SAED,UAAUC,QAA4B;MAClC,IAAI,CAACJ,MAAM,CAACJ,GAAG,CAACQ,QAAQ,CAAC;IAC7B,CAAC;;;;EAtCD;EAEgBL,uBAAY,GAAG,IAAI3oB,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,MAAM,CAAC;EACxDwoB,wBAAa,GAAG,IAAIJ,8BAA8B,CAACvoB,wBAAQ,CAACG,IAAI,EAAE,OAAO,CAAC;EAO1FC,YADC,4BAAQ,EAACuoB,UAAU,CAACM,YAAY,CAAC,wCACrB;EAGb7oB,YADC,4BAAQ,EAACuoB,UAAU,CAAC3b,aAAa,CAAC,0CACK;EA0B5C,iBAAC;CAAA,CAxC+BhN,kCAAkB;AAArCjK;AA0Cb;EAAgCC;EAAhC;IACI;IADJ;IA8BYC,4BAAsB,GAAY,KAAK;;EA4FnD;EApFcizB,gDAA2B,GAArC;IACI,IAAMC,SAAS,GAAG,IAAI,CAAC5yB,MAAM,GAAG,IAAI,CAACA,MAAM,CAACoH,cAAc,EAAE,CAACwU,YAAY,EAAE,GAAG,EAAE;IAChF,IAAM/W,MAAM,GAAsB,EAAE;IAEpC,IAAI,CAACguB,IAAI,CAAC3D,mBAAmB,CAAC0D,SAAS,EAAE/tB,MAAM,CAAC;IAEhD,KAAqB,UAAY,EAAZ8Q,SAAI,CAACmd,OAAO,EAAZnrB,cAAY,EAAZA,IAAY,EAAE;MAA9B,IAAMorB,MAAM;MACbA,MAAM,CAAC7D,mBAAmB,CAAC0D,SAAS,EAAE/tB,MAAM,CAAC;;IAGjD,IAAI,CAACmuB,KAAK,CAAC9D,mBAAmB,CAAC0D,SAAS,EAAE/tB,MAAM,CAAC;IAEjD,OAAOA,MAAM;EACjB,CAAC;EAES8tB,gDAA2B,GAArC,UAAsC1N,MAAqC;IACvE,IAAIA,MAAM,EAAE;MACR,IAAI,CAAC4N,IAAI,CAACP,qBAAqB,CAACrN,MAAM,EAAE7kB,qBAAY,CAACmyB,6BAA6B,CAAC;MAEnF,IAAIU,WAAW,GAAG7yB,qBAAY,CAAC8yB,eAAe;MAE9C,KAAqB,UAAY,EAAZvd,SAAI,CAACmd,OAAO,EAAZnrB,cAAY,EAAZA,IAAY,EAAE;QAA9B,IAAMorB,MAAM;QACbA,MAAM,CAACI,mBAAmB,CAAClO,MAAM,CAAC;QAElC,IAAI8N,MAAM,CAAC3oB,IAAI,IAAI2oB,MAAM,CAAC3oB,IAAI,CAACmF,WAAW,EAAE,KAAK,cAAc,EAAE;UAC7D0jB,WAAW,GAAGF,MAAM,CAAC9yB,KAAM;;;MAInC,IAAI,CAAC+yB,KAAK,CAACV,qBAAqB,CAACrN,MAAM,EAAEgO,WAAW,CAAC;;EAE7D,CAAC;EAEDN,oCAAe,GAAf;IACI,OAAOA,UAAU,CAACzB,YAAY;EAClC,CAAC;EAEDyB,+CAA0B,GAA1B,UAA2B5uB,OAA0B;IACjDM,iBAAM4W,0BAA0B,YAAClX,OAAO,CAAC;IAEzC,IAAI,CAAC,IAAI,CAACgV,GAAG,EAAE;MACXhV,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAACgO,kBAAkB,EACxClgB,iBAAO,CAACC,MAAM,CAACqrB,iBAAiB,CAAC,KAAK,CAAC,CAC1C;;IAGL,IAAI,IAAI,CAACuB,OAAO,CAAC1jB,MAAM,GAAG,CAAC,EAAE;MACzB,KAAqB,UAAY,EAAZuG,SAAI,CAACmd,OAAO,EAAZnrB,cAAY,EAAZA,IAAY,EAAE;QAA9B,IAAMorB,MAAM;QACb,IAAI,CAACA,MAAM,CAAC3oB,IAAI,EAAE;UACdrG,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAACgO,kBAAkB,EACxClgB,iBAAO,CAACC,MAAM,CAACktB,qCAAqC,EAAE,CACzD;;;;EAIjB,CAAC;EAEDzzB,sBAAIgzB,6CAAqB;SAAzB;MACI,OAAO,IAAI,CAACU,sBAAsB;IACtC,CAAC;SAED,UAA0BpzB,KAAc;MACpC,IAAI,CAACozB,sBAAsB,GAAGpzB,KAAK;IACvC,CAAC;;;;EAEDN,sBAAIgzB,2BAAG;SAAP;MACI,OAAO,IAAI,CAACE,IAAI,CAACL,GAAG,EAAE;IAC1B,CAAC;SAED,UAAQvyB,KAAyB;MAC7B,IAAI,CAAC4yB,IAAI,CAACZ,GAAG,CAAChyB,KAAK,CAAC;IACxB,CAAC;;;;EAEDN,sBAAIgzB,4BAAI;SAAR;MACI,OAAO,IAAI,CAACK,KAAK,CAACR,GAAG,EAAE;IAC3B,CAAC;SAED,UAASvyB,KAAyB;MAC9B,IAAI,CAAC+yB,KAAK,CAACf,GAAG,CAAChyB,KAAK,CAAC;IACzB,CAAC;;;;EAtHe0yB,sBAAW,GAAG,IAAIX,8BAA8B,CAACvoB,wBAAQ,CAACG,IAAI,EAAE,KAAK,CAAC;EACtE+oB,uBAAY,GAAG,IAAIX,8BAA8B,CAACvoB,wBAAQ,CAACG,IAAI,EAAE,MAAM,CAAC;EACxE+oB,yBAAc,GAAG,IAAIlpB,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,QAAQ,CAAC;EAC5D+oB,0BAAe,GAAG,IAAIlpB,oDAAoC,CACtEA,wBAAQ,CAACG,IAAI,EACb,SAAS,EACTwoB,UAAU,CACb;EACeO,wCAA6B,GAAG,IAAIlpB,4BAAY,CAC5DA,wBAAQ,CAACiL,IAAI,EACb,uBAAuB,EACvB,KAAK,CACR;EAiBD;EAEA;EACA;EACgBie,uBAAY,GAAkB,aAAa;EAlB3D9oB,YADC,4BAAQ,EAAC8oB,UAAU,CAACzY,WAAW,CAAC,wCACK;EAGtCrQ,YADC,4BAAQ,EAAC8oB,UAAU,CAACW,YAAY,CAAC,yCACK;EAGvCzpB,YADC,4BAAQ,EAAC8oB,UAAU,CAACY,cAAc,CAAC,0CACpB;EAGhB1pB,YADC,4BAAQ,EAAC8oB,UAAU,CAACa,eAAe,CAAC,2CACf;EAGtB3pB,YADC,4BAAQ,EAAC8oB,UAAU,CAACc,6BAA6B,CAAC,0DACH;EA4FpD,iBAAC;CAAA,CA1H+BzG,MAAM;AAAzBxtB;AA4Hb;EAAoCC;EAApC;IAAA;IAkDaC,UAAI,GAAiB,IAAIg0B,kBAAkB,EAAE;;EAqD1D;EAlGcC,yCAAgB,GAA1B;IACItvB,iBAAMyqB,gBAAgB,WAAE;IAExB,IAAI,IAAI,CAACzrB,eAAe,EAAE;MACtB,IAAMuwB,mBAAmB,GAAG,IAAI,CAAC5zB,MAAM,GAAG,IAAI,CAACA,MAAM,CAACtC,UAAU,GAAG0L,+BAAiB;MAEpF,IAAI,CAAC/F,eAAe,CAACyD,SAAS,CAACC,GAAG,CAAC6sB,mBAAmB,CAACz1B,gBAAgB,CAAC,YAAY,CAAC,CAAC;MACtF,IAAI,CAACkF,eAAe,CAAC9E,YAAY,CAC7B,eAAe,EACf,CAAC,IAAI,CAACs1B,KAAK,uBAAiClzB,QAAQ,EAAE,CACzD;;EAET,CAAC;EAESgzB,sCAAa,GAAvB,UAAwBvvB,MAAW,EAAEL,OAA6B;IAC9DM,iBAAMmR,aAAa,YAACpR,MAAM,EAAEL,OAAO,CAAC;IAEpC,IAAM+vB,QAAQ,GAAG1vB,MAAM,CAAC,MAAM,CAAC;IAE/B,IAAI0vB,QAAQ,EAAE;MACV,IAAI,CAACva,IAAI,CAACjV,KAAK,CAACwvB,QAAQ,EAAE/vB,OAAO,CAAC;KACrC,MAAM;MACHA,OAAO,CAACmU,aAAa,CACjB,IAAI,EACJ9Z,KAAK,CAAC+Z,eAAe,CAACgO,kBAAkB,EACxClgB,iBAAO,CAACC,MAAM,CAAC6tB,oBAAoB,EAAE,CACxC;;EAET,CAAC;EAESJ,uCAAc,GAAxB,UAAyBlpB,MAAmB,EAAE1G,OAA6B;IACvEM,iBAAM2R,cAAc,YAACvL,MAAM,EAAE1G,OAAO,CAAC;IAErC,IAAI,IAAI,CAACwV,IAAI,EAAE;MACXxV,OAAO,CAAC2G,cAAc,CAACD,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC8O,IAAI,CAAC5O,MAAM,CAAC5G,OAAO,CAAC,CAAC;;EAEzE,CAAC;EAES4vB,gDAAuB,GAAjC;IACI,IAAI,IAAI,CAACj2B,UAAU,CAACwvB,OAAO,CAAC8G,QAAQ,CAACC,UAAU,KAAK71B,KAAK,CAAC81B,kBAAkB,CAACC,KAAK,EAAE;MAChF;MACA9vB,iBAAMgqB,uBAAuB,WAAE;;EAEvC,CAAC;EAIDsF,4CAAmB,GAAnB;IACItvB,iBAAMyW,mBAAmB,WAAE;IAE3B,IAAI,CAACvB,IAAI,CAACuB,mBAAmB,EAAE;EACnC,CAAC;EAED6Y,wCAAe,GAAf;IACI,OAAOA,cAAc,CAACzC,YAAY;EACtC,CAAC;EAEDyC,mDAA0B,GAA1B,UAA2B5vB,OAA0B;IACjDM,iBAAM4W,0BAA0B,YAAClX,OAAO,CAAC;IAEzC,IAAI,CAACwV,IAAI,CAAC0B,0BAA0B,CAAClX,OAAO,CAAC;EACjD,CAAC;EAED4vB,kCAAS,GAAT,UAAU1zB,KAAkB;IACxBoE,iBAAMiR,SAAS,YAACrV,KAAK,CAAC;IAEtB,IAAI,CAACsZ,IAAI,CAACjE,SAAS,CAACrV,KAAK,CAAC;EAC9B,CAAC;EAED0zB,qCAAY,GAAZ,UAAajrB,cAA8B;IAA9B;MAAAA,qBAA8B;IAAA;IACvC,OAAO,IAAI,CAAC6Q,IAAI,CAACqC,YAAY,CAAClT,cAAc,CAAC;EACjD,CAAC;EAEDirB,sCAAa,GAAb;IACI,IAAM9uB,MAAM,GAAGR,iBAAMoD,aAAa,WAAE;IAEpC5C,MAAM,CAAC8D,IAAI,OAAX9D,MAAM,EAAS,IAAI,CAAC0U,IAAI,CAAC9R,aAAa,EAAE;IAExC,OAAO5C,MAAM;EACjB,CAAC;EAED8uB,+CAAsB,GAAtB;IACI,IAAI9uB,MAAM,GAAGR,iBAAMwX,sBAAsB,WAAE;IAE3ChX,MAAM,CAAC8D,IAAI,OAAX9D,MAAM,EAAS,IAAI,CAAC0U,IAAI,CAACsC,sBAAsB,EAAE;IAEjD,OAAOhX,MAAM;EACjB,CAAC;EAED8uB,sCAAa,GAAb,UAAc/sB,EAAU;IACpB,IAAI/B,MAAM,GAAGR,iBAAMgW,aAAa,YAACzT,EAAE,CAAC;IAEpC,IAAI,CAAC/B,MAAM,EAAE;MACTA,MAAM,GAAG,IAAI,CAAC0U,IAAI,CAACc,aAAa,CAACzT,EAAE,CAAC;;IAGxC,OAAO/B,MAAM;EACjB,CAAC;EArGD;EACA;EACgB8uB,2BAAY,GAAsB,iBAAiB;EAoGvE,qBAAC;CAAA,CAvGmC3G,MAAM;AAA7BxtB;AAyGb;EAA6BC;EAIzB,wBAAYytB,OAAiB;IAA7B,YACI7oB,iBAAO;IACP3E,KAAI,CAAC00B,QAAQ,GAAGlH,OAAO;IAEvBxtB,KAAI,CAACyX,KAAK,GAAGlR,iBAAO,CAACuY,QAAQ,CAAC6V,kBAAkB,EAAE;;EACtD;EAEAC,mCAAU,GAAV;IACI,OAAO,IAAI,CAACF,QAAQ;EACxB,CAAC;EAEDE,sCAAa,GAAb;IACI,IAAMzvB,MAAM,GAAGR,iBAAMoD,aAAa,WAAE;IAEpC5C,MAAM,CAAC8D,IAAI,OAAX9D,MAAM,EAAS,IAAI,CAACuvB,QAAQ;IAE5B,OAAOvvB,MAAM;EACjB,CAAC;EAEDyvB,wCAAe,GAAf;IACI,OAAOX,cAAc,CAACzC,YAAY;EACtC,CAAC;EAEDoD,gCAAO,GAAP;IAAA;;IACI,IAAMC,sBAAsB,GAAG,CAACC,mCAAmC,CAC/D,IAAI,EACJ,IAAI,CAACnxB,eAAe,CACvB;IAED,IAAIkxB,sBAAsB,IAAI,IAAI,CAAClxB,eAAe,EAAE;MAChD,IAAMoxB,aAAW,GAAG,IAAIC,oBAAS,EAAE;MACnCD,aAAW,CAAC/2B,UAAU,GAAG,IAAI,CAACA,UAAU;8BAE/B2I,CAAC;QACN,IAAMsuB,QAAQ,GAAG,IAAID,mBAAQ,CAACruB,CAAC,CAAC1F,QAAQ,EAAE,EAAE,aAAKyzB,QAAQ,CAAC/tB,CAAC,CAAC,CAAC8Q,KAAK,mCAAI,EAAE,CAAC;QACzEwd,QAAQ,CAACnF,SAAS,GAAGoF,OAAKR,QAAQ,CAAC/tB,CAAC,CAAC,CAACmpB,SAAS;QAC/CmF,QAAQ,CAACE,OAAO,GAAG;UACf,IAAMC,eAAe,GAAGp1B,KAAI,CAAC00B,QAAQ,CAAC/tB,CAAC,CAAC;UAExCouB,aAAW,CAACM,UAAU,CAAC,KAAK,CAAC;UAE7B,IAAID,eAAe,CAACtF,SAAS,EAAE;YAC3BsF,eAAe,CAACtkB,OAAO,EAAE;;QAEjC,CAAC;QAEDikB,aAAW,CAACO,KAAK,CAACjuB,GAAG,CAAC4tB,QAAQ,CAAC;;;MAbnC,KAAK,IAAItuB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC+tB,QAAQ,CAAChlB,MAAM,EAAE/I,CAAC,EAAE;gBAApCA,CAAC;;MAgBVouB,aAAW,CAACQ,KAAK,CAAC,IAAI,CAAC5xB,eAAe,CAAC;;EAE/C,CAAC;EAtDeixB,2BAAY,GAAsB,iBAAiB;EAuDvE,qBAAC;CAAA,CAxD4BtH,MAAM;AA0DnC;EAiJI,0BAAYtP,KAAkB;IAJtB,WAAM,GAAa,EAAE;IAErB,qBAAgB,GAAa,EAAE;IAGnC,IAAI,CAACwX,MAAM,GAAGxX,KAAK;EACvB;EA7IQyX,0CAAe,GAAvB,UAAwB/uB,MAAc;IAClC,IAAMgvB,cAAc,GAAG,IAAI,CAACF,MAAM,CAACG,uBAAuB,EAAE;IAE5D,IAAID,cAAc,EAAE;MAChB,KAA4B,UAAc,EAAdE,iCAAc,EAAd3tB,4BAAc,EAAdA,IAAc,EAAE;QAAvC,IAAM4tB,aAAa;QACpB,IAAInvB,MAAM,CAACovB,WAAW,KAAKD,aAAa,EAAE;UACtC,OAAO,KAAK;;;;IAKxB,OAAO,IAAI;EACf,CAAC;EAEOJ,2CAAgB,GAAxB;IACIj4B,YAAY,CAAC,IAAI,CAACu4B,oBAAoB,CAAC;IAEvC,IAAI,CAAC,IAAI,CAACC,WAAW,EAAE;MACnB,IAAI,CAACD,oBAAoB,CAAC72B,KAAK,CAACiT,SAAS,GAAG,KAAK;MAEjD;;IAGJ,IAAI,CAAC4jB,oBAAoB,CAAC72B,KAAK,CAACiT,SAAS,GACrC,IAAI,CAAC8jB,mBAAmB,GAAG,CAAC,GACtB,IAAI,CAACT,MAAM,CAACx3B,UAAU,CAACwvB,OAAO,CAAC8G,QAAQ,CAAC4B,eAAe,GAAG,IAAI,GAC9D,KAAK;IAEf,IAAM5yB,OAAO,GAAG,IAAI,CAACkyB,MAAM,CAACh0B,mBAAmB,EAAE;IAEjD,IAAI,CAACg0B,MAAM,CAACxxB,8BAA8B,CAACV,OAAO,CAAC;IAEnD,IAAMW,eAAe,GACjB,IAAI,CAACuxB,MAAM,CAACx3B,UAAU,CAAC0D,oCAAoC,CAAC4B,OAAO,CAAC;IAExE,IAAI,IAAI,CAAC0yB,WAAW,EAAE;MAClB,IAAI,CAACA,WAAW,CAAC92B,KAAK,CAACK,WAAW,GAAG0E,eAAe,CAACrC,IAAI,GAAG,IAAI;MAChE,IAAI,CAACo0B,WAAW,CAAC92B,KAAK,CAACgc,YAAY,GAAGjX,eAAe,CAACpC,KAAK,GAAG,IAAI;MAElE,IAAI,CAACm0B,WAAW,CAAC92B,KAAK,CAACyC,UAAU,GAAG,GAAG,GAAGsC,eAAe,CAACrC,IAAI,GAAG,IAAI;MACrE,IAAI,CAACo0B,WAAW,CAAC92B,KAAK,CAACM,WAAW,GAAG,GAAG,GAAGyE,eAAe,CAACpC,KAAK,GAAG,IAAI;MAEvE,IAAIoC,eAAe,CAACmC,MAAM,KAAK,CAAC,IAAI,CAAC,IAAI,CAACovB,MAAM,CAACzzB,YAAY,EAAE,EAAE;QAC7D,IAAI,CAACi0B,WAAW,CAAC92B,KAAK,CAACic,aAAa,GAAGlX,eAAe,CAACmC,MAAM,GAAG,IAAI;QACpE,IAAI,CAAC4vB,WAAW,CAAC92B,KAAK,CAACE,YAAY,GAAG,GAAG,GAAG6E,eAAe,CAACmC,MAAM,GAAG,IAAI;;MAG7EpH,KAAK,CAACuV,WAAW,CAAC,IAAI,CAACwhB,oBAAoB,EAAE,IAAI,CAACC,WAAW,CAAC;;EAEtE,CAAC;EAEOP,wCAAa,GAArB;IACI,IAAI,CAACD,MAAM,CAAC9tB,cAAc,EAAE,CAACF,YAAY,EAAE;EAC/C,CAAC;EAEOiuB,yCAAc,GAAtB,UACI/uB,MAAsB,EACtByvB,aAA8B,EAC9BC,UAA0B;IAD1B;MAAAD,qBAA8B;IAAA;IAC9B;MAAAC,iBAA0B;IAAA;IAEL1vB,MAAM,CAACmT,IAAK,CAACsc,aAAa,GAAGA,aAAa;IAE/D;IACA,IAAME,YAAY,GACd3vB,MAAM,CAACmT,IAAI,CAAClW,eAAe,IAAI,CAAC,IAAI,CAAC6xB,MAAM,CAACzzB,YAAY,EAAE,GACpD2E,MAAM,CAACmT,IAAI,CAAClW,eAAe,GAC3B+C,MAAM,CAACmT,IAAI,CAACnD,MAAM,EAAE;IAE9B,IAAI,CAACsf,WAAW,GAAGK,YAAY;IAC/B,IAAI,CAACC,eAAe,GAAG5vB,MAAM;IAE7B,IAAI,CAAC6vB,gBAAgB,EAAE;IAEvB,IAAIH,UAAU,EAAE;MACZ,IAAI,CAACI,aAAa,EAAE;MAEpBC,4BAA4B,CAAC/vB,MAAM,EAAE,IAAI,CAAC;;EAElD,CAAC;EAEO+uB,iDAAsB,GAA9B;IACI,KAAqB,UAAqB,EAArBxf,SAAI,CAACygB,gBAAgB,EAArBzuB,cAAqB,EAArBA,IAAqB,EAAE;MAAvC,IAAMvB,MAAM;MACbA,MAAM,CAACytB,KAAK;;;IAGhB,IAAMwC,wBAAwB,GAAG,IAAI,CAACL,eAAe;IAErD,IAAI,CAACA,eAAe,GAAGz2B,SAAS;IAChC,IAAI,CAACm2B,WAAW,GAAGn2B,SAAS;IAE5B,IAAI,CAAC02B,gBAAgB,EAAE;IAEvB,IAAII,wBAAwB,EAAE;MAC1B,IAAI,CAACH,aAAa,EAAE;MAEpBC,4BAA4B,CAACE,wBAAwB,EAAE,KAAK,CAAC;;EAErE,CAAC;EAEOlB,+CAAoB,GAA5B,UAA6B/uB,MAAsB,EAAE0vB,UAAmB;IAAxE;IACI,IAAIQ,mBAAmB,GAAG,KAAK;IAE/B,KAA6B,UAAqB,EAArB3gB,SAAI,CAACygB,gBAAgB,EAArBzuB,cAAqB,EAArBA,IAAqB,EAAE;MAA/C,IAAM4uB,cAAc;MACrB;MACA,IACI,IAAI,CAACrB,MAAM,CAACx3B,UAAU,CAACwvB,OAAO,CAACsJ,kBAAkB,IAAIp4B,KAAK,CAACC,WAAW,CAACC,UAAU,IACjFg4B,mBAAmB,EACrB;QACEC,cAAc,CAAC7I,WAAW,GAAG,KAAK;;MAGtC,IAAI6I,cAAc,KAAKnwB,MAAM,EAAE;QAC3BmwB,cAAc,CAAC1C,KAAK;OACvB,MAAM;QACH0C,cAAc,CAAC1C,KAAK;QAEpByC,mBAAmB,GAAG,IAAI;QAE1B,IAAIC,cAAc,CAAClzB,eAAe,EAAE;UAChCkzB,cAAc,CAAClzB,eAAe,CAACozB,MAAM,GAAG,UAACrd,EAAE;YACvC,KAAiB,UAAqB,EAArBzD,UAAI,CAACygB,gBAAgB,EAArBzuB,cAAqB,EAArBA,IAAqB,EAAE;cAAnC,IAAM+uB,EAAE;cACTA,EAAE,CAAChJ,WAAW,GAAG,IAAI;;UAE7B,CAAC;;;;IAKb,IAAI,CAACiJ,cAAc,CACfvwB,MAAM,EACN,EAAE,IAAI,CAAC8uB,MAAM,CAAChtB,eAAe,EAAE,IAAI,IAAI,CAACgtB,MAAM,CAAC/sB,gBAAgB,EAAE,CAAC,EAClE2tB,UAAU,CACb;EACL,CAAC;EAUDX,8CAAmB,GAAnB;IACI,KAAmB,UAAqB,EAArBxf,SAAI,CAACygB,gBAAgB,EAArBzuB,cAAqB,EAArBA,IAAqB,EAAE;MAArC,IAAIvB,MAAM;MACXA,MAAM,CAAC0U,mBAAmB,EAAE;;EAEpC,CAAC;EAEDqa,yCAAc,GAAd,UAAe/uB,MAAc;IACzB,IAAI,EAAEA,MAAM,YAAYutB,cAAc,CAAC,EAAE;MACrC,IAAI,CAACiD,sBAAsB,EAAE;KAChC,MAAM;MACH,IAAIxwB,MAAM,KAAK,IAAI,CAAC4vB,eAAe,EAAE;QACjC,IAAI,CAACY,sBAAsB,EAAE;OAChC,MAAM,IACH,IAAI,CAAC1B,MAAM,CAACx3B,UAAU,CAACwvB,OAAO,CAAC8G,QAAQ,CAACC,UAAU,KAClD71B,KAAK,CAAC81B,kBAAkB,CAAC2C,MAAM,EACjC;QACE,IAAI,CAACC,oBAAoB,CAAC1wB,MAAM,EAAE,IAAI,CAAC;;;EAGnD,CAAC;EAED+uB,gCAAK,GAAL,UAAM/wB,MAAW,EAAEL,OAA6B;IAC5C,IAAI,CAACgzB,KAAK,EAAE;IAEZ,IAAIthB,KAAK,CAACC,OAAO,CAACtR,MAAM,CAAC,EAAE;MACvB,KAAyB,UAAM,EAAN4yB,iBAAM,EAANrvB,oBAAM,EAANA,IAAM,EAAE;QAA5B,IAAMsvB,UAAU;QACjB,IAAIC,gBAAgB,GAAa,EAAE;QAEnC;QACA,IAAI,IAAI,CAAChC,MAAM,YAAYiC,oBAAoB,EAAE;UAC7CD,gBAAgB,GAAG,IAAI,CAAChC,MAAM,CAACkC,uBAAuB,EAAE;;QAG5D,IAAMhxB,MAAM,GAAGrC,OAAO,CAACyG,WAAW,CAC9B,IAAI,CAAC0qB,MAAM,EACX+B,UAAU,EACVC,gBAAgB,EAChB,CAAC,IAAI,CAAChC,MAAM,CAACzzB,YAAY,EAAE,CAC9B;QAED,IAAI2E,MAAM,EAAE;UACR,IAAI,CAACixB,SAAS,CAACjxB,MAAM,CAAC;;;;EAItC,CAAC;EAED+uB,iCAAM,GAAN,UAAO1qB,MAAmB,EAAE6sB,YAAoB,EAAEvzB,OAA6B;IAC3EA,OAAO,CAAC+tB,cAAc,CAACrnB,MAAM,EAAE6sB,YAAY,EAAE,IAAI,CAACC,MAAM,CAAC;EAC7D,CAAC;EAEDpC,sCAAW,GAAX,UAAYvuB,EAAU;IAClB,OAAO,IAAI,CAAC2wB,MAAM,CAAC3wB,EAAE,CAAC;EAC1B,CAAC;EAEDuuB,yCAAc,GAAd;IACI,OAAO,IAAI,CAACoC,MAAM,CAACnoB,MAAM;EAC7B,CAAC;EAED+lB,wCAAa,GAAb,UAAcvuB,EAAU;IACpB,IAAI/B,MAAM,GAAuBtF,SAAS;IAE1C,KAAmB,UAAW,EAAXoW,SAAI,CAAC4hB,MAAM,EAAX5vB,cAAW,EAAXA,IAAW,EAAE;MAA3B,IAAMuT,IAAI;MACXrW,MAAM,GAAGqW,IAAI,CAACb,aAAa,CAACzT,EAAE,CAAC;MAE/B,IAAI/B,MAAM,EAAE;QACR;;;IAIR,OAAOA,MAAM;EACjB,CAAC;EAEDswB,6CAAkB,GAAlB,UAAmBpxB,OAA0B;IACzC,IACI,IAAI,CAACmxB,MAAM,CAACx3B,UAAU,CAACwvB,OAAO,CAACsK,UAAU,IACzC,IAAI,CAACD,MAAM,CAACnoB,MAAM,GAAG,IAAI,CAAC8lB,MAAM,CAACx3B,UAAU,CAACwvB,OAAO,CAACsK,UAAU,EAChE;MACEzzB,OAAO,CAACoX,UAAU,CACd,IAAI,CAAC+Z,MAAM,EACX92B,KAAK,CAAC+Z,eAAe,CAACsf,cAAc,EACpCxxB,iBAAO,CAACC,MAAM,CAACwxB,cAAc,CAAC,IAAI,CAACxC,MAAM,CAACx3B,UAAU,CAACwvB,OAAO,CAACsK,UAAU,CAAC,CAC3E;;IAGL,IAAI,IAAI,CAACD,MAAM,CAACnoB,MAAM,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC8lB,MAAM,CAACx3B,UAAU,CAACwS,qBAAqB,EAAE;MACzEnM,OAAO,CAACoX,UAAU,CACd,IAAI,CAAC+Z,MAAM,EACX92B,KAAK,CAAC+Z,eAAe,CAACiD,uBAAuB,EAC7CnV,iBAAO,CAACC,MAAM,CAACmV,uBAAuB,EAAE,CAC3C;;IAGL,KAAmB,UAAW,EAAX1F,SAAI,CAAC4hB,MAAM,EAAX5vB,cAAW,EAAXA,IAAW,EAAE;MAA3B,IAAMuT,IAAI;MACX,IAAI,CAAC,IAAI,CAACyc,eAAe,CAACzc,IAAI,CAAC,EAAE;QAC7BnX,OAAO,CAACoX,UAAU,CACd,IAAI,CAAC+Z,MAAM,EACX92B,KAAK,CAAC+Z,eAAe,CAACyf,oBAAoB,EAC1C3xB,iBAAO,CAACC,MAAM,CAAC2xB,oBAAoB,CAAC3c,IAAI,CAAC9X,eAAe,EAAE,CAAC,CAC9D;;MAGL8X,IAAI,CAACD,0BAA0B,CAAClX,OAAO,CAAC;;EAEhD,CAAC;EAEDoxB,iCAAM,GAAN,UAAOv3B,WAA8B;IACjC;IACA,IAAMF,UAAU,GAAG,IAAI,CAACw3B,MAAM,CAACx3B,UAAU;IAEzC,IAAI,CAACA,UAAU,CAACwS,qBAAqB,EAAE;MACnC,OAAO3Q,SAAS;;IAGpB,IAAMpC,OAAO,GAAGa,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC7C,IAAMu5B,UAAU,GAAG95B,UAAU,CAACwvB,OAAO,CAACsK,UAAU,GAC1CM,IAAI,CAAClM,GAAG,CAACluB,UAAU,CAACwvB,OAAO,CAACsK,UAAU,EAAE,IAAI,CAACD,MAAM,CAACnoB,MAAM,CAAC,GAC3D,IAAI,CAACmoB,MAAM,CAACnoB,MAAM;IAExB,IAAI,CAACqmB,oBAAoB,GAAGz3B,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IACzD,IAAI,CAACm4B,gBAAgB,GAAG,EAAE;IAE1B,IACI14B,UAAU,CAACwvB,OAAO,CAAC6K,6BAA6B,IAChDP,UAAU,KAAK,CAAC,IAChB,IAAI,CAACD,MAAM,CAAC,CAAC,CAAC,YAAY5D,cAAc,IACxC,IAAI,CAACgE,eAAe,CAAC,IAAI,CAACJ,MAAM,CAAC,CAAC,CAAC,CAAC,EACtC;MACE,IAAI,CAACZ,cAAc,CAAC,IAAI,CAACY,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC;MACzC,IAAI,CAACnB,gBAAgB,CAACztB,IAAI,CAAC,IAAI,CAAC4uB,MAAM,CAAC,CAAC,CAAC,CAAC;KAC7C,MAAM;MACH,IAAMS,WAAW,GAAGh6B,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MACjD+5B,WAAW,CAAC95B,SAAS,GAAGR,UAAU,CAACS,gBAAgB,CAAC,cAAc,CAAC;MACnE65B,WAAW,CAACp5B,KAAK,CAAC+C,OAAO,GAAG,MAAM;MAElC,IAAI/D,WAAW,KAAKQ,KAAK,CAACC,WAAW,CAACC,UAAU,EAAE;QAC9C05B,WAAW,CAACp5B,KAAK,CAAC6lB,aAAa,GAAG,KAAK;QAEvC,IACI,IAAI,CAACyQ,MAAM,CAACnsB,mBAAmB,IAC/BrL,UAAU,CAACwvB,OAAO,CAAC+K,eAAe,KAAK75B,KAAK,CAAC85B,eAAe,CAACpf,OAAO,EACtE;UACE,QAAQ,IAAI,CAACoc,MAAM,CAACnsB,mBAAmB;YACnC,KAAK3K,KAAK,CAAC6K,mBAAmB,CAACgK,MAAM;cACjC+kB,WAAW,CAACp5B,KAAK,CAACqa,cAAc,GAAG,QAAQ;cAC3C;YACJ,KAAK7a,KAAK,CAAC6K,mBAAmB,CAACkK,KAAK;cAChC6kB,WAAW,CAACp5B,KAAK,CAACqa,cAAc,GAAG,UAAU;cAC7C;YACJ;cACI+e,WAAW,CAACp5B,KAAK,CAACqa,cAAc,GAAG,YAAY;cAC/C;UAAM;SAEjB,MAAM;UACH,QAAQvb,UAAU,CAACwvB,OAAO,CAAC+K,eAAe;YACtC,KAAK75B,KAAK,CAAC85B,eAAe,CAACjlB,MAAM;cAC7B+kB,WAAW,CAACp5B,KAAK,CAACqa,cAAc,GAAG,QAAQ;cAC3C;YACJ,KAAK7a,KAAK,CAAC85B,eAAe,CAAC/kB,KAAK;cAC5B6kB,WAAW,CAACp5B,KAAK,CAACqa,cAAc,GAAG,UAAU;cAC7C;YACJ;cACI+e,WAAW,CAACp5B,KAAK,CAACqa,cAAc,GAAG,YAAY;cAC/C;UAAM;;OAGrB,MAAM;QACH+e,WAAW,CAACp5B,KAAK,CAAC6lB,aAAa,GAAG,QAAQ;QAE1C,IACI,IAAI,CAACyQ,MAAM,CAACnsB,mBAAmB,IAC/BrL,UAAU,CAACwvB,OAAO,CAAC+K,eAAe,KAAK75B,KAAK,CAAC85B,eAAe,CAACpf,OAAO,EACtE;UACE,QAAQ,IAAI,CAACoc,MAAM,CAACnsB,mBAAmB;YACnC,KAAK3K,KAAK,CAAC6K,mBAAmB,CAACgK,MAAM;cACjC+kB,WAAW,CAACp5B,KAAK,CAACoa,UAAU,GAAG,QAAQ;cACvC;YACJ,KAAK5a,KAAK,CAAC6K,mBAAmB,CAACkK,KAAK;cAChC6kB,WAAW,CAACp5B,KAAK,CAACoa,UAAU,GAAG,UAAU;cACzC;YACJ;cACIgf,WAAW,CAACp5B,KAAK,CAACoa,UAAU,GAAG,YAAY;cAC3C;UAAM;SAEjB,MAAM;UACH,QAAQtb,UAAU,CAACwvB,OAAO,CAAC+K,eAAe;YACtC,KAAK75B,KAAK,CAAC85B,eAAe,CAACjlB,MAAM;cAC7B+kB,WAAW,CAACp5B,KAAK,CAACoa,UAAU,GAAG,QAAQ;cACvC;YACJ,KAAK5a,KAAK,CAAC85B,eAAe,CAAC/kB,KAAK;cAC5B6kB,WAAW,CAACp5B,KAAK,CAACoa,UAAU,GAAG,UAAU;cACzC;YACJ,KAAK5a,KAAK,CAAC85B,eAAe,CAACpf,OAAO;cAC9Bkf,WAAW,CAACp5B,KAAK,CAACoa,UAAU,GAAG,SAAS;cACxC;YACJ;cACIgf,WAAW,CAACp5B,KAAK,CAACoa,UAAU,GAAG,YAAY;cAC3C;UAAM;;;MAKtB,IAAMmf,cAAc,GAAG,IAAI,CAACZ,MAAM,CAACa,MAAM,CAAC,IAAI,CAACT,eAAe,CAACU,IAAI,CAAC,IAAI,CAAC,CAAC;MAE1E,IAAIC,gBAAc,GAAa,EAAE;MACjC,IAAMC,kBAAgB,GAAa,EAAE;MAErC,IAAI,CAAC,IAAI,CAACrD,MAAM,CAACzzB,YAAY,EAAE,EAAE;QAC7B02B,cAAc,CAACK,OAAO,CAAC,UAACpyB,MAAM;UAC1B,aAAM,CAACqyB,IAAI,KAAKr6B,KAAK,CAAC0uB,UAAU,CAAC6C,SAAS,GACpC4I,kBAAgB,CAAC5vB,IAAI,CAACvC,MAAM,CAAC,GAC7BkyB,gBAAc,CAAC3vB,IAAI,CAACvC,MAAM,CAAC;QAFjC,CAEiC,CACpC;QAED;QACA,IAAMsyB,sBAAsB,GAAGJ,gBAAc,CAAChiB,MAAM,CAAC5Y,UAAU,CAACwvB,OAAO,CAACsK,UAAU,CAAC;QAEnF,IAAIp3B,uBAAc,CAACu4B,qCAAqC,EAAE;UACtDJ,kBAAgB,CAAC5vB,IAAI,OAArB4vB,kBAAgB,EAASG,sBAAsB;;QAGnD,IAAIE,gCAAgC,GAAG,IAAI;QAE3C,IAAIL,kBAAgB,CAACnpB,MAAM,GAAG,CAAC,EAAE;UAC7B,IAAI,CAAC,IAAI,CAACypB,eAAe,EAAE;YACvB,IAAI,CAACA,eAAe,GAAG,IAAIvE,cAAc,CAACiE,kBAAgB,CAAC;YAC3D,IAAI,CAACM,eAAe,CAACvjB,SAAS,CAAC,IAAI,CAAC4f,MAAM,CAAC;YAC3C,IAAI,CAAC2D,eAAe,CAAC,mBAAmB,CAAC,GAAG,IAAI;;UAGpD,IAAMC,YAAY,GAAG,IAAI,CAAC5D,MAAM,YAAYntB,YAAY,IAAI,CAAC,IAAI,CAACmtB,MAAM,CAACl1B,MAAM;UAC/E44B,gCAAgC,GAAG,CAACG,+BAA+B,CAC/D,IAAI,CAACF,eAAe,EACpBC,YAAY,CACf;;QAGL,IAAI,IAAI,CAACD,eAAe,IAAID,gCAAgC,EAAE;UAC1DN,gBAAc,CAAC3vB,IAAI,CAAC,IAAI,CAACkwB,eAAe,CAAC;;OAEhD,MAAM;QACHP,gBAAc,GAAGH,cAAc;;MAGnC,KAAK,IAAI9xB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGiyB,gBAAc,CAAClpB,MAAM,EAAE/I,CAAC,EAAE,EAAE;QAC5C,IAAMD,MAAM,GAAGkyB,gBAAc,CAACjyB,CAAC,CAAC;QAChCD,MAAM,CAACgQ,MAAM,EAAE;QAEf,IAAIhQ,MAAM,CAAC/C,eAAe,EAAE;UACxB,IACI3F,UAAU,CAACwvB,OAAO,CAACsJ,kBAAkB,KAAKp4B,KAAK,CAACC,WAAW,CAACC,UAAU,IACtEZ,UAAU,CAACwvB,OAAO,CAAC+K,eAAe,KAAK75B,KAAK,CAAC85B,eAAe,CAACpf,OAAO,EACtE;YACE1S,MAAM,CAAC/C,eAAe,CAACzE,KAAK,CAACU,IAAI,GAAG,UAAU;WACjD,MAAM;YACH8G,MAAM,CAAC/C,eAAe,CAACzE,KAAK,CAACU,IAAI,GAAG,UAAU;;UAGlD04B,WAAW,CAAC/jB,WAAW,CAAC7N,MAAM,CAAC/C,eAAe,CAAC;UAE/C,IAAI,CAAC+yB,gBAAgB,CAACztB,IAAI,CAACvC,MAAM,CAAC;UAElC,IAAIC,CAAC,GAAGiyB,gBAAc,CAAClpB,MAAM,GAAG,CAAC,IAAI1R,UAAU,CAACwvB,OAAO,CAAC8L,aAAa,GAAG,CAAC,EAAE;YACvE,IAAMC,MAAM,GAAGj7B,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;YAE5C,IAAIL,WAAW,KAAKQ,KAAK,CAACC,WAAW,CAACC,UAAU,EAAE;cAC9C26B,MAAM,CAACr6B,KAAK,CAACU,IAAI,GAAG,UAAU;cAC9B25B,MAAM,CAACr6B,KAAK,CAACQ,KAAK,GAAG1B,UAAU,CAACwvB,OAAO,CAAC8L,aAAa,GAAG,IAAI;aAC/D,MAAM;cACHC,MAAM,CAACr6B,KAAK,CAACI,MAAM,GAAGtB,UAAU,CAACwvB,OAAO,CAAC8L,aAAa,GAAG,IAAI;;YAGjEt6B,KAAK,CAACuV,WAAW,CAAC+jB,WAAW,EAAEiB,MAAM,CAAC;;;;MAKlD,IAAMC,oBAAoB,GAAGl7B,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MAC1Di7B,oBAAoB,CAACt6B,KAAK,CAACS,QAAQ,GAAG,QAAQ;MAC9C65B,oBAAoB,CAACjlB,WAAW,CAAC+jB,WAAW,CAAC;MAE7Ct5B,KAAK,CAACuV,WAAW,CAAC9W,OAAO,EAAE+7B,oBAAoB,CAAC;;IAGpDx6B,KAAK,CAACuV,WAAW,CAAC9W,OAAO,EAAE,IAAI,CAACs4B,oBAAoB,CAAC;IAErD,KAA6B,UAAqB,EAArB9f,SAAI,CAACygB,gBAAgB,EAArBzuB,cAAqB,EAArBA,IAAqB,EAAE;MAA/C,IAAM4uB,cAAc;MACrB,IAAIA,cAAc,CAAC1C,KAAK,uBAAiC;QACrD,IAAI,CAACiD,oBAAoB,CAAiBP,cAAc,EAAE,KAAK,CAAC;QAEhE;;;IAIR,OAAO,IAAI,CAACH,gBAAgB,CAAChnB,MAAM,GAAG,CAAC,GAAGjS,OAAO,GAAGoC,SAAS;EACjE,CAAC;EAED41B,oCAAS,GAAT,UAAU/uB,MAAc;IACpB,IAAI,CAACA,MAAM,EAAE;MACT,MAAM,IAAIJ,KAAK,CAAC,sCAAsC,CAAC;;IAG3D,IAAI,CAAC,CAACI,MAAM,CAACpG,MAAM,IAAIoG,MAAM,CAACpG,MAAM,KAAK,IAAI,CAACk1B,MAAM,KAAK,IAAI,CAACqC,MAAM,CAACluB,OAAO,CAACjD,MAAM,CAAC,GAAG,CAAC,EAAE;MACtF,IAAI,CAACmxB,MAAM,CAAC5uB,IAAI,CAACvC,MAAM,CAAC;MAExB,IAAI,CAACA,MAAM,CAACpG,MAAM,EAAE;QAChBoG,MAAM,CAACkP,SAAS,CAAC,IAAI,CAAC4f,MAAM,CAAC;;MAGjC9uB,MAAM,CAAC,mBAAmB,CAAC,GAAG,IAAI;KACrC,MAAM;MACH,MAAM,IAAIJ,KAAK,CAACC,iBAAO,CAACC,MAAM,CAACizB,qBAAqB,EAAE,CAAC;;EAE/D,CAAC;EAEDhE,uCAAY,GAAZ,UAAa/uB,MAAc;IACvB,IAAI,IAAI,CAACgzB,cAAc,IAAI,IAAI,CAACpD,eAAe,KAAK5vB,MAAM,EAAE;MACxD,IAAI,CAACwwB,sBAAsB,EAAE;;IAGjC,IAAMyC,WAAW,GAAG,IAAI,CAAC9B,MAAM,CAACluB,OAAO,CAACjD,MAAM,CAAC;IAE/C,IAAIizB,WAAW,IAAI,CAAC,EAAE;MAClB,IAAI,CAAC9B,MAAM,CAACjhB,MAAM,CAAC+iB,WAAW,EAAE,CAAC,CAAC;MAElCjzB,MAAM,CAACkP,SAAS,CAAC/V,SAAS,CAAC;MAE3B6G,MAAM,CAAC,mBAAmB,CAAC,GAAG7G,SAAS;MAEvC,KAAK,IAAI8G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAAC+vB,gBAAgB,CAAChnB,MAAM,EAAE/I,CAAC,EAAE,EAAE;QACnD,IAAI,IAAI,CAAC+vB,gBAAgB,CAAC/vB,CAAC,CAAC,KAAKD,MAAM,EAAE;UACrC,IAAI,CAACgwB,gBAAgB,CAAC9f,MAAM,CAACjQ,CAAC,EAAE,CAAC,CAAC;UAElC;;;MAIR,OAAO,IAAI;;IAGf,OAAO,KAAK;EAChB,CAAC;EAED8uB,gCAAK,GAAL;IACI,IAAI,CAACoC,MAAM,GAAG,EAAE;IAChB,IAAI,CAACnB,gBAAgB,GAAG,EAAE;IAC1B,IAAI,CAACJ,eAAe,GAAGz2B,SAAS;EACpC,CAAC;EAED41B,uCAAY,GAAZ,UAAazsB,cAA8B;IAA9B;MAAAA,qBAA8B;IAAA;IACvC,IAAI7D,MAAM,GAAY,EAAE;IAExB,IAAI6D,cAAc,EAAE;MAChB,KAAqB,UAAW,EAAXiN,SAAI,CAAC4hB,MAAM,EAAX5vB,cAAW,EAAXA,IAAW,EAAE;QAA7B,IAAMvB,MAAM;QACbvB,MAAM,CAAC8D,IAAI,OAAX9D,MAAM,EAASuB,MAAM,CAACwV,YAAY,EAAE;;;IAI5C,OAAO/W,MAAM;EACjB,CAAC;EAEDswB,iDAAsB,GAAtB;IACI,IAAItwB,MAAM,GAA2B,EAAE;IAEvC,KAAqB,UAAW,EAAX8Q,SAAI,CAAC4hB,MAAM,EAAX5vB,cAAW,EAAXA,IAAW,EAAE;MAA7B,IAAMvB,MAAM;MACbvB,MAAM,CAAC8D,IAAI,OAAX9D,MAAM,EAASuB,MAAM,CAACyV,sBAAsB,EAAE;;IAGlD,OAAOhX,MAAM;EACjB,CAAC;EAEDlF,sBAAIw1B,iDAAmB;SAAvB;MACI,OAAO,IAAI,CAACiB,gBAAgB,CAAChnB,MAAM;IACvC,CAAC;;;;EAEDzP,sBAAIw1B,4CAAc;SAAlB;MACI,OAAO,IAAI,CAACa,eAAe;IAC/B,CAAC;;;;EACL,uBAAC;AAAD,CAAC,EA/gBD;AAihBA;EAA+Bv2B;EAoC3B;IAAA,YACI4E,iBAAO;IAEP3E,KAAI,CAACqvB,iBAAiB,GAAG,IAAIoG,gBAAgB,CAACz1B,KAAI,CAAC;;EACvD;EAxBU45B,iCAAa,GAAvB,UAAwBl1B,MAAW,EAAEL,OAA6B;IAC9DM,iBAAMmR,aAAa,YAACpR,MAAM,EAAEL,OAAO,CAAC;IAEpC,IAAI,CAACgrB,iBAAiB,CAACzqB,KAAK,CAACF,MAAM,CAAC,SAAS,CAAC,EAAEL,OAAO,CAAC;EAC5D,CAAC;EAESu1B,kCAAc,GAAxB,UAAyB7uB,MAAmB,EAAE1G,OAA6B;IACvEM,iBAAM2R,cAAc,YAACvL,MAAM,EAAE1G,OAAO,CAAC;IAErC,IAAI,CAACgrB,iBAAiB,CAACpkB,MAAM,CAACF,MAAM,EAAE,SAAS,EAAE1G,OAAO,CAAC;EAC7D,CAAC;EAESu1B,kCAAc,GAAxB;IACI,OAAO,IAAI,CAACvK,iBAAiB,CAAC3Y,MAAM,CAChC,IAAI,CAACxY,WAAW,KAAK2B,SAAS,GACxB,IAAI,CAAC3B,WAAW,GAChB,IAAI,CAACF,UAAU,CAACwvB,OAAO,CAACsJ,kBAAkB,CACnD;EACL,CAAC;EAQD8C,uCAAmB,GAAnB;IACIj1B,iBAAMyW,mBAAmB,WAAE;IAE3B,IAAI,CAACiU,iBAAiB,CAACjU,mBAAmB,EAAE;EAChD,CAAC;EAEDwe,sCAAkB,GAAlB;IACI,IAAI,IAAI,CAACvK,iBAAiB,CAAC4G,mBAAmB,KAAK,CAAC,EAAE;MAClD,OAAOtxB,iBAAMk1B,kBAAkB,WAAE;KACpC,MAAM;MACH,IAAI,IAAI,CAACxK,iBAAiB,CAACzoB,cAAc,EAAE,KAAK,CAAC,EAAE;QAC/C,OACI,IAAI,CAACyoB,iBAAiB,CAACqK,cAAc,KAAK75B,SAAS,IACnD,CAAC,IAAI,CAAC7B,UAAU,CAACwvB,OAAO,CAAC6K,6BAA6B;OAE7D,MAAM;QACH,OAAO,IAAI,CAAChJ,iBAAiB,CAACqK,cAAc,KAAK75B,SAAS;;;EAGtE,CAAC;EAED+5B,mCAAe,GAAf;IACI,OAAO,WAAW;EACtB,CAAC;EAEDA,kCAAc,GAAd;IACI,OAAO,IAAI,CAACvK,iBAAiB,CAACzoB,cAAc,EAAE;EAClD,CAAC;EAEDgzB,+BAAW,GAAX,UAAYvzB,KAAa;IACrB,IAAIA,KAAK,IAAI,CAAC,IAAIA,KAAK,GAAG,IAAI,CAACO,cAAc,EAAE,EAAE;MAC7C,OAAO,IAAI,CAACyoB,iBAAiB,CAACxoB,WAAW,CAACR,KAAK,CAAC;KACnD,MAAM;MACH,OAAO1B,iBAAMkC,WAAW,YAACR,KAAK,CAAC;;EAEvC,CAAC;EAEDuzB,iCAAa,GAAb,UAAc1yB,EAAU;IACpB,IAAM/B,MAAM,GAAuB,IAAI,CAACkqB,iBAAiB,CAAC1U,aAAa,CAACzT,EAAE,CAAC;IAE3E,OAAO/B,MAAM,GAAGA,MAAM,GAAGR,iBAAMgW,aAAa,YAACzT,EAAE,CAAC;EACpD,CAAC;EAED0yB,iCAAa,GAAb;IACI,IAAMz0B,MAAM,GAAGR,iBAAMoD,aAAa,WAAE;IAEpC,KAAK,IAAIpB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACC,cAAc,EAAE,EAAED,CAAC,EAAE,EAAE;MAC5C,IAAID,MAAM,GAAG,IAAI,CAACG,WAAW,CAACF,CAAC,CAAC;MAEhC,IAAID,MAAM,EAAE;QACRvB,MAAM,CAAC8D,IAAI,CAACvC,MAAM,CAAC;;;IAI3B,OAAOvB,MAAM;EACjB,CAAC;EAEDy0B,8CAA0B,GAA1B,UAA2Bv1B,OAA0B;IACjDM,iBAAM4W,0BAA0B,YAAClX,OAAO,CAAC;IAEzC,IAAI,CAACgrB,iBAAiB,CAACyK,kBAAkB,CAACz1B,OAAO,CAAC;EACtD,CAAC;EAEDu1B,6BAAS,GAAT,UAAUlzB,MAAc;IACpB,IAAI,CAAC2oB,iBAAiB,CAACsI,SAAS,CAACjxB,MAAM,CAAC;EAC5C,CAAC;EAEDkzB,gCAAY,GAAZ,UAAa5wB,cAA8B;IAA9B;MAAAA,qBAA8B;IAAA;IACvC,OAAOA,cAAc,GAAG,IAAI,CAACqmB,iBAAiB,CAACnT,YAAY,EAAE,GAAG,EAAE;EACtE,CAAC;EAED0d,0CAAsB,GAAtB;IACI,OAAO,IAAI,CAACvK,iBAAiB,CAAClT,sBAAsB,EAAE;EAC1D,CAAC;EAED;;;EAGAyd,oCAAgB,GAAhB,UAAiBvd,IAAU;IACvB,IAAItR,MAAM,GAA2BlL,SAAS;IAE9C,KAAK,IAAI8G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACC,cAAc,EAAE,EAAED,CAAC,EAAE,EAAE;MAC5C,IAAMD,MAAM,GAAG,IAAI,CAACG,WAAW,CAACF,CAAC,CAAC;MAElC,IAAID,MAAM,EAAE;QACR;QACAqE,MAAM,GAAGrE,MAAM,CAAC4V,gBAAgB,CAACD,IAAI,CAAC;QAEtC,IAAItR,MAAM,EAAE;UACR,OAAOA,MAAM;;;;IAKzB;IACA,OAAOpG,iBAAM2X,gBAAgB,YAACD,IAAI,CAAC;EACvC,CAAC;EAEDpc,sBAAI25B,oCAAa;SAAjB;MACI,OAAO,IAAI;IACf,CAAC;;;;EA7ID;EAEgBA,6BAAmB,GAAG,IAAI7vB,4BAAY,CAClDA,wBAAQ,CAACC,IAAI,EACb,aAAa,EACbtL,KAAK,CAACC,WAAW,CACpB;EAGDwL,YADC,4BAAQ,EAACyvB,SAAS,CAACG,mBAAmB,CAAC,8CACR;EAqIpC,gBAAC;CAAA,CA/I8B75B,WAAW;AAA7BJ;AAiJb;EAA4CC;EACxC,gCACa0K,aAAsB,EACtBC,IAAY,EACZuN,YAAqB,EACrB+hB,iBAA0D;IAJvE,YAMIr1B,kBACI8F,aAAa,EACbC,IAAI,EACJ,CACI;MAAEnK,KAAK,EAAE7B,KAAK,CAAC8F,cAAc,CAACC;IAAO,CAAE,EACvC;MAAElE,KAAK,EAAE7B,KAAK,CAAC8F,cAAc,CAACy1B;IAAQ,CAAE,EACxC;MAAExvB,aAAa,EAAEV,wBAAQ,CAACE,IAAI;MAAE1J,KAAK,EAAE7B,KAAK,CAAC8F,cAAc,CAACgI;IAAM,CAAE,EACpE;MAAE/B,aAAa,EAAEV,wBAAQ,CAACE,IAAI;MAAE1J,KAAK,EAAE7B,KAAK,CAAC8F,cAAc,CAACsI;IAAI,CAAE,EAClE;MAAErC,aAAa,EAAEV,wBAAQ,CAACE,IAAI;MAAE1J,KAAK,EAAE7B,KAAK,CAAC8F,cAAc,CAAC0I;IAAS,CAAE,EACvE;MAAEzC,aAAa,EAAEV,wBAAQ,CAACE,IAAI;MAAE1J,KAAK,EAAE7B,KAAK,CAAC8F,cAAc,CAACwI;IAAO,CAAE,CACxE,EACDiL,YAAY,EACZ+hB,iBAAiB,CACpB;IAlBQh6B,mBAAa,GAAbyK,aAAa;IACbzK,UAAI,GAAJ0K,IAAI;IACJ1K,kBAAY,GAAZiY,YAAY;IACZjY,uBAAiB,GAAjBg6B,iBAAiB;;EAgB9B;EACJ,6BAAC;AAAD,CAAC,CAtB2CjwB,gCAAgB;AAA/CjK;AAwBb;EAA2DC;EAA3D;;EA6LA;EAvLIE,sBAAIi6B,+CAAK;SAAT;MACI,IAAI,IAAI,CAACC,gBAAgB,EAAE;QACvB,IAAMj7B,KAAK,GAAG,IAAI,CAACkB,QAAQ,CAAC85B,4BAA4B,CAAC/lB,aAAa,CAAC;QAEvE,IAAIjV,KAAK,IAAI,IAAI,CAAClB,UAAU,CAAC+G,eAAe,CAACC,cAAc,CAAC9F,KAAK,CAAC,EAAE;UAChE,OAAOA,KAAK;;;MAIpB,OAAOW,SAAS;IACpB,CAAC;SAED,UAAUU,KAAyB;MAC/B,IAAI,CAACC,QAAQ,CAAC05B,4BAA4B,CAAC/lB,aAAa,EAAE5T,KAAK,CAAC;IACpE,CAAC;;;;EAIDN,sBAAci6B,0DAAgB;IAF9B;SAEA;MACI,OAAO,IAAI;IACf,CAAC;;;;EAEDj6B,sBAAci6B,0DAAgB;SAA9B;MACI,OAAO,IAAI,CAAC95B,QAAQ,CAAC85B,4BAA4B,CAAC/lB,aAAa,CAAC,KAAKtU,SAAS;IAClF,CAAC;;;;EAESq6B,kDAAW,GAArB;IACI;EAAA,CACH;EAESA,sDAAe,GAAzB;IACI,IAAI,IAAI,CAACv2B,eAAe,EAAE;MACtB,IAAMZ,eAAe,GAAG,IAAI,CAAC/E,UAAU,CAAC+G,eAAe,CAACC,cAAc,CAClE,IAAI,CAAC9F,KAAK,EACV,IAAI,CAAClB,UAAU,CAAC+G,eAAe,CAACC,cAAc,CAAC,IAAI,CAACF,YAAY,CAAC,CACpE;MAED,IAAI/B,eAAe,CAAC8R,eAAe,EAAE;QACjC,IAAMulB,OAAO,GAAGp7B,KAAK,CAACC,gBAAgB,CAAC8D,eAAe,CAAC8R,eAAe,CAAC;QACvE,IAAIulB,OAAO,EAAE;UACT,IAAI,CAACz2B,eAAe,CAACzE,KAAK,CAAC2V,eAAe,GAAGulB,OAAO;;;;EAIpE,CAAC;EAESF,mDAAY,GAAtB;IACIv1B,iBAAMkD,YAAY,WAAE;IAEpB,IAAI,CAAC,IAAI,CAAClE,eAAe,EAAE;MACvB;;IAGJ,IAAIM,eAAe,GAAG,IAAIvD,0BAAiB,EAAE;IAE7C,IAAI,IAAI,CAACc,mBAAmB,EAAE,EAAE;MAC5ByC,eAAe,GAAG,IAAI,CAACjG,UAAU,CAAC0D,oCAAoC,CAClE,IAAI,CAACF,mBAAmB,EAAE,CAC7B;;IAGL,IAAI,CAACmC,eAAe,CAACzE,KAAK,CAACC,UAAU,GAAG8E,eAAe,CAACgC,GAAG,GAAG,IAAI;IAClE,IAAI,CAACtC,eAAe,CAACzE,KAAK,CAACgc,YAAY,GAAGjX,eAAe,CAACpC,KAAK,GAAG,IAAI;IACtE,IAAI,CAAC8B,eAAe,CAACzE,KAAK,CAACic,aAAa,GAAGlX,eAAe,CAACmC,MAAM,GAAG,IAAI;IACxE,IAAI,CAACzC,eAAe,CAACzE,KAAK,CAACK,WAAW,GAAG0E,eAAe,CAACrC,IAAI,GAAG,IAAI;IAEpE,IAAI,IAAI,CAACmC,UAAU,EAAE,EAAE;MACnB;MACA,IAAMT,OAAO,GAAG,IAAI5C,0BAAiB,EAAE;MAEvC,IAAI,CAACsD,8BAA8B,CAACV,OAAO,CAAC;MAE5C,IAAM+2B,kBAAkB,GACpB,IAAI,CAACr8B,UAAU,CAAC0D,oCAAoC,CAAC4B,OAAO,CAAC;MAEjE,IAAI,CAACK,eAAe,CAACzE,KAAK,CAACM,WAAW,GAAG,GAAG,GAAG66B,kBAAkB,CAACx4B,KAAK,GAAG,IAAI;MAC9E,IAAI,CAAC8B,eAAe,CAACzE,KAAK,CAACyC,UAAU,GAAG,GAAG,GAAG04B,kBAAkB,CAACz4B,IAAI,GAAG,IAAI;MAE5E,IAAI,CAAC,IAAI,CAACG,YAAY,EAAE,EAAE;QACtB,IAAI,CAAC4B,eAAe,CAACzE,KAAK,CAACiT,SAAS,GAAG,GAAG,GAAGkoB,kBAAkB,CAACp0B,GAAG,GAAG,IAAI;QAC1E,IAAI,CAACtC,eAAe,CAACzE,KAAK,CAACE,YAAY,GAAG,GAAG,GAAGi7B,kBAAkB,CAACj0B,MAAM,GAAG,IAAI;;MAGpF,IACI,IAAI,CAACtC,gBAAgB,IACrB,IAAI,CAAC1C,oBAAoB,KAAK1C,KAAK,CAACC,WAAW,CAACC,UAAU,EAC5D;QACE,IAAI,CAACkF,gBAAgB,CAAC5E,KAAK,CAACyC,UAAU,GAAG,GAAG,GAAG04B,kBAAkB,CAACz4B,IAAI,GAAG,IAAI;QAC7E,IAAI,CAACkC,gBAAgB,CAAC5E,KAAK,CAACM,WAAW,GAAG,GAAG,GAAG66B,kBAAkB,CAACx4B,KAAK,GAAG,IAAI;;KAEtF,MAAM;MACH,IAAI,CAAC8B,eAAe,CAACzE,KAAK,CAACM,WAAW,GAAG,GAAG;MAC5C,IAAI,CAACmE,eAAe,CAACzE,KAAK,CAACyC,UAAU,GAAG,GAAG;MAC3C,IAAI,CAACgC,eAAe,CAACzE,KAAK,CAACiT,SAAS,GAAG,GAAG;MAC1C,IAAI,CAACxO,eAAe,CAACzE,KAAK,CAACE,YAAY,GAAG,GAAG;MAE7C,IACI,IAAI,CAAC0E,gBAAgB,IACrB,IAAI,CAAC1C,oBAAoB,KAAK1C,KAAK,CAACC,WAAW,CAACC,UAAU,EAC5D;QACE,IAAI,CAACkF,gBAAgB,CAAC5E,KAAK,CAACM,WAAW,GAAG,GAAG;QAC7C,IAAI,CAACsE,gBAAgB,CAAC5E,KAAK,CAACyC,UAAU,GAAG,GAAG;;;EAGxD,CAAC;EAESu4B,uDAAgB,GAA1B,UAA2B/1B,sBAAuC;IAAvC;MAAAA,8BAAuC;IAAA;IAC9D,IAAI2E,cAAc,GAA4B,IAAI,CAACxI,MAAM;IAEzD,OAAOwI,cAAc,EAAE;MACnB,IAAIwxB,gCAAgC,GAAY,KAAK;MAErD,IAAIn2B,sBAAsB,EAAE;QACxBm2B,gCAAgC,GAAG,KAAK;OAC3C,MAAM;QACHA,gCAAgC,GAC5BxxB,cAAc,YAAYC,SAAS,GAC7BD,cAAc,CAACyxB,eAAe,CAACriB,OAAO,EAAE,GACxC,KAAK;;MAGnB,IAAIpP,cAAc,YAAYoxB,4BAA4B,EAAE;QACxD,IACI,IAAI,CAACM,gBAAgB,KACpB1xB,cAAc,CAACjE,iBAAiB,EAAE,KAAK,IAAI,CAACA,iBAAiB,EAAE,IAC5Dy1B,gCAAgC,CAAC,EACvC;UACE,OAAO,IAAI;;;MAInBxxB,cAAc,GAAGA,cAAc,CAACxI,MAAM;;IAG1C,OAAO,KAAK;EAChB,CAAC;EAES45B,wDAAiB,GAA3B;IACI,OAAO,IAAI,CAACO,gBAAgB,EAAE,IAAI,IAAI,CAACC,YAAY,EAAE,GAC/C,IAAIh6B,0BAAiB,CACjBhC,KAAK,CAACwH,OAAO,CAACy0B,OAAO,EACrBj8B,KAAK,CAACwH,OAAO,CAACy0B,OAAO,EACrBj8B,KAAK,CAACwH,OAAO,CAACy0B,OAAO,EACrBj8B,KAAK,CAACwH,OAAO,CAACy0B,OAAO,CACxB,GACDh2B,iBAAMyE,iBAAiB,WAAE;EACnC,CAAC;EAED8wB,iEAA0B,GAA1B,UAA2B71B,OAA0B;IACjDM,iBAAM4W,0BAA0B,YAAClX,OAAO,CAAC;IAEzC,IAAMu2B,aAAa,GAAG,IAAI,CAACx6B,QAAQ,CAAC85B,4BAA4B,CAAC/lB,aAAa,CAAC;IAE/E,IAAIymB,aAAa,KAAK/6B,SAAS,EAAE;MAC7B,IAAMkD,eAAe,GAAG,IAAI,CAAC/E,UAAU,CAAC+G,eAAe,CAACC,cAAc,CAAC41B,aAAa,CAAC;MAErF,IAAI,CAAC73B,eAAe,EAAE;QAClBsB,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAACC,oBAAoB,EAC1CnS,iBAAO,CAACC,MAAM,CAACmS,oBAAoB,CAACiiB,aAAa,EAAE,OAAO,CAAC,CAC9D;;;EAGb,CAAC;EAEDV,6CAAM,GAAN;IACI,IAAMv2B,eAAe,GAAGgB,iBAAM+R,MAAM,WAAE;IAEtC,IAAI/S,eAAe,IAAI,IAAI,CAAC82B,gBAAgB,EAAE,EAAE;MAC5C,IAAI,CAACI,eAAe,EAAE;;IAG1B,IAAI,CAACC,WAAW,EAAE;IAElB,OAAOn3B,eAAe;EAC1B,CAAC;EAEDu2B,wDAAiB,GAAjB;IACI,IAAMtoB,cAAc,GAAG,IAAI,CAAC1S,KAAK;IAEjC,OAAO0S,cAAc,GAAGA,cAAc,GAAGjN,iBAAME,iBAAiB,WAAE;EACtE,CAAC;EA3LD;EAEgBq1B,0CAAa,GAAG,IAAIa,sBAAsB,CAAChxB,wBAAQ,CAACG,IAAI,EAAE,OAAO,CAAC;EAGlFC,YADC,4BAAQ,EAAC+vB,4BAA4B,CAAC/lB,aAAa,CAAC,yDAWpD;EA6KL,mCAAC;CAAA,CA7L0DrN,oBAAoB;AAAzDhH;AA+LtB;EAA4CC;EAA5C;IACI;IADJ;IAOYC,YAAM,GAAY,KAAK;;EAkCnC;EA7BI;EAEUg7B,iDAAyB,GAAnC,UAAoCr3B,eAA4B;IAC5DgB,iBAAM4C,yBAAyB,YAAC5D,eAAe,CAAC;IAEhD,IAAI,IAAI,CAACs3B,cAAc,EAAE;MACrBt3B,eAAe,CAACzE,KAAK,CAACqE,SAAS,GAAG,IAAI,CAAC03B,cAAc,GAAG,IAAI;;EAEpE,CAAC;EAESD,4CAAoB,GAA9B;IACI,OAAO,KAAK;EAChB,CAAC;EAESA,gCAAQ,GAAlB;IACI,OAAO,IAAI,CAACE,MAAM;EACtB,CAAC;EAESF,gCAAQ,GAAlB,UAAmBz6B,KAAc;IAC7B,IAAI,CAAC26B,MAAM,GAAG36B,KAAK;EACvB,CAAC;EAEDN,sBAAc+6B,8CAAmB;SAAjC;MACI,OAAO,CAAC;IACZ,CAAC;;;;EAEDA,kCAAU,GAAV;IACI,OAAO,CAAC,IAAI,CAACP,gBAAgB,EAAE,IAAI,IAAI,CAACz8B,UAAU,CAACm9B,gBAAgB,KAAK,IAAI,CAACC,QAAQ,EAAE;EAC3F,CAAC;EArCeJ,2BAAa,GAAG,IAAIjxB,4BAAY,CAACA,wBAAQ,CAACE,IAAI,EAAE,OAAO,EAAE,KAAK,CAAC;EAC/D+wB,+BAAiB,GAAG,IAAIjxB,iCAAiB,CAACA,wBAAQ,CAACE,IAAI,EAAE,WAAW,CAAC;EAGrFE,YADC,4BAAQ,EAAC6wB,aAAa,CAACK,aAAa,CAAC,6CACN;EAGhClxB,YADC,4BAAQ,EAAC6wB,aAAa,CAACM,iBAAiB,CAAC,qDAClB;EA+B5B,oBAAC;CAAA,CAzC2CpB,4BAA4B;AAAlDp6B;AA2CtB;EAAqCC;EAArC;;EAqGA;EAlEI;EAEUw7B,sCAAY,GAAtB;IACI,OAAO,iBAAiB;EAC5B,CAAC;EAESA,uCAAa,GAAvB,UAAwB72B,MAAW,EAAEL,OAAiC;IAClE,IAAI,OAAOK,MAAM,KAAK,QAAQ,EAAE;MAC5B,IAAI,CAAC82B,kBAAkB,EAAE;MACzB,IAAI,CAACniB,GAAG,GAAG3U,MAAM;KACpB,MAAM;MACH,OAAOC,iBAAMmR,aAAa,YAACpR,MAAM,EAAEL,OAAO,CAAC;;EAEnD,CAAC;EAEDk3B,+BAAK,GAAL,UAAM99B,OAAoB;IACtB,IAAI,IAAI,CAAC4b,GAAG,IAAI5b,OAAO,CAACkG,eAAe,EAAE;MACrClG,OAAO,CAACkG,eAAe,CAACzE,KAAK,CAACq7B,eAAe,GACzC,OAAO,GACP98B,OAAO,CAACwS,uBAAuB,CAACsrB,eAAe,CAAC/gB,WAAW,EAAE,IAAI,CAACnB,GAAG,CAAC,GACtE,IAAI;MAER,QAAQ,IAAI,CAACoiB,QAAQ;QACjB,KAAK/8B,KAAK,CAACg9B,QAAQ,CAACC,MAAM;UACtBl+B,OAAO,CAACkG,eAAe,CAACzE,KAAK,CAACob,gBAAgB,GAAG,QAAQ;UACzD;QACJ,KAAK5b,KAAK,CAACg9B,QAAQ,CAACE,kBAAkB;UAClCn+B,OAAO,CAACkG,eAAe,CAACzE,KAAK,CAACob,gBAAgB,GAAG,UAAU;UAC3D;QACJ,KAAK5b,KAAK,CAACg9B,QAAQ,CAACG,gBAAgB;UAChCp+B,OAAO,CAACkG,eAAe,CAACzE,KAAK,CAACob,gBAAgB,GAAG,UAAU;UAC3D;QACJ,KAAK5b,KAAK,CAACg9B,QAAQ,CAACI,KAAK;QACzB;UACIr+B,OAAO,CAACkG,eAAe,CAACzE,KAAK,CAACob,gBAAgB,GAAG,WAAW;UAC5D7c,OAAO,CAACkG,eAAe,CAACzE,KAAK,CAAC68B,cAAc,GAAG,OAAO;UACtD;MAAM;MAGd,QAAQ,IAAI,CAAC1yB,mBAAmB;QAC5B,KAAK3K,KAAK,CAAC6K,mBAAmB,CAACC,IAAI;UAC/B;QACJ,KAAK9K,KAAK,CAAC6K,mBAAmB,CAACgK,MAAM;UACjC9V,OAAO,CAACkG,eAAe,CAACzE,KAAK,CAAC88B,mBAAmB,GAAG,QAAQ;UAC5D;QACJ,KAAKt9B,KAAK,CAAC6K,mBAAmB,CAACkK,KAAK;UAChChW,OAAO,CAACkG,eAAe,CAACzE,KAAK,CAAC88B,mBAAmB,GAAG,OAAO;UAC3D;MAAM;MAGd,QAAQ,IAAI,CAACC,iBAAiB;QAC1B,KAAKv9B,KAAK,CAACw9B,iBAAiB,CAACC,GAAG;UAC5B;QACJ,KAAKz9B,KAAK,CAACw9B,iBAAiB,CAAC3oB,MAAM;UAC/B9V,OAAO,CAACkG,eAAe,CAACzE,KAAK,CAACk9B,mBAAmB,GAAG,QAAQ;UAC5D;QACJ,KAAK19B,KAAK,CAACw9B,iBAAiB,CAACG,MAAM;UAC/B5+B,OAAO,CAACkG,eAAe,CAACzE,KAAK,CAACk9B,mBAAmB,GAAG,QAAQ;UAC5D;MAAM;;EAGtB,CAAC;EAEDb,iCAAO,GAAP;IACI,OAAO,IAAI,CAACliB,GAAG,GAAG,IAAI,GAAG,KAAK;EAClC,CAAC;EAnGD;EAEgBkiB,2BAAW,GAAG,IAAIxxB,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,KAAK,CAAC;EACtDqxB,gCAAgB,GAAG,IAAIxxB,4BAAY,CAC/CA,wBAAQ,CAACE,IAAI,EACb,UAAU,EACVvL,KAAK,CAACg9B,QAAQ,EACdh9B,KAAK,CAACg9B,QAAQ,CAACI,KAAK,CACvB;EACeP,2CAA2B,GAAG,IAAIxxB,4BAAY,CAC1DA,wBAAQ,CAACE,IAAI,EACb,qBAAqB,EACrBvL,KAAK,CAAC6K,mBAAmB,EACzB7K,KAAK,CAAC6K,mBAAmB,CAACC,IAAI,CACjC;EACe+xB,yCAAyB,GAAG,IAAIxxB,4BAAY,CACxDA,wBAAQ,CAACE,IAAI,EACb,mBAAmB,EACnBvL,KAAK,CAACw9B,iBAAiB,EACvBx9B,KAAK,CAACw9B,iBAAiB,CAACC,GAAG,CAC9B;EAGDhyB,YADC,4BAAQ,EAACoxB,eAAe,CAAC/gB,WAAW,CAAC,4CACzB;EAGbrQ,YADC,4BAAQ,EAACoxB,eAAe,CAACe,gBAAgB,CAAC,iDAClB;EAGzBnyB,YADC,4BAAQ,EAACoxB,eAAe,CAACnxB,2BAA2B,CAAC,4DACP;EAG/CD,YADC,4BAAQ,EAACoxB,eAAe,CAACgB,yBAAyB,CAAC,0DACT;EAoE/C,sBAAC;CAAA,CArGoCxyB,kCAAkB;AAA1CjK;AAuGb;EAA+BC;EAA/B;IAAA;IAyBI;IAEQC,YAAM,GAAkB,EAAE;IAC1BA,oBAAc,GAAkB,EAAE;;EAsb9C;EAncIC,sBAAI8I,sCAAe;SAAnB;MACI,OAAO,IAAI,CAAC3I,QAAQ,CAAC2I,SAAS,CAACyzB,uBAAuB,CAAC;IAC3D,CAAC;;;;EAaSzzB,gCAAY,GAAtB,UAAuByS,IAAiB,EAAEnV,KAAa,EAAEo2B,WAAoB;IACzE,IAAI,CAACjhB,IAAI,CAAClb,MAAM,IAAIm8B,WAAW,EAAE;MAC7B,IAAIjhB,IAAI,CAACkhB,YAAY,EAAE;QACnB,IAAIr2B,KAAK,GAAG,CAAC,IAAIA,KAAK,IAAI,IAAI,CAACwxB,MAAM,CAACnoB,MAAM,EAAE;UAC1C,IAAI,CAACmoB,MAAM,CAAC5uB,IAAI,CAACuS,IAAI,CAAC;SACzB,MAAM;UACH,IAAI,CAACqc,MAAM,CAACjhB,MAAM,CAACvQ,KAAK,EAAE,CAAC,EAAEmV,IAAI,CAAC;;QAGtCA,IAAI,CAAC5F,SAAS,CAAC,IAAI,CAAC;OACvB,MAAM;QACH,MAAM,IAAItP,KAAK,CAACC,iBAAO,CAACC,MAAM,CAACm2B,wBAAwB,CAACnhB,IAAI,CAAC9X,eAAe,EAAE,CAAC,CAAC;;KAEvF,MAAM;MACH,MAAM,IAAI4C,KAAK,CAACC,iBAAO,CAACC,MAAM,CAACo2B,sBAAsB,EAAE,CAAC;;EAEhE,CAAC;EAES7zB,kDAA8B,GAAxC;IACI,OAAO,OAAO;EAClB,CAAC;EAESA,mCAAe,GAAzB;IACI,IAAI,IAAI,CAACwxB,eAAe,CAACriB,OAAO,EAAE,IAAI,IAAI,CAACvU,eAAe,EAAE;MACxD,IAAI,CAAC42B,eAAe,CAACsC,KAAK,CAAC,IAAI,CAAC;;IAGpCl4B,iBAAMk2B,eAAe,WAAE;EAC3B,CAAC;EAES9xB,4BAAQ,GAAlB,UAAmBtL,OAAoB;IACnC,IAAI,IAAI,CAACq/B,GAAG,KAAKj9B,SAAS,EAAE;MACxBpC,OAAO,CAACs/B,GAAG,GAAG,IAAI,CAACD,GAAG,GAAG,KAAK,GAAG,KAAK;;EAE9C,CAAC;EAES/zB,kCAAc,GAAxB;IACI,IAAI,CAACi0B,cAAc,GAAG,EAAE;IAExB;IACA,IAAMh/B,UAAU,GAAG,IAAI,CAACA,UAAU;IAElC,IAAMP,OAAO,GAAGa,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAE7C,IAAI,CAAC0+B,QAAQ,CAACx/B,OAAO,CAAC;IAEtBA,OAAO,CAAC2J,SAAS,CAACC,GAAG,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,cAAc,CAAC,CAAC;IAClEhB,OAAO,CAACyB,KAAK,CAAC+C,OAAO,GAAG,MAAM;IAC9BxE,OAAO,CAACyB,KAAK,CAAC6lB,aAAa,GAAG,QAAQ;IAEtC,IAAIrkB,uBAAc,CAACC,+BAA+B,EAAE;MAChD;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAlD,OAAO,CAACyB,KAAK,CAACqE,SAAS,GAAG,qBAAqB;;IAGnD,QAAQ,IAAI,CAAC25B,oCAAoC,EAAE;MAC/C,KAAKx+B,KAAK,CAACw9B,iBAAiB,CAAC3oB,MAAM;QAC/B9V,OAAO,CAACyB,KAAK,CAACqa,cAAc,GAAG,QAAQ;QACvC;MACJ,KAAK7a,KAAK,CAACw9B,iBAAiB,CAACG,MAAM;QAC/B5+B,OAAO,CAACyB,KAAK,CAACqa,cAAc,GAAG,UAAU;QACzC;MACJ;QACI9b,OAAO,CAACyB,KAAK,CAACqa,cAAc,GAAG,YAAY;QAC3C;IAAM;IAGd,IAAI,IAAI,CAACse,MAAM,CAACnoB,MAAM,GAAG,CAAC,EAAE;MACxB,KAAmB,UAAW,EAAXuG,SAAI,CAAC4hB,MAAM,EAAX5vB,cAAW,EAAXA,IAAW,EAAE;QAA3B,IAAMuT,IAAI;QACX,IAAM2hB,YAAY,GAAG,IAAI,CAACvhB,gBAAgB,CAACJ,IAAI,CAAC,GAAGA,IAAI,CAAC9E,MAAM,EAAE,GAAG7W,SAAS;QAE5E,IAAIs9B,YAAY,EAAE;UACd,IAAI,IAAI,CAACH,cAAc,CAACttB,MAAM,GAAG,CAAC,IAAI8L,IAAI,CAAC1X,gBAAgB,EAAE;YACzD0X,IAAI,CAAC1X,gBAAgB,CAAC5E,KAAK,CAACU,IAAI,GAAG,UAAU;YAE7CZ,KAAK,CAACuV,WAAW,CAAC9W,OAAO,EAAE+d,IAAI,CAAC1X,gBAAgB,CAAC;;UAGrD9E,KAAK,CAACuV,WAAW,CAAC9W,OAAO,EAAE0/B,YAAY,CAAC;UAExC,IAAI,CAACH,cAAc,CAAC/zB,IAAI,CAACuS,IAAI,CAAC;;;KAGzC,MAAM;MACH,IAAI,IAAI,CAACzZ,YAAY,EAAE,EAAE;QACrB,IAAMq7B,kBAAkB,GAAG,IAAI,CAAC31B,wBAAwB,EAAE;QAC1D21B,kBAAkB,CAACl+B,KAAK,CAACQ,KAAK,GAAG,MAAM;QACvC09B,kBAAkB,CAACl+B,KAAK,CAACI,MAAM,GAAG,MAAM;QAExC7B,OAAO,CAAC8W,WAAW,CAAC6oB,kBAAkB,CAAC;;;IAI/C,OAAO3/B,OAAO;EAClB,CAAC;EAESsL,oCAAgB,GAA1B,UAA2BzG,SAAiB;IACxC,IAAI,IAAI,CAACqB,eAAe,EAAE;MACtB;MACA,IAAM05B,UAAQ,GAAG,IAAI,CAAC15B,eAAe,CAAC25B,SAAS,GAAGh7B,SAAS,GAAG,CAAC;MAE/D,IAAMi7B,eAAa,GAAG,UAACrgB,WAAwB;QAC3C,IAAMsgB,GAAG,GAAGtgB,WAAW,CAACvZ,eAAe;QAEvC,IAAI65B,GAAG,EAAE;UACL,QAAQx+B,KAAK,CAACy+B,YAAY,CAACD,GAAG,EAAEH,UAAQ,CAAC;YACrC,KAAK3+B,KAAK,CAACg/B,kBAAkB,CAACC,gBAAgB;cAC1C,IAAM96B,WAAW,GAAGqa,WAAW,CAAC,eAAe,CAAC,EAAE;cAClD;cACA;cACA,IAAIra,WAAW,EAAE;gBACb06B,eAAa,CAACrgB,WAAW,CAAC;;cAE9B;YACJ,KAAKxe,KAAK,CAACg/B,kBAAkB,CAACE,WAAW;cACrC,IAAMC,kBAAkB,GAAGR,UAAQ,GAAGG,GAAG,CAACF,SAAS;cACnDpgB,WAAW,CAAC,gBAAgB,CAAC,CAAC2gB,kBAAkB,CAAC;cACjD;YACJ,KAAKn/B,KAAK,CAACg/B,kBAAkB,CAACI,mBAAmB;cAC7C5gB,WAAW,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;cAChC;UAAM;;MAGtB,CAAC;MAED,KAAmB,UAAW,EAAXjH,SAAI,CAAC4hB,MAAM,EAAX5vB,cAAW,EAAXA,IAAW,EAAE;QAA3B,IAAMuT,IAAI;QACX+hB,eAAa,CAAC/hB,IAAI,CAAC;;MAGvB,OAAO,IAAI;;IAGf,OAAO,KAAK;EAChB,CAAC;EAESzS,0CAAsB,GAAhC;IACI,KAAmB,UAAW,EAAXkN,SAAI,CAAC4hB,MAAM,EAAX5vB,cAAW,EAAXA,IAAW,EAAE;MAA3B,IAAMuT,IAAI;MACXA,IAAI,CAAC,eAAe,CAAC,EAAE;;EAE/B,CAAC;EAESzS,oCAAgB,GAA1B,UAA2B5E,sBAAuC;IAAvC;MAAAA,8BAAuC;IAAA;IAC9D,IAAIgB,MAAM,GAAGhB,sBAAsB,GAAG,KAAK,GAAG,IAAI,CAACo2B,eAAe,CAACriB,OAAO,EAAE;IAE5E,OAAO/S,MAAM,IAAIR,iBAAM81B,gBAAgB,YAACt2B,sBAAsB,CAAC;EACnE,CAAC;EAES4E,qCAAiB,GAA3B;IACI,OAAO,KAAK;EAChB,CAAC;EAESA,iCAAa,GAAvB,UAAwBrE,MAAW,EAAEL,OAA6B;IAC9DM,iBAAMmR,aAAa,YAACpR,MAAM,EAAEL,OAAO,CAAC;IAEpC,IAAI,CAACgzB,KAAK,EAAE;IACZ,IAAI,CAAC0G,iBAAiB,CAAC,KAAK,CAAC;IAE7B,IAAIC,SAAS,GAAGt5B,MAAM,CAAC,IAAI,CAACu5B,8BAA8B,EAAE,CAAC;IAE7D,IACI,CAACloB,KAAK,CAACC,OAAO,CAACgoB,SAAS,CAAC,IACzB,OAAOA,SAAS,KAAK,QAAQ,IAC7B,IAAI,CAACE,iBAAiB,EAAE,EAC1B;MACE,IAAMC,QAAQ,GAAGn/B,KAAK,CAACwzB,WAAW,CAACwL,SAAS,CAAC,MAAM,CAAC,CAAC;MACrD,IAAIG,QAAQ,EAAE;QACV,IAAMC,YAAY,GAAG/5B,OAAO,CAACC,eAAe,CAACC,UAAU,CAAC45B,QAAQ,CAAC;QACjE,IAAI,aAAY,aAAZC,YAAY,uBAAZA,YAAY,CAAEC,iBAAiB,MAAKx0B,mCAAwB,CAACC,UAAU,EAAE;UACzE,IAAMrM,OAAO,GAAG4G,OAAO,CAAC+R,YAAY,CAChC,IAAI,EACJ4nB,SAAS,EACT,EAAE,EACF,CAAC,IAAI,CAACj8B,YAAY,EAAE,EACpB,IAAI,CACP;UAED,IAAItE,OAAO,EAAE;YACT,IAAI,CAAC6gC,YAAY,CAAC7gC,OAAO,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC;;;;KAInD,MAAM,IAAIsY,KAAK,CAACC,OAAO,CAACgoB,SAAS,CAAC,EAAE;MACjC,KAAmB,UAAS,EAATO,uBAAS,EAATt2B,uBAAS,EAATA,IAAS,EAAE;QAAzB,IAAMuT,IAAI;QACX,IAAM/d,OAAO,GAAG4G,OAAO,CAAC+R,YAAY,CAChC,IAAI,EACJoF,IAAI,EACJ,IAAI,CAACgjB,sBAAsB,EAAE,EAC7B,CAAC,IAAI,CAACz8B,YAAY,EAAE,CACvB;QAED,IAAItE,OAAO,EAAE;UACT,IAAI,CAAC6gC,YAAY,CAAC7gC,OAAO,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC;;;;EAIpD,CAAC;EAESsL,kCAAc,GAAxB,UAAyBgC,MAAmB,EAAE1G,OAA6B;IACvEM,iBAAM2R,cAAc,YAACvL,MAAM,EAAE1G,OAAO,CAAC;IAErC,IAAMo6B,sBAAsB,GAAG,IAAI,CAACR,8BAA8B,EAAE;IAEpE,IACI,IAAI,CAACpG,MAAM,CAACnoB,MAAM,KAAK,CAAC,IACxB,IAAI,CAACmoB,MAAM,CAAC,CAAC,CAAC,CAAC6G,2BAA2B,EAAE,KAAK70B,mCAAwB,CAAC80B,IAAI,EAChF;MACE;MACAt6B,OAAO,CAAC2G,cAAc,CAACD,MAAM,EAAE0zB,sBAAsB,EAAE,IAAI,CAAC5G,MAAM,CAAC,CAAC,CAAC,CAAC5sB,MAAM,CAAC5G,OAAO,CAAC,CAAC;KACzF,MAAM;MACHA,OAAO,CAAC+tB,cAAc,CAACrnB,MAAM,EAAE0zB,sBAAsB,EAAE,IAAI,CAAC5G,MAAM,CAAC;;EAE3E,CAAC;EAED53B,sBAAc8I,mCAAY;SAA1B;MACI,OAAO,IAAI;IACf,CAAC;;;;EAEDA,uCAAmB,GAAnB;IACI,IACIrI,uBAAc,CAACk+B,8CAA8C,IAC7D,CAAC,IAAI,CAACnE,gBAAgB,CAAC,IAAI,CAAC,EAC9B;MACE,OAAO,IAAI/5B,0BAAiB,EAAE;;IAGlC,OAAOiE,iBAAMnD,mBAAmB,WAAE;EACtC,CAAC;EAEDuH,wDAAoC,GAApC;IACI,IAAI,IAAI,CAAC81B,wBAAwB,KAAKh/B,SAAS,EAAE;MAC7C,OAAO,IAAI,CAACg/B,wBAAwB;;IAGxC,IAAMv9B,eAAe,GAAG,IAAI,CAACC,kBAAkB,EAAE;IAEjD,OAAOD,eAAe,GAChBA,eAAe,CAAC47B,oCAAoC,EAAE,GACtDx+B,KAAK,CAACw9B,iBAAiB,CAACC,GAAG;EACrC,CAAC;EAEDpzB,gCAAY,GAAZ;IACI,OAAO,IAAI,CAAC8uB,MAAM,CAACnoB,MAAM;EAC7B,CAAC;EAED3G,6BAAS,GAAT,UAAU1C,KAAa;IACnB,OAAO,IAAI,CAACwxB,MAAM,CAACxxB,KAAK,CAAC;EAC7B,CAAC;EAED0C,+CAA2B,GAA3B;IACI,IAAI,IAAI,CAACpF,eAAe,IAAI,IAAI,CAACq5B,cAAc,IAAI,IAAI,CAACA,cAAc,CAACttB,MAAM,GAAG,CAAC,EAAE;MAC/E,KAAmB,UAAmB,EAAnBuG,SAAI,CAAC+mB,cAAc,EAAnB/0B,cAAmB,EAAnBA,IAAmB,EAAE;QAAnC,IAAMuT,IAAI;QACX,IAAIA,IAAI,CAAC3a,SAAS,EAAE;UAChB,OAAO2a,IAAI;;;;IAKvB,OAAO3b,SAAS;EACpB,CAAC;EAEDkJ,8CAA0B,GAA1B;IACI,IAAI,IAAI,CAACpF,eAAe,IAAI,IAAI,CAACq5B,cAAc,IAAI,IAAI,CAACA,cAAc,CAACttB,MAAM,GAAG,CAAC,EAAE;MAC/E,KAAK,IAAI/I,CAAC,GAAG,IAAI,CAACq2B,cAAc,CAACttB,MAAM,GAAG,CAAC,EAAE/I,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;QACtD,IAAI,IAAI,CAACq2B,cAAc,CAACr2B,CAAC,CAAC,CAAC9F,SAAS,EAAE;UAClC,OAAO,IAAI,CAACm8B,cAAc,CAACr2B,CAAC,CAAC;;;;IAKzC,OAAO9G,SAAS;EACpB,CAAC;EAEDkJ,mCAAe,GAAf;IACI,OAAO,WAAW;EACtB,CAAC;EAEDA,kCAAc,GAAd,UAAetL,OAAoB;IAC/B,IAAM6K,UAAU,GAAG,IAAI,CAACvG,YAAY,EAAE;IAEtC,KAAmB,UAAW,EAAXkU,SAAI,CAAC4hB,MAAM,EAAX5vB,cAAW,EAAXA,IAAW,EAAE;MAA3B,IAAMuT,IAAI;MACX,IAAIA,IAAI,CAAC3a,SAAS,IAAIyH,UAAU,EAAE;QAC9B,OAAOkT,IAAI,KAAK/d,OAAO;;;IAI/B,OAAO,KAAK;EAChB,CAAC;EAEDsL,iCAAa,GAAb,UAActL,OAAoB;IAC9B,IAAM6K,UAAU,GAAG,IAAI,CAACvG,YAAY,EAAE;IAEtC,KAAK,IAAI4E,CAAC,GAAG,IAAI,CAACkxB,MAAM,CAACnoB,MAAM,GAAG,CAAC,EAAE/I,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;MAC9C,IAAI,IAAI,CAACkxB,MAAM,CAAClxB,CAAC,CAAC,CAAC9F,SAAS,IAAIyH,UAAU,EAAE;QACxC,OAAO,IAAI,CAACuvB,MAAM,CAAClxB,CAAC,CAAC,KAAKlJ,OAAO;;;IAIzC,OAAO,KAAK;EAChB,CAAC;EAEDsL,yBAAK,GAAL;IACI,IAAI,IAAI,CAAC+zB,GAAG,KAAKj9B,SAAS,EAAE;MACxB,OAAO,IAAI,CAACi9B,GAAG;KAClB,MAAM;MACH,IAAMx7B,eAAe,GAAG,IAAI,CAACC,kBAAkB,EAAE;MAEjD,OAAOD,eAAe,GAAGA,eAAe,CAACw9B,KAAK,EAAE,GAAG,KAAK;;EAEhE,CAAC;EAED/1B,mCAAe,GAAf;IACI,IAAMg2B,iBAAiB,GAAG,IAAI,CAACC,2BAA2B,EAAE;IAE5D,OACI,IAAI,CAACj7B,UAAU,EAAE,KAAKg7B,iBAAiB,GAAGA,iBAAiB,CAACE,eAAe,EAAE,GAAG,KAAK,CAAC;EAE9F,CAAC;EAEDl2B,sCAAkB,GAAlB;IACI,IAAMm2B,gBAAgB,GAAG,IAAI,CAACC,0BAA0B,EAAE;IAE1D,OACI,IAAI,CAACp7B,UAAU,EAAE,KAChBm7B,gBAAgB,GACXA,gBAAgB,CAACrF,kBAAkB,EAAE,IACrCqF,gBAAgB,CAACr6B,iBAAiB,EAAE,KAAK,IAAI,CAACA,iBAAiB,EAAE,GACjE,KAAK,CAAC;EAEpB,CAAC;EAEDkE,2BAAO,GAAP,UAAQmU,WAAwB;IAC5B,OAAO,IAAI,CAAC2a,MAAM,CAACluB,OAAO,CAACuT,WAAW,CAAC;EAC3C,CAAC;EAEDnU,2BAAO,GAAP,UAAQyS,IAAiB;IACrB,IAAI,CAAC8iB,YAAY,CAAC9iB,IAAI,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC;EACtC,CAAC;EAEDzS,oCAAgB,GAAhB,UAAiByS,IAAiB,EAAE4jB,YAAyB;IACzD,IAAI,CAACd,YAAY,CAAC9iB,IAAI,EAAE,IAAI,CAACqc,MAAM,CAACluB,OAAO,CAACy1B,YAAY,CAAC,EAAE,KAAK,CAAC;EACrE,CAAC;EAEDr2B,mCAAe,GAAf,UAAgByS,IAAiB,EAAE6jB,WAAwB;IACvD,IAAI,CAACf,YAAY,CAAC9iB,IAAI,EAAE,IAAI,CAACqc,MAAM,CAACluB,OAAO,CAAC01B,WAAW,CAAC,GAAG,CAAC,EAAE,KAAK,CAAC;EACxE,CAAC;EAEDt2B,8BAAU,GAAV,UAAWyS,IAAiB;IACxB,IAAMyB,SAAS,GAAG,IAAI,CAAC4a,MAAM,CAACluB,OAAO,CAAC6R,IAAI,CAAC;IAE3C,IAAIyB,SAAS,IAAI,CAAC,EAAE;MAChB,IAAI,CAAC4a,MAAM,CAACjhB,MAAM,CAACqG,SAAS,EAAE,CAAC,CAAC;MAEhCzB,IAAI,CAAC5F,SAAS,CAAC/V,SAAS,CAAC;MAEzB,IAAI,CAAC2H,YAAY,EAAE;MAEnB,OAAO,IAAI;;IAGf,OAAO,KAAK;EAChB,CAAC;EAEDuB,yBAAK,GAAL;IACI,IAAI,CAAC8uB,MAAM,GAAG,EAAE;IAChB,IAAI,CAACmF,cAAc,GAAG,EAAE;EAC5B,CAAC;EAEDj0B,0CAAsB,GAAtB;IACI,IAAM5D,MAAM,GAAGR,iBAAMwX,sBAAsB,WAAE;IAE7C,IAAI,IAAI,CAACoe,eAAe,CAACriB,OAAO,EAAE,EAAE;MAChC/S,MAAM,CAAC8D,IAAI,CAAC;QACR;QACAoQ,GAAG,EAAE,IAAI,CAACkhB,eAAe,CAAClhB,GAAI;QAC9BuB,QAAQ,EAAE;OACb,CAAC;;IAGN,OAAOzV,MAAM;EACjB,CAAC;EAED4D,iCAAa,GAAb,UAAc7B,EAAU;IACpB,IAAI/B,MAAM,GAAuBR,iBAAMgW,aAAa,YAACzT,EAAE,CAAC;IAExD,IAAI,CAAC/B,MAAM,EAAE;MACT,IAAI,IAAI,CAACuJ,YAAY,EAAE;QACnBvJ,MAAM,GAAG,IAAI,CAACuJ,YAAY,CAACiM,aAAa,CAACzT,EAAE,CAAC;;MAGhD,IAAI,CAAC/B,MAAM,EAAE;QACT,KAAmB,UAAW,EAAX8Q,SAAI,CAAC4hB,MAAM,EAAX5vB,cAAW,EAAXA,IAAW,EAAE;UAA3B,IAAMuT,IAAI;UACXrW,MAAM,GAAGqW,IAAI,CAACb,aAAa,CAACzT,EAAE,CAAC;UAE/B,IAAI/B,MAAM,EAAE;YACR;;;;;IAMhB,OAAOA,MAAM;EACjB,CAAC;EAEDlF,sBAAI8I,8BAAO;SAAX;MACI,OAAO,IAAI,CAACI,UAAU,EAAE;IAC5B,CAAC;SAED,UAAY5I,KAAoC;MAC5C,IAAI,CAAC++B,UAAU,CAAC/+B,KAAK,CAAC;IAC1B,CAAC;;;;EAEDN,sBAAI8I,mCAAY;SAAhB;MACI,OAAO,IAAI,CAAC+S,aAAa;IAC7B,CAAC;SAED,UAAiBvb,KAAyB;MACtC,IAAI,CAACub,aAAa,GAAGvb,KAAK;IAC9B,CAAC;;;;EAEDN,sBAAI8I,4BAAK;SAAT;MACI,OAAO,IAAI,CAACqyB,QAAQ,EAAE;IAC1B,CAAC;SAED,UAAU76B,KAAc;MACpB,IAAI,CAACg/B,QAAQ,CAACh/B,KAAK,CAAC;IACxB,CAAC;;;;EAhdD;EACgBwI,iCAAuB,GAAG,IAAIgB,0CAA0B,CACpEA,wBAAQ,CAACG,IAAI,EACb,iBAAiB,EACjBqxB,eAAe,CAClB;EACexyB,0CAAgC,GAAG,IAAIgB,4BAAY,CAC/DA,wBAAQ,CAACC,IAAI,EACb,0BAA0B,EAC1BtL,KAAK,CAACw9B,iBAAiB,CAC1B;EACenzB,qBAAW,GAAG,IAAIgB,4BAAY,CAACA,wBAAQ,CAACG,IAAI,EAAE,KAAK,CAAC;EAGpEC,YADC,4BAAQ,EAACpB,SAAS,CAACyzB,uBAAuB,CAAC,gDAG3C;EAGDryB,YADC,4BAAQ,EAACpB,SAAS,CAACy2B,gCAAgC,CAAC,2DACF;EAGnDr1B,YADC,4BAAQ,EAACpB,SAAS,CAAC02B,WAAW,CAAC,sCAClB;EA2blB,gBAAC;CAAA,CAld8BzE,aAAa;AAA/Bl7B;AAsdb;EAA4BC;EAsHxB,gBAAYL,KAA8B;IAA9B;MAAAA,iBAA8B;IAAA;IAA1C,YACIiF,iBAAO;IAjDX3E,WAAK,GAAgB,SAAS;IAE9B;IAEQA,qBAAe,GAAW,CAAC;IA+C/BA,KAAI,CAACN,KAAK,GAAGA,KAAK;;EACtB;EA9CUggC,0CAAyB,GAAnC,UAAoC/7B,eAA4B;IAC5D,IAAMg8B,yBAAyB,GAAG,EAAE;IAEpC,IAAI,IAAI,CAAC59B,YAAY,EAAE,EAAE;MACrB4B,eAAe,CAACzE,KAAK,CAAC8a,QAAQ,GAAG,MAAM;MACvCrW,eAAe,CAACzE,KAAK,CAACqE,SAAS,GAC3B,CAAC,CAAC,IAAI,CAAC03B,cAAc,GACf0E,yBAAyB,GACzBvH,IAAI,CAACjM,GAAG,CAAC,IAAI,CAAC8O,cAAc,EAAE0E,yBAAyB,CAAC,IAAI,IAAI;KAC7E,MAAM;MACHh8B,eAAe,CAACzE,KAAK,CAAC8a,QAAQ,GAAG,GAAG;MAEpC,IAAI,IAAI,CAACihB,cAAc,EAAE;QACrBt3B,eAAe,CAACzE,KAAK,CAACqE,SAAS,GAAG,IAAI,CAAC03B,cAAc,GAAG,IAAI;;;IAIpE,IAAI,IAAI,CAACv7B,KAAK,KAAK,MAAM,EAAE;MACvBiE,eAAe,CAACzE,KAAK,CAACU,IAAI,GAAG,UAAU;KAC1C,MAAM,IAAI,IAAI,CAACF,KAAK,KAAK,SAAS,EAAE;MACjCiE,eAAe,CAACzE,KAAK,CAACU,IAAI,GAAG,UAAU;KAC1C,MAAM,IAAI,IAAI,CAACF,KAAK,YAAYgB,oBAAW,EAAE;MAC1C,IAAI,IAAI,CAAChB,KAAK,CAACyY,IAAI,KAAKzZ,KAAK,CAAC0Z,QAAQ,CAACC,KAAK,EAAE;QAC1C1U,eAAe,CAACzE,KAAK,CAACU,IAAI,GAAG,UAAU;QACvC+D,eAAe,CAACzE,KAAK,CAACQ,KAAK,GAAG,IAAI,CAACA,KAAK,CAAC4Y,YAAY,GAAG,IAAI;OAC/D,MAAM;QACH3U,eAAe,CAACzE,KAAK,CAACU,IAAI,GACtB,MAAM,IACL,IAAI,CAACggC,eAAe,GAAG,CAAC,GAAG,IAAI,CAACA,eAAe,GAAG,IAAI,CAAClgC,KAAK,CAAC4Y,YAAY,CAAC,GAC3E,GAAG;;;EAGnB,CAAC;EAESonB,gCAAe,GAAzB,UAA0BG,QAA8B;IACpD,OAAO,IAAI;EACf,CAAC;EAED5/B,sBAAcy/B,wCAAoB;SAAlC;MACI,OAAOhhC,KAAK,CAACC,WAAW,CAACmhC,QAAQ;IACrC,CAAC;;;;EAQDJ,gCAAe,GAAf;IACI,OAAO,QAAQ;EACnB,CAAC;EAEDz/B,sBAAIy/B,uCAAmB;SAAvB;MACI,IAAI,IAAI,CAACp/B,MAAM,IAAI,IAAI,CAACA,MAAM,YAAYy/B,SAAS,EAAE;QACjD,OAAO,IAAI,CAACj8B,gBAAgB,KAAKjE,SAAS,IAAI,CAAC,IAAI,CAACS,MAAM,CAACyF,iBAAiB,CAAC,IAAI,CAAC;OACrF,MAAM;QACH,OAAO,KAAK;;IAEpB,CAAC;;;;EAED9F,sBAAIy/B,gCAAY;SAAhB;MACI,OAAO,KAAK;IAChB,CAAC;;;;EAzID;EAEgBA,oBAAa,GAAG,IAAI31B,8BAAc,CAC9CA,wBAAQ,CAACG,IAAI,EACb,OAAO,EACP,UACIW,MAA0B,EAC1BgiB,IAAwB,EACxBnoB,MAAmB,EACnBL,OAAiC;IAEjC,IAAIc,MAAM,GAAgB0nB,IAAI,CAAC5U,YAAY;IAC3C,IAAM1X,KAAK,GAAGmE,MAAM,CAACmoB,IAAI,CAACniB,IAAI,CAAC;IAC/B,IAAIs1B,YAAY,GAAG,KAAK;IAExB,IAAI,OAAOz/B,KAAK,KAAK,QAAQ,IAAI,CAACqY,KAAK,CAACrY,KAAK,CAAC,EAAE;MAC5C4E,MAAM,GAAG,IAAIzE,oBAAW,CAACH,KAAK,EAAE7B,KAAK,CAAC0Z,QAAQ,CAAC6nB,MAAM,CAAC;KACzD,MAAM,IAAI1/B,KAAK,KAAK,MAAM,IAAIA,KAAK,KAAK,SAAS,EAAE;MAChD4E,MAAM,GAAG5E,KAAK;KACjB,MAAM,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;MAClC,IAAI;QACA4E,MAAM,GAAGzE,oBAAW,CAACkE,KAAK,CAACrE,KAAK,CAAC;QAEjC,IACI4E,MAAM,CAACgT,IAAI,KAAKzZ,KAAK,CAAC0Z,QAAQ,CAACC,KAAK,IACpCwU,IAAI,CAACpiB,aAAa,CAACy1B,SAAS,CAAC77B,OAAO,CAACoG,aAAa,CAAC,GAAG,CAAC,EACzD;UACEu1B,YAAY,GAAG,IAAI;;OAE1B,CAAC,OAAOtvB,CAAC,EAAE;QACRsvB,YAAY,GAAG,IAAI;;KAE1B,MAAM;MACHA,YAAY,GAAG,IAAI;;IAGvB,IAAIA,YAAY,EAAE;MACd37B,OAAO,CAACmU,aAAa,CACjB3N,MAAM,EACNnM,KAAK,CAAC+Z,eAAe,CAACC,oBAAoB,EAC1CnS,iBAAO,CAACC,MAAM,CAAC25B,kBAAkB,CAAC5/B,KAAK,CAAC,CAC3C;MAED4E,MAAM,GAAG,MAAM;;IAGnB,OAAOA,MAAM;EACjB,CAAC,EACD,UACI0F,MAA0B,EAC1Bu1B,QAA4B,EAC5Br1B,MAAmB,EACnBxK,KAAkB,EAClB8D,OAAiC;IAEjC,IAAI9D,KAAK,YAAYG,oBAAW,EAAE;MAC9B,IAAIH,KAAK,CAAC4X,IAAI,KAAKzZ,KAAK,CAAC0Z,QAAQ,CAACC,KAAK,EAAE;QACrChU,OAAO,CAAC2G,cAAc,CAACD,MAAM,EAAE,OAAO,EAAExK,KAAK,CAAC+X,YAAY,GAAG,IAAI,CAAC;OACrE,MAAM;QACHjU,OAAO,CAACg8B,eAAe,CAACt1B,MAAM,EAAE,OAAO,EAAExK,KAAK,CAAC+X,YAAY,CAAC;;KAEnE,MAAM;MACHjU,OAAO,CAAC2G,cAAc,CAACD,MAAM,EAAE,OAAO,EAAExK,KAAK,CAAC;;EAEtD,CAAC,EACD,SAAS,CACZ;EAGD4J,YADC,4BAAQ,EAACu1B,MAAM,CAACY,aAAa,CAAC,qCACA;EAqEnC,aAAC;CAAA,CA3I2Bv3B,SAAS;AAAxBjJ;AA6Ib;EAA+BC;EAA/B;IAAA;IACYC,cAAQ,GAAa,EAAE;;EA+TnC;EA5TY+/B,wCAAoB,GAA5B,UAA6Br7B,MAAW,EAAEL,OAA6B;IACnE,OAAOA,OAAO,CAACk8B,eAAe,CAC1B,IAAI,EACJ77B,MAAM,EACN,EAAE,EACF,CAAC,IAAI,CAAC3C,YAAY,EAAE,EACpB,UAACo8B,QAAgB;MACb,OAAO,CAACA,QAAQ,IAAIA,QAAQ,KAAK,QAAQ,GAAG,IAAIuB,MAAM,EAAE,GAAG7/B,SAAS;IACxE,CAAC,EACD,UAACs+B,QAAgB,EAAEqC,UAA+B;MAC9Cn8B,OAAO,CAACmU,aAAa,CACjB3Y,SAAS,EACTnB,KAAK,CAAC+Z,eAAe,CAACgoB,qBAAqB,EAC3Cl6B,iBAAO,CAACC,MAAM,CAACqV,qBAAqB,CAACsiB,QAAQ,CAAC,CACjD;IACL,CAAC,CACJ;EACL,CAAC;EAES4B,kCAAc,GAAxB;IACI,IAAI,CAACW,gBAAgB,GAAG,EAAE;IAE1B,IAAI,IAAI,CAACC,QAAQ,CAACjxB,MAAM,GAAG,CAAC,EAAE;MAC1B;MACA,IAAM1R,UAAU,GAAG,IAAI,CAACA,UAAU;MAElC,IAAMP,OAAO,GAAGa,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;MAC7Cd,OAAO,CAACe,SAAS,GAAGR,UAAU,CAACS,gBAAgB,CAAC,cAAc,CAAC;MAC/DhB,OAAO,CAACyB,KAAK,CAAC+C,OAAO,GAAG,MAAM;MAE9B,IAAIvB,uBAAc,CAACC,+BAA+B,EAAE;QAChD;QACAlD,OAAO,CAACyB,KAAK,CAACqE,SAAS,GAAG,qBAAqB;;MAGnD,QAAQ,IAAI,CAAC+F,+BAA+B,EAAE;QAC1C,KAAK5K,KAAK,CAAC6K,mBAAmB,CAACgK,MAAM;UACjC9V,OAAO,CAACyB,KAAK,CAACqa,cAAc,GAAG,QAAQ;UACvC;QACJ,KAAK7a,KAAK,CAAC6K,mBAAmB,CAACkK,KAAK;UAChChW,OAAO,CAACyB,KAAK,CAACqa,cAAc,GAAG,UAAU;UACzC;QACJ;UACI9b,OAAO,CAACyB,KAAK,CAACqa,cAAc,GAAG,YAAY;UAC3C;MAAM;MAGd,IAAIqnB,WAAW,GAAW,CAAC;MAE3B,KAAqB,UAAa,EAAb3qB,SAAI,CAAC0qB,QAAQ,EAAb14B,cAAa,EAAbA,IAAa,EAAE;QAA/B,IAAM44B,MAAM;QACb,IACIA,MAAM,CAACnhC,KAAK,YAAYgB,oBAAW,IACnCmgC,MAAM,CAACnhC,KAAK,CAACyY,IAAI,KAAKzZ,KAAK,CAAC0Z,QAAQ,CAAC6nB,MAAM,EAC7C;UACEW,WAAW,IAAIC,MAAM,CAACnhC,KAAK,CAAC4Y,YAAY;;;MAIhD,KAAqB,UAAa,EAAb1F,SAAI,CAAC+tB,QAAQ,EAAbriB,cAAa,EAAbA,IAAa,EAAE;QAA/B,IAAMuiB,MAAM;QACb,IACIA,MAAM,CAACnhC,KAAK,YAAYgB,oBAAW,IACnCmgC,MAAM,CAACnhC,KAAK,CAACyY,IAAI,KAAKzZ,KAAK,CAAC0Z,QAAQ,CAAC6nB,MAAM,IAC3CW,WAAW,GAAG,CAAC,EACjB;UACE,IAAME,cAAc,GAAI,GAAG,GAAGF,WAAW,GAAIC,MAAM,CAACnhC,KAAK,CAAC4Y,YAAY;UAEtE;UACAuoB,MAAM,CAAC,iBAAiB,CAAC,GAAGC,cAAc;;QAG9C,IAAMC,cAAc,GAAGF,MAAM,CAACnqB,MAAM,EAAE;QAEtC,IAAIqqB,cAAc,EAAE;UAChB,IAAI,IAAI,CAACL,gBAAgB,CAAChxB,MAAM,GAAG,CAAC,IAAImxB,MAAM,CAAC/8B,gBAAgB,EAAE;YAC7D+8B,MAAM,CAAC/8B,gBAAgB,CAAC5E,KAAK,CAACU,IAAI,GAAG,UAAU;YAE/CZ,KAAK,CAACuV,WAAW,CAAC9W,OAAO,EAAEojC,MAAM,CAAC/8B,gBAAgB,CAAC;;UAGvD9E,KAAK,CAACuV,WAAW,CAAC9W,OAAO,EAAEsjC,cAAc,CAAC;UAE1C,IAAI,CAACL,gBAAgB,CAACz3B,IAAI,CAAC43B,MAAM,CAAC;;;MAI1C,OAAO,IAAI,CAACH,gBAAgB,CAAChxB,MAAM,GAAG,CAAC,GAAGjS,OAAO,GAAGoC,SAAS;KAChE,MAAM;MACH,OAAOA,SAAS;;EAExB,CAAC;EAESkgC,oCAAgB,GAA1B,UAA2Bz9B,SAAiB;IACxC,KAAqB,UAAa,EAAb2T,SAAI,CAAC0qB,QAAQ,EAAb14B,cAAa,EAAbA,IAAa,EAAE;MAA/B,IAAM44B,MAAM;MACbA,MAAM,CAAC,gBAAgB,CAAC,CAACv+B,SAAS,CAAC;;IAGvC,OAAO,IAAI;EACf,CAAC;EAESy9B,0CAAsB,GAAhC;IACI,KAAqB,UAAa,EAAb9pB,SAAI,CAAC0qB,QAAQ,EAAb14B,cAAa,EAAbA,IAAa,EAAE;MAA/B,IAAM44B,MAAM;MACbA,MAAM,CAAC,eAAe,CAAC,EAAE;;EAEjC,CAAC;EAED5gC,sBAAc8/B,mCAAY;SAA1B;MACI,OAAO,IAAI;IACf,CAAC;;;;EAESA,iCAAa,GAAvB,UAAwBr7B,MAAW,EAAEL,OAA6B;IAC9DM,iBAAMmR,aAAa,YAACpR,MAAM,EAAEL,OAAO,CAAC;IAEpC,IAAI,CAACs8B,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACD,gBAAgB,GAAG,EAAE;IAE1B,IAAMM,WAAW,GAAGt8B,MAAM,CAAC,SAAS,CAAC;IAErC,IAAIqR,KAAK,CAACC,OAAO,CAACgrB,WAAW,CAAC,EAAE;MAC5B,KAAmB,UAAW,EAAXC,2BAAW,EAAXh5B,yBAAW,EAAXA,IAAW,EAAE;QAA3B,IAAMuT,IAAI;QACX,IAAMqlB,MAAM,GAAG,IAAI,CAACK,oBAAoB,CAAC1lB,IAAI,EAAEnX,OAAO,CAAC;QAEvD,IAAIw8B,MAAM,EAAE;UACR,IAAI,CAACF,QAAQ,CAAC13B,IAAI,CAAC43B,MAAM,CAAC;;;;EAI1C,CAAC;EAESd,kCAAc,GAAxB,UAAyBh1B,MAAmB,EAAE1G,OAA6B;IACvEM,iBAAM2R,cAAc,YAACvL,MAAM,EAAE1G,OAAO,CAAC;IAErCA,OAAO,CAAC+tB,cAAc,CAACrnB,MAAM,EAAE,SAAS,EAAE,IAAI,CAAC41B,QAAQ,CAAC;EAC5D,CAAC;EAEDZ,kCAAc,GAAd,UAAetiC,OAAoB;IAC/B,KAAqB,UAAa,EAAbwY,SAAI,CAAC0qB,QAAQ,EAAb14B,cAAa,EAAbA,IAAa,EAAE;MAA/B,IAAM44B,MAAM;MACb,IAAIA,MAAM,CAAChgC,SAAS,EAAE;QAClB,OAAOggC,MAAM,KAAKpjC,OAAO;;;IAIjC,OAAO,KAAK;EAChB,CAAC;EAEDsiC,mCAAe,GAAf;IACI,IAAI,IAAI,CAACh8B,UAAU,EAAE,EAAE;MACnB,OAAO,IAAI;;IAGf,IAAI,IAAI,CAAC28B,gBAAgB,IAAI,IAAI,CAACA,gBAAgB,CAAChxB,MAAM,GAAG,CAAC,EAAE;MAC3D,KAAqB,UAAa,EAAbuG,SAAI,CAAC0qB,QAAQ,EAAb14B,cAAa,EAAbA,IAAa,EAAE;QAA/B,IAAM44B,MAAM;QACb,IAAIA,MAAM,CAAC5B,eAAe,EAAE,EAAE;UAC1B,OAAO,IAAI;;;;IAKvB,OAAO,KAAK;EAChB,CAAC;EAEDc,sCAAkB,GAAlB;IACI,IAAI,IAAI,CAACh8B,UAAU,EAAE,EAAE;MACnB,OAAO,IAAI;;IAGf,IAAI,IAAI,CAAC28B,gBAAgB,IAAI,IAAI,CAACA,gBAAgB,CAAChxB,MAAM,GAAG,CAAC,EAAE;MAC3D,KAAqB,UAAa,EAAbuG,SAAI,CAAC0qB,QAAQ,EAAb14B,cAAa,EAAbA,IAAa,EAAE;QAA/B,IAAM44B,MAAM;QACb,IAAIA,MAAM,CAAChH,kBAAkB,EAAE,EAAE;UAC7B,OAAO,IAAI;;;;IAKvB,OAAO,KAAK;EAChB,CAAC;EAEDkG,gCAAY,GAAZ;IACI,OAAO,IAAI,CAACY,QAAQ,CAACjxB,MAAM;EAC/B,CAAC;EAEDqwB,+CAA2B,GAA3B;IACI,IAAI,IAAI,CAACp8B,eAAe,IAAI,IAAI,CAAC+8B,gBAAgB,IAAI,IAAI,CAACA,gBAAgB,CAAChxB,MAAM,GAAG,CAAC,EAAE;MACnF,OAAO,IAAI,CAACgxB,gBAAgB,CAAC,CAAC,CAAC;KAClC,MAAM;MACH,OAAO7gC,SAAS;;EAExB,CAAC;EAEDkgC,8CAA0B,GAA1B;IACI,IAAI,IAAI,CAACp8B,eAAe,IAAI,IAAI,CAAC+8B,gBAAgB,IAAI,IAAI,CAACA,gBAAgB,CAAChxB,MAAM,GAAG,CAAC,EAAE;MACnF,OAAO,IAAI,CAACgxB,gBAAgB,CAAC,IAAI,CAACA,gBAAgB,CAAChxB,MAAM,GAAG,CAAC,CAAC;KACjE,MAAM;MACH,OAAO7P,SAAS;;EAExB,CAAC;EAEDkgC,+BAAW,GAAX,UAAY15B,KAAa;IACrB,OAAO,IAAI,CAACs6B,QAAQ,CAACt6B,KAAK,CAAC;EAC/B,CAAC;EAED05B,6BAAS,GAAT,UAAU15B,KAAa;IACnB,OAAO,IAAI,CAAC86B,WAAW,CAAC96B,KAAK,CAAC;EAClC,CAAC;EAED05B,mCAAe,GAAf;IACI,OAAO,WAAW;EACtB,CAAC;EAEDA,8CAA0B,GAA1B,UAA2B17B,OAA0B;IACjDM,iBAAM4W,0BAA0B,YAAClX,OAAO,CAAC;IAEzC,IAAI+8B,eAAe,GAAW,CAAC;IAC/B,IAAIC,gBAAgB,GAAW,CAAC;IAEhC,KAAqB,UAAa,EAAbprB,SAAI,CAAC0qB,QAAQ,EAAb14B,cAAa,EAAbA,IAAa,EAAE;MAA/B,IAAM44B,MAAM;MACb,IAAI,OAAOA,MAAM,CAACnhC,KAAK,KAAK,QAAQ,EAAE;QAClC0hC,eAAe,EAAE;OACpB,MAAM,IAAIP,MAAM,CAACnhC,KAAK,KAAK,SAAS,EAAE;QACnC2hC,gBAAgB,EAAE;;;IAI1B,IAAID,eAAe,GAAG,CAAC,IAAIC,gBAAgB,GAAG,CAAC,EAAE;MAC7Ch9B,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAAC6oB,IAAI,EAC1B/6B,iBAAO,CAACg7B,KAAK,CAACC,2CAA2C,EAAE,CAC9D;;EAET,CAAC;EAEDzB,6BAAS,GAAT,UAAUc,MAAc;IACpB,IAAI,CAACA,MAAM,CAACvgC,MAAM,EAAE;MAChB,IAAI,CAACqgC,QAAQ,CAAC13B,IAAI,CAAC43B,MAAM,CAAC;MAE1BA,MAAM,CAACjrB,SAAS,CAAC,IAAI,CAAC;KACzB,MAAM;MACH,MAAM,IAAItP,KAAK,CAACC,iBAAO,CAACC,MAAM,CAACi7B,gCAAgC,EAAE,CAAC;;EAE1E,CAAC;EAED1B,8BAAU,GAAV,UAAWvkB,IAAiB;IACxB,IAAIA,IAAI,YAAYkkB,MAAM,EAAE;MACxB,IAAMziB,SAAS,GAAG,IAAI,CAAC0jB,QAAQ,CAACh3B,OAAO,CAAC6R,IAAI,CAAC;MAE7C,IAAIyB,SAAS,IAAI,CAAC,EAAE;QAChB,IAAI,CAAC0jB,QAAQ,CAAC/pB,MAAM,CAACqG,SAAS,EAAE,CAAC,CAAC;QAElCzB,IAAI,CAAC5F,SAAS,CAAC/V,SAAS,CAAC;QAEzB,IAAI,CAAC2H,YAAY,EAAE;QAEnB,OAAO,IAAI;;;IAInB,OAAO,KAAK;EAChB,CAAC;EAEDu4B,2BAAO,GAAP,UAAQ7iB,WAAwB;IAC5B,OAAOA,WAAW,YAAYwiB,MAAM,GAAG,IAAI,CAACiB,QAAQ,CAACh3B,OAAO,CAACuT,WAAW,CAAC,GAAG,CAAC,CAAC;EAClF,CAAC;EAED6iB,qCAAiB,GAAjB,UAAkBtiC,OAAoB;IAClC,OAAO,IAAI,CAACkjC,QAAQ,CAACh3B,OAAO,CAASlM,OAAO,CAAC,KAAK,CAAC;EACvD,CAAC;EAEDsiC,sCAAkB,GAAlB,UAAmBtiC,OAAoB;IACnC,OAAO,IAAI,CAACkjC,QAAQ,CAACh3B,OAAO,CAASlM,OAAO,CAAC,KAAK,IAAI,CAACkjC,QAAQ,CAACjxB,MAAM,GAAG,CAAC;EAC9E,CAAC;EAEDqwB,gCAAY,GAAZ,UAAatiC,OAAoB;IAC7B,OAAO,IAAI,CAACkjC,QAAQ,CAACh3B,OAAO,CAASlM,OAAO,CAAC,IAAI,CAAC;EACtD,CAAC;EAEDsiC,mCAAe,GAAf,UAAgBtiC,OAAoB;IAChC,OAAO,IAAI,CAACkjC,QAAQ,CAACh3B,OAAO,CAASlM,OAAO,CAAC,IAAI,CAAC;EACtD,CAAC;EAEDsiC,iCAAa,GAAb,UAAc74B,EAAU;IACpB,IAAI/B,MAAM,GAAuBtF,SAAS;IAE1C,KAAqB,UAAa,EAAboW,SAAI,CAAC0qB,QAAQ,EAAb14B,cAAa,EAAbA,IAAa,EAAE;MAA/B,IAAM44B,MAAM;MACb17B,MAAM,GAAG07B,MAAM,CAAClmB,aAAa,CAACzT,EAAE,CAAC;MAEjC,IAAI/B,MAAM,EAAE;QACR;;;IAIR,OAAOA,MAAM;EACjB,CAAC;EAEDlF,sBAAI8/B,4BAAK;SAAT;MACI,OAAO,IAAI,CAAC3E,QAAQ,EAAE;IAC1B,CAAC;SAED,UAAU76B,KAAc;MACpB,IAAI,CAACg/B,QAAQ,CAACh/B,KAAK,CAAC;IACxB,CAAC;;;;EAEDN,sBAAI8/B,8BAAO;SAAX;MACI,OAAO,IAAI,CAAC52B,UAAU,EAAE;IAC5B,CAAC;SAED,UAAY5I,KAAoC;MAC5C,IAAI,CAAC++B,UAAU,CAAC/+B,KAAK,CAAC;IAC1B,CAAC;;;;EAEDN,sBAAI8/B,mCAAY;SAAhB;MACI,OAAO,IAAI,CAACjkB,aAAa;IAC7B,CAAC;SAED,UAAiBvb,KAAyB;MACtC,IAAI,CAACub,aAAa,GAAGvb,KAAK;IAC9B,CAAC;;;;EACL,gBAAC;AAAD,CAAC,CAhU8By6B,aAAa;AAA/Bl7B;AAkUb,SAAS6Z,qBAAqB,CAACgD,KAAY;EACvC,IAAM9C,IAAI,GAAG8C,KAAK,CAACjV,cAAc,EAAkB;EACnD,IAAMg6B,oBAAoB,GACtB7nB,IAAI,IAAIA,IAAI,CAAC8nB,aAAa,GAAG9nB,IAAI,CAAC8nB,aAAa,GAAGt5B,YAAY,CAACs5B,aAAa;EAEhF,IAAID,oBAAoB,EAAE;IACtBA,oBAAoB,CAAC/kB,KAAK,CAAC;;AAEnC;AAEA,SAASjK,uBAAuB,CAC5BjV,OAAoB,EACpBgV,MAAyB,EACzBmvB,EAAe;EAEf,IAAM/nB,IAAI,GAAGpc,OAAO,CAACiK,cAAc,EAAkB;EACrD,IAAMm6B,sBAAsB,GACxBhoB,IAAI,IAAIA,IAAI,CAACioB,eAAe,GAAGjoB,IAAI,CAACioB,eAAe,GAAGz5B,YAAY,CAACy5B,eAAe;EAEtF,OAAOD,sBAAsB,KAAKhiC,SAAS,GACrCgiC,sBAAsB,CAACpkC,OAAO,EAAEgV,MAAM,EAAEmvB,EAAE,CAAC,GAC3C,KAAK;AACf;AAEA,SAASjT,uBAAuB,CAACjoB,MAAc;EAC3C,IAAMmT,IAAI,GAAGnT,MAAM,CAACpG,MAAM,GAAIoG,MAAM,CAACpG,MAAM,CAACoH,cAAc,EAAmB,GAAG7H,SAAS;EACzF,IAAMkiC,sBAAsB,GACxBloB,IAAI,IAAIA,IAAI,CAACmoB,eAAe,GAAGnoB,IAAI,CAACmoB,eAAe,GAAG35B,YAAY,CAAC25B,eAAe;EAEtF,IAAIt7B,MAAM,CAAC+sB,mBAAmB,EAAE,IAAIsO,sBAAsB,EAAE;IACxDA,sBAAsB,CAACr7B,MAAM,CAAC;;AAEtC;AAEA,SAAS+vB,4BAA4B,CAAC/vB,MAAsB,EAAEu7B,UAAmB;EAC7E,IAAMpoB,IAAI,GAAGnT,MAAM,CAACpG,MAAM,GAAIoG,MAAM,CAACpG,MAAM,CAACoH,cAAc,EAAmB,GAAG7H,SAAS;EACzF,IAAMqiC,2BAA2B,GAC7BroB,IAAI,IAAIA,IAAI,CAACsoB,oBAAoB,GAC3BtoB,IAAI,CAACsoB,oBAAoB,GACzB95B,YAAY,CAAC85B,oBAAoB;EAE3C,IAAID,2BAA2B,EAAE;IAC7BA,2BAA2B,CAACx7B,MAAM,EAAEu7B,UAAU,CAAC;;AAEvD;AAEA,SAAS9b,2BAA2B,CAACiB,KAAY;EAC7C,IAAMvN,IAAI,GAAGuN,KAAK,CAAC1f,cAAc,EAAkB;EACnD,IAAM06B,0BAA0B,GAC5BvoB,IAAI,IAAIA,IAAI,CAACwoB,mBAAmB,GAC1BxoB,IAAI,CAACwoB,mBAAmB,GACxBh6B,YAAY,CAACg6B,mBAAmB;EAE1C,IAAID,0BAA0B,EAAE;IAC5BA,0BAA0B,CAAChb,KAAK,CAAC;;AAEzC;AAEA,SAASpmB,kCAAkC,CACvCvD,OAAoB,EACpB6kC,kBAAkC;EAAlC;IAAAA,yBAAkC;EAAA;EAElC,IAAMl6B,WAAW,GAAG3K,OAAO,CAACiK,cAAc,EAAE;EAE5C,IAAI46B,kBAAkB,EAAE;IACpBl6B,WAAW,CAACZ,YAAY,EAAE;;EAG9B,IAAMqS,IAAI,GAAGzR,WAA2B;EACxC,IAAMm6B,iCAAiC,GACnC1oB,IAAI,IAAIA,IAAI,CAAC2oB,0BAA0B,GACjC3oB,IAAI,CAAC2oB,0BAA0B,GAC/Bn6B,YAAY,CAACm6B,0BAA0B;EAEjD,IAAID,iCAAiC,KAAK1iC,SAAS,EAAE;IACjD0iC,iCAAiC,CAAC9kC,OAAO,CAAC;;AAElD;AAEA;;;AAGA,SAASq3B,mCAAmC,CACxCpuB,MAAsB,EACtBqE,MAAoB;EAEpB,IAAM8O,IAAI,GAAGnT,MAAM,CAACpG,MAAM,GAAIoG,MAAM,CAACpG,MAAM,CAACoH,cAAc,EAAmB,GAAG7H,SAAS;EACzF,IAAM4iC,kCAAkC,GACpC5oB,IAAI,IAAIA,IAAI,CAAC6oB,2BAA2B,GAClC7oB,IAAI,CAAC6oB,2BAA2B,GAChCr6B,YAAY,CAACq6B,2BAA2B;EAElD,OAAOD,kCAAkC,KAAK5iC,SAAS,GACjD4iC,kCAAkC,CAAC/7B,MAAM,CAACi8B,UAAU,EAAE,EAAE53B,MAAM,CAAC,GAC/D,KAAK;AACf;AAEA;;;AAGA,SAASsuB,+BAA+B,CACpC3yB,MAAsB,EACtBk8B,oBAA6B;EAE7B,IAAM/oB,IAAI,GAAGnT,MAAM,CAACpG,MAAM,GAAIoG,MAAM,CAACpG,MAAM,CAACoH,cAAc,EAAmB,GAAG7H,SAAS;EACzF,IAAMgjC,8BAA8B,GAChChpB,IAAI,IAAIA,IAAI,CAACipB,uBAAuB,GAC9BjpB,IAAI,CAACipB,uBAAuB,GAC5Bz6B,YAAY,CAACy6B,uBAAuB;EAE9C,OAAOD,8BAA8B,KAAKhjC,SAAS,GAC7CgjC,8BAA8B,CAACn8B,MAAM,CAACi8B,UAAU,EAAE,EAAEC,oBAAoB,CAAC,GACzE,KAAK;AACf;AAEA;EAAmD7iC;EA0E/C;IAAA,YACI4E,iBAAO;IAEP3E,KAAI,CAACqvB,iBAAiB,GAAG,IAAIoG,gBAAgB,CAACz1B,KAAI,CAAC;;EACvD;EA3EUy3B,4CAAa,GAAvB,UAAwB/yB,MAAW,EAAEL,OAA6B;IAC9DM,iBAAMmR,aAAa,YAACpR,MAAM,EAAEL,OAAO,CAAC;IAEpC,IAAI,CAAC0+B,YAAY,CAACr+B,MAAM,EAAEL,OAAO,CAAC;EACtC,CAAC;EAESozB,2CAAY,GAAtB,UAAuB/yB,MAAW,EAAEL,OAA6B;IAC7D,IAAI,CAACgrB,iBAAiB,CAACzqB,KAAK,CAACF,MAAM,CAAC,SAAS,CAAC,EAAEL,OAAO,CAAC;EAC5D,CAAC;EAESozB,6CAAc,GAAxB,UAAyB1sB,MAAmB,EAAE1G,OAA6B;IACvEM,iBAAM2R,cAAc,YAACvL,MAAM,EAAE1G,OAAO,CAAC;IAErC,IAAI,CAACgrB,iBAAiB,CAACpkB,MAAM,CAACF,MAAM,EAAE,SAAS,EAAE1G,OAAO,CAAC;EAC7D,CAAC;EAESozB,6CAAc,GAAxB;IACI,IAAMh6B,OAAO,GAAGkH,iBAAMd,cAAc,WAAE;IAEtC,IAAIpG,OAAO,EAAE;MACT,IAAMulC,eAAe,GAAG,IAAI,CAAC3T,iBAAiB,CAAC3Y,MAAM,CACjD,IAAI,CAAC1Y,UAAU,CAACwvB,OAAO,CAACsJ,kBAAkB,CAC7C;MAED,IAAIkM,eAAe,EAAE;QACjBhkC,KAAK,CAACuV,WAAW,CACb9W,OAAO,EACPM,gBAAgB,CACZ,IAAI,CAACC,UAAU,EACf;UACIG,OAAO,EAAE,IAAI,CAACH,UAAU,CAACmD,mBAAmB,CACxC,IAAI,CAACnD,UAAU,CAACwvB,OAAO,CAACrvB,OAAO;SAEtC,EACDO,KAAK,CAACC,WAAW,CAACC,UAAU,CAC/B,CACJ;QACDI,KAAK,CAACuV,WAAW,CAAC9W,OAAO,EAAEulC,eAAe,CAAC;;MAG/C,IAAI,IAAI,CAACC,aAAa,EAAE;QACpB,OAAOxlC,OAAO;OACjB,MAAM;QACH,OAAOA,OAAO,CAAC+R,QAAQ,CAACE,MAAM,GAAG,CAAC,GAAGjS,OAAO,GAAGoC,SAAS;;KAE/D,MAAM;MACH,OAAOA,SAAS;;EAExB,CAAC;EAES43B,mDAAoB,GAA9B;IACI,IAAI,IAAI,CAACxB,mBAAmB,KAAK,CAAC,EAAE;MAChC,OAAO,KAAK;KACf,MAAM,IAAI,IAAI,CAACA,mBAAmB,KAAK,CAAC,EAAE;MACvC,OACI,IAAI,CAAC5G,iBAAiB,CAACqK,cAAc,KAAK75B,SAAS,IACnD,CAAC,IAAI,CAAC7B,UAAU,CAACwvB,OAAO,CAAC6K,6BAA6B;KAE7D,MAAM;MACH,OAAO,IAAI,CAAChJ,iBAAiB,CAACqK,cAAc,KAAK75B,SAAS;;EAElE,CAAC;EAEDI,sBAAcw3B,qDAAmB;SAAjC;MACI,OAAO,IAAI,CAACpI,iBAAiB,CAAC4G,mBAAmB;IACrD,CAAC;;;;EAEDh2B,sBAAcw3B,+CAAa;SAA3B;MACI,OAAO,KAAK;IAChB,CAAC;;;;EAQDA,kDAAmB,GAAnB;IACI9yB,iBAAMyW,mBAAmB,WAAE;IAE3B,IAAI,CAACiU,iBAAiB,CAACjU,mBAAmB,EAAE;EAChD,CAAC;EAEDqc,6CAAc,GAAd;IACI,OAAO,IAAI,CAACpI,iBAAiB,CAACzoB,cAAc,EAAE;EAClD,CAAC;EAED6wB,0CAAW,GAAX,UAAYpxB,KAAa;IACrB,IAAIA,KAAK,IAAI,CAAC,IAAIA,KAAK,GAAG,IAAI,CAACO,cAAc,EAAE,EAAE;MAC7C,OAAO,IAAI,CAACyoB,iBAAiB,CAACxoB,WAAW,CAACR,KAAK,CAAC;KACnD,MAAM;MACH,OAAO1B,iBAAMkC,WAAW,YAACR,KAAK,CAAC;;EAEvC,CAAC;EAEDoxB,4CAAa,GAAb,UAAcvwB,EAAU;IACpB,IAAM/B,MAAM,GAAuB,IAAI,CAACkqB,iBAAiB,CAAC1U,aAAa,CAACzT,EAAE,CAAC;IAE3E,OAAO/B,MAAM,GAAGA,MAAM,GAAGR,iBAAMgW,aAAa,YAACzT,EAAE,CAAC;EACpD,CAAC;EAEDuwB,yDAA0B,GAA1B,UAA2BpzB,OAA0B;IACjDM,iBAAM4W,0BAA0B,YAAClX,OAAO,CAAC;IAEzC,IAAI,IAAI,CAACgrB,iBAAiB,EAAE;MACxB,IAAI,CAACA,iBAAiB,CAACyK,kBAAkB,CAACz1B,OAAO,CAAC;;EAE1D,CAAC;EAEDozB,4CAAa,GAAb,UAAch6B,OAAoB;IAC9B,OAAOkH,iBAAMgE,aAAa,YAAClL,OAAO,CAAC,IAAI,IAAI,CAAC4xB,iBAAiB,CAACzoB,cAAc,EAAE,KAAK,CAAC;EACxF,CAAC;EAED6wB,wCAAS,GAAT,UAAU/wB,MAAc;IACpB,IAAI,CAAC2oB,iBAAiB,CAACsI,SAAS,CAACjxB,MAAM,CAAC;EAC5C,CAAC;EAED+wB,oCAAK,GAAL;IACI9yB,iBAAM0yB,KAAK,WAAE;IAEb,IAAI,CAAChI,iBAAiB,CAACgI,KAAK,EAAE;EAClC,CAAC;EAEDI,2CAAY,GAAZ,UAAazuB,cAA8B;IAA9B;MAAAA,qBAA8B;IAAA;IACvC,IAAI7D,MAAM,GAAGR,iBAAMuX,YAAY,YAAClT,cAAc,CAAC;IAE/C,IAAIA,cAAc,EAAE;MAChB7D,MAAM,CAAC8D,IAAI,OAAX9D,MAAM,EAAS,IAAI,CAACkqB,iBAAiB,CAACnT,YAAY,CAAClT,cAAc,CAAC;;IAGtE,OAAO7D,MAAM;EACjB,CAAC;EAEDsyB,qDAAsB,GAAtB;IACI,IAAItyB,MAAM,GAAGR,iBAAMwX,sBAAsB,WAAE;IAE3ChX,MAAM,CAAC8D,IAAI,OAAX9D,MAAM,EAAS,IAAI,CAACkqB,iBAAiB,CAAClT,sBAAsB,EAAE;IAE9D,OAAOhX,MAAM;EACjB,CAAC;EAEDsyB,iDAAkB,GAAlB;IACI,IAAI,IAAI,CAACpI,iBAAiB,CAAC4G,mBAAmB,KAAK,CAAC,EAAE;MAClD,OAAOtxB,iBAAMk1B,kBAAkB,WAAE;KACpC,MAAM;MACH,IAAI,IAAI,CAACxK,iBAAiB,CAACzoB,cAAc,EAAE,KAAK,CAAC,EAAE;QAC/C,OACI,IAAI,CAACyoB,iBAAiB,CAACqK,cAAc,KAAK75B,SAAS,IACnD,CAAC,IAAI,CAAC7B,UAAU,CAACwvB,OAAO,CAAC6K,6BAA6B;OAE7D,MAAM;QACH,OAAO,IAAI,CAAChJ,iBAAiB,CAACqK,cAAc,KAAK75B,SAAS;;;EAGtE,CAAC;EAED43B,sDAAuB,GAAvB;IACI,OAAO,EAAE;EACb,CAAC;EAEDx3B,sBAAIw3B,8CAAY;SAAhB;MACI,OAAO,KAAK;IAChB,CAAC;;;;EACL,2BAAC;AAAD,CAAC,CAtKkD1uB,SAAS;AAAtCjJ;AA6KtB;EAA2CC;EA4CvC,+BAAqB0K,aAAsB,EAAWC,IAAY;IAAlE,YACI/F,kBAAM8F,aAAa,EAAEC,IAAI,EAAE7K,SAAS,CAAC;IADpBG,mBAAa,GAAbyK,aAAa;IAAoBzK,UAAI,GAAJ0K,IAAI;;EAE1D;EA7CAw4B,qCAAK,GAAL,UACIr4B,MAAyB,EACzBnG,MAAmB,EACnBL,OAA6B;IAE7B,IAAMqC,MAAM,GAAGrC,OAAO,CAACyG,WAAW,CAACD,MAAM,CAACvK,MAAM,EAAEoE,MAAM,CAAC,IAAI,CAACgG,IAAI,CAAC,EAAE,EAAE,EAAE,KAAK,CAAC;IAE/E,IAAIhE,MAAM,KAAK7G,SAAS,EAAE;MACtB,IAAI6G,MAAM,YAAY+qB,aAAa,EAAE;QACjC,OAAO/qB,MAAM;;MAGjBrC,OAAO,CAACmU,aAAa,CACjB3N,MAAM,EACNnM,KAAK,CAAC+Z,eAAe,CAACyf,oBAAoB,EAC1C3xB,iBAAO,CAACC,MAAM,CAAC2xB,oBAAoB,CAACzxB,MAAM,CAAChD,eAAe,EAAE,CAAC,CAChE;;IAGLW,OAAO,CAACmU,aAAa,CACjB3N,MAAM,EACNnM,KAAK,CAAC+Z,eAAe,CAACgO,kBAAkB,EACxClgB,iBAAO,CAACC,MAAM,CAACqrB,iBAAiB,CAAC,QAAQ,CAAC,CAC7C;IAED,OAAOhyB,SAAS;EACpB,CAAC;EAEDqjC,sCAAM,GAAN,UACIr4B,MAA0B,EAC1BE,MAAmB,EACnBxK,KAAgC,EAChC8D,OAA6B;IAE7BA,OAAO,CAAC2G,cAAc,CAClBD,MAAM,EACN,IAAI,CAACL,IAAI,EACTnK,KAAK,GAAGA,KAAK,CAAC0K,MAAM,CAAC5G,OAAO,CAAC,GAAGxE,SAAS,EACzCA,SAAS,EACT,IAAI,CACP;EACL,CAAC;EAKL,4BAAC;AAAD,CAAC,CA/C0CkK,kCAAkB;AAAhDjK;AAiDb;EAAuCC;EAAvC;;EA6BA;EAtBIE,sBAAIkjC,qCAAM;SAAV;MACI,OAAO,IAAI,CAAC/iC,QAAQ,CAAC+iC,iBAAiB,CAACC,cAAc,CAAC;IAC1D,CAAC;SAED,UAAW7iC,KAAoB;MAC3B,IAAI,CAACC,QAAQ,CAAC2iC,iBAAiB,CAACC,cAAc,EAAE7iC,KAAK,CAAC;MAEtD,IAAIA,KAAK,EAAE;QACPA,KAAK,CAACqV,SAAS,CAAC,IAAI,CAACtV,MAAM,CAAC;;IAEpC,CAAC;;;;EAKS6iC,wCAAY,GAAtB;IACI,OAAO,mBAAmB;EAC9B,CAAC;EAvBD;EAEgBA,gCAAc,GAAG,IAAID,qBAAqB,CAACn5B,wBAAQ,CAAC2nB,IAAI,EAAE,QAAQ,CAAC;EACnEyR,iCAAe,GAAG,IAAIp5B,mCAAmB,CAACA,wBAAQ,CAAC2nB,IAAI,EAAE,SAAS,CAAC;EAGnFvnB,YADC,4BAAQ,EAACg5B,iBAAiB,CAACC,cAAc,CAAC,+CAG1C;EAWDj5B,YADC,4BAAQ,EAACg5B,iBAAiB,CAACE,eAAe,CAAC,kDACzB;EASvB,wBAAC;CAAA,CA7BsCt5B,kCAAkB;AAA5CjK;AA+Bb;EAAoCC;EAApC;;EAyBA;EAjBcujC,qCAAY,GAAtB;IACI,OAAO,gBAAgB;EAC3B,CAAC;EATD;EAEgBA,2BAAY,GAAG,IAAIv5B,8BAAc,CAACA,wBAAQ,CAAC2nB,IAAI,EAAE,MAAM,CAAC;EACxD4R,4BAAa,GAAG,IAAIv5B,8BAAc,CAACA,wBAAQ,CAAC2nB,IAAI,EAAE,OAAO,CAAC;EAC1D4R,4BAAa,GAAG,IAAIv5B,8BAAc,CAACA,wBAAQ,CAAC2nB,IAAI,EAAE,OAAO,CAAC;EAC1D4R,4BAAa,GAAG,IAAIv5B,8BAAc,CAACA,wBAAQ,CAAC2nB,IAAI,EAAE,OAAO,CAAC;EAS1EvnB,YADC,4BAAQ,EAACm5B,cAAc,CAACC,YAAY,CAAC,4CACzB;EAGbp5B,YADC,4BAAQ,EAACm5B,cAAc,CAACxsB,aAAa,CAAC,6CACxB;EAGf3M,YADC,4BAAQ,EAACm5B,cAAc,CAACE,aAAa,CAAC,6CACxB;EAGfr5B,YADC,4BAAQ,EAACm5B,cAAc,CAACvsB,aAAa,CAAC,6CACzB;EAClB,qBAAC;CAAA,CAzBmChN,kCAAkB;AAAzCjK;AA2Bb;EAA2CC;EAA3C;;EAqBA;EAdc0jC,4CAAY,GAAtB;IACI,OAAO,uBAAuB;EAClC,CAAC;EARD;EAEgBA,gCAAU,GAAG,IAAI15B,8BAAc,CAACA,wBAAQ,CAAC2nB,IAAI,EAAE,IAAI,CAAC;EACpD+R,iCAAW,GAAG,IAAI15B,8BAAc,CAACA,wBAAQ,CAAC2nB,IAAI,EAAE,KAAK,CAAC;EACtD+R,wCAAkB,GAAG,IAAI15B,8BAAc,CAACA,wBAAQ,CAAC2nB,IAAI,EAAE,YAAY,CAAC;EASpFvnB,YADC,4BAAQ,EAACs5B,qBAAqB,CAACC,UAAU,CAAC,iDAC/B;EAGZv5B,YADC,4BAAQ,EAACs5B,qBAAqB,CAACE,WAAW,CAAC,kDAC/B;EAGbx5B,YADC,4BAAQ,EAACs5B,qBAAqB,CAACG,kBAAkB,CAAC,yDAC/B;EACxB,4BAAC;CAAA,CArB0C75B,kCAAkB;AAAhDjK;AAuBb;EAAoCC;EAApC;;EAkCA;EAjBc8jC,qCAAY,GAAtB;IACI,OAAO,gBAAgB;EAC3B,CAAC;EAlBD;EAEgBA,2BAAY,GAAG,IAAI95B,8BAAc,CAACA,wBAAQ,CAAC2nB,IAAI,EAAE,MAAM,CAAC;EACxDmS,qCAAsB,GAAG,IAAI95B,8BAAc,CAACA,wBAAQ,CAAC2nB,IAAI,EAAE,gBAAgB,CAAC;EAC5EmS,8BAAe,GAAG,IAAI95B,oDAAoC,CACtEA,wBAAQ,CAAC2nB,IAAI,EACb,SAAS,EACT4R,cAAc,CACjB;EACeO,4CAA6B,GAAG,IAAI95B,0CAA0B,CAC1EA,wBAAQ,CAAC2nB,IAAI,EACb,uBAAuB,EACvB+R,qBAAqB,EACrB,IAAI,CACP;EASDt5B,YADC,4BAAQ,EAAC05B,cAAc,CAACr4B,YAAY,CAAC,4CACxB;EAGdrB,YADC,4BAAQ,EAAC05B,cAAc,CAACC,sBAAsB,CAAC,sDACxB;EAGxB35B,YADC,4BAAQ,EAAC05B,cAAc,CAACE,eAAe,CAAC,+CACf;EAG1B55B,YADC,4BAAQ,EAAC05B,cAAc,CAACG,6BAA6B,CAAC,6DACT;EAClD,qBAAC;CAAA,CAlCmCj6B,kCAAkB;AAAzCjK;AAoCb;AACA;EAAkCC;EAAlC;IAAA;IA2QIC,gBAAU,GAAY,KAAK;;EA0F/B;EA3QIC,sBAAIoI,iCAAO;SAAX;MACI,OAAO,IAAI,CAACjI,QAAQ,CAACiI,YAAY,CAAC47B,eAAe,CAAC;IACtD,CAAC;SAED,UAAY1jC,KAAoC;MAC5C,IAAI,CAACC,QAAQ,CAAC6H,YAAY,CAAC47B,eAAe,EAAE1jC,KAAK,CAAC;MAElD,IAAIA,KAAK,EAAE;QACPA,KAAK,CAACD,MAAM,GAAG,IAAI;;IAE3B,CAAC;;;;EA6BDL,sBAAWoI,+BAAe;SAA1B;MACI,MAAM,IAAI/B,KAAK,CAACC,iBAAO,CAACC,MAAM,CAAC09B,2BAA2B,EAAE,CAAC;IACjE,CAAC;IAED;SACA,UAA2BvR,MAAgC;MACvD,MAAM,IAAIrsB,KAAK,CAACC,iBAAO,CAACC,MAAM,CAAC09B,2BAA2B,EAAE,CAAC;IACjE,CAAC;;;;EAEM77B,0BAAa,GAApB,UAAqB6C,IAAY;IAC7B,IAAM/F,MAAM,GAA8B;MACtCsM,UAAU,EAAE;KACf;IAED,IAAIpJ,YAAY,CAAC87B,iBAAiB,EAAE;MAChC97B,YAAY,CAAC87B,iBAAiB,CAACj5B,IAAI,EAAE/F,MAAM,CAAC;KAC/C,MAAM,IAAUxH,MAAO,CAACymC,UAAU,EAAE;MACjC;MACA,IAAMC,UAAU,GAAc1mC,MAAO,CAACymC,UAAU;MAChDj/B,MAAM,CAACuM,UAAU,GAAG2yB,UAAU,EAAE,CAAC3tB,MAAM,CAACxL,IAAI,CAAC;MAC7C/F,MAAM,CAACsM,UAAU,GAAG,IAAI;KAC3B,MAAM,IAAI,CAACpJ,YAAY,CAACi8B,oCAAoC,EAAE;MAC3D;MACAC,OAAO,CAACC,IAAI,CAACj+B,iBAAO,CAACC,MAAM,CAACi+B,4BAA4B,CAAC;MACzDp8B,YAAY,CAACi8B,oCAAoC,GAAG,IAAI;;IAG5D,OAAOn/B,MAAM;EACjB,CAAC;EAIOkD,yCAAkB,GAA1B;IACI,IAAI,IAAI,CAACq8B,kBAAkB,EAAE;MACzB,OAAO,IAAI;KACd,MAAM;MACH,IAAMC,kBAAkB,GACpB,CAAC,IAAI,CAACC,OAAO,IACb,CAAC,IAAI,CAACA,OAAO,CAAC1sB,OAAO,IACrB,IAAI,CAAC2sB,UAAU,CAACC,KAAK,GAAG,IAAI,CAACF,OAAO,CAACE,KAAK,IACzC,IAAI,CAACD,UAAU,CAACC,KAAK,KAAK,IAAI,CAACF,OAAO,CAACE,KAAK,IACzC,IAAI,CAACD,UAAU,CAACE,KAAK,GAAG,IAAI,CAACH,OAAO,CAACG,KAAM;MAEnD,OAAO,CAACJ,kBAAkB;;EAElC,CAAC;EAESt8B,qDAA8B,GAAxC;IACI,OAAO,IAAIvF,oBAAoB,CAAC,IAAI,CAAC8hC,OAAO,CAAC;EACjD,CAAC;EAESv8B,qDAA8B,GAAxC;IACI,OAAO,MAAM;EACjB,CAAC;EAESA,wCAAiB,GAA3B;IACI,OAAO,IAAI;EACf,CAAC;EAESA,oCAAa,GAAvB,UAAwB3D,MAAW,EAAEL,OAA6B;IAC9D,IAAI,CAAC2gC,aAAa,GAAGnlC,SAAS;IAE9B,IAAMolC,eAAe,GAAG5gC,OAAO,CAAC+R,YAAY,CACxCvW,SAAS,EACT6E,MAAM,CAAC,UAAU,CAAC,EAClB,IAAI,CAAC85B,sBAAsB,EAAE,EAC7B,CAAC,IAAI,CAACz8B,YAAY,EAAE,CACvB;IAED,IAAIkjC,eAAe,EAAE;MACjB,IAAI,CAACD,aAAa,GAAG,IAAI38B,YAAY,EAAE;MACvC,IAAI,CAAC28B,aAAa,CAACE,OAAO,CAACD,eAAe,CAAC;;IAG/CtgC,iBAAMmR,aAAa,YAACpR,MAAM,EAAEL,OAAO,CAAC;EACxC,CAAC;EAESgE,qCAAc,GAAxB,UAAyB0C,MAAmB,EAAE1G,OAA6B;IACvE,IAAI,CAAC7D,QAAQ,CAAC6H,YAAY,CAAC88B,eAAe,EAAE9gC,OAAO,CAACoG,aAAa,CAAC;IAElE9F,iBAAM2R,cAAc,YAACvL,MAAM,EAAE1G,OAAO,CAAC;EACzC,CAAC;EAESgE,qCAAc,GAAxB;IACI,IAAM1E,eAAe,GAAGgB,iBAAMd,cAAc,WAAE;IAE9C,IAAInD,uBAAc,CAACC,+BAA+B,IAAIgD,eAAe,EAAE;MACnE;MACA;MACA;MACAA,eAAe,CAACzE,KAAK,CAACgD,cAAc,CAAC,WAAW,CAAC;;IAGrD,OAAOyB,eAAe;EAC1B,CAAC;EAES0E,uCAAgB,GAA1B,UAA2BlE,sBAAuC;IAAvC;MAAAA,8BAAuC;IAAA;IAC9D,OAAO,IAAI;EACf,CAAC;EAESkE,wCAAiB,GAA3B;IACI,OAAO,IAAI3H,0BAAiB,CACxBhC,KAAK,CAACwH,OAAO,CAACy0B,OAAO,EACrBj8B,KAAK,CAACwH,OAAO,CAACy0B,OAAO,EACrBj8B,KAAK,CAACwH,OAAO,CAACy0B,OAAO,EACrBj8B,KAAK,CAACwH,OAAO,CAACy0B,OAAO,CACxB;EACL,CAAC;EAEStyB,sCAAe,GAAzB,UAA0Bw3B,QAA8B;IACpD,OAAO,IAAI;EACf,CAAC;EAED5/B,sBAAcoI,uCAAa;SAA3B;MACI,OAAO,IAAI;IACf,CAAC;;;;EAEDpI,sBAAcoI,4CAAkB;SAAhC;MACI,OAAO,KAAK;IAChB,CAAC;;;;EAEDpI,sBAAcoI,0CAAgB;SAA9B;MACI,OAAO,IAAI,CAACrK,UAAU,CAAConC,YAAY,IAAI,IAAI,CAACpnC,UAAU,CAAConC,YAAY,CAACjL,gBAAgB;IACxF,CAAC;;;;EAEDl6B,sBAAcoI,uCAAa;SAA3B;MACI,OAAO,IAAI;IACf,CAAC;;;;EAaDA,sCAAe,GAAf;IACI,OAAO,cAAc;EACzB,CAAC;EAEDA,iDAA0B,GAA1B,UAA2BhE,OAA0B;IACjDM,iBAAM4W,0BAA0B,YAAClX,OAAO,CAAC;IAEzC,IAAI,IAAI,CAACjE,QAAQ,CAACF,WAAW,CAACmlC,gBAAgB,CAAC,KAAK,cAAc,EAAE;MAChEhhC,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAAC6sB,eAAe,EACrC/+B,iBAAO,CAACC,MAAM,CAAC++B,eAAe,EAAE,CACnC;;IAGL,IAAI,CAAC,IAAI,CAACb,kBAAkB,IAAI,CAAC,IAAI,CAACE,OAAO,EAAE;MAC3CvgC,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAACgO,kBAAkB,EACxClgB,iBAAO,CAACC,MAAM,CAACqrB,iBAAiB,CAAC,SAAS,CAAC,CAC9C;KACJ,MAAM,IAAI,CAAC,IAAI,CAAC2T,kBAAkB,EAAE,EAAE;MACnCnhC,OAAO,CAACoX,UAAU,CACd,IAAI,EACJ/c,KAAK,CAAC+Z,eAAe,CAACgtB,sBAAsB,EAC5Cl/B,iBAAO,CAACC,MAAM,CAACk/B,sBAAsB,CACjC,IAAI,CAACd,OAAO,CAAC3jC,QAAQ,EAAE,EACvB,IAAI,CAAC4jC,UAAU,CAAC5jC,QAAQ,EAAE,CAC7B,CACJ;;EAET,CAAC;EAEDoH,6BAAM,GAAN,UAAO0C,MAAoB;IACvB,IAAIsrB,YAAqC;IAEzC,IAAI,IAAI,CAACsP,cAAc,EAAE,IAAI,IAAI,CAACX,aAAa,EAAE;MAC7C,IAAI,CAACA,aAAa,CAAChnC,UAAU,GAAG,IAAI,CAACA,UAAU;MAE/Cq4B,YAAY,GAAG,IAAI,CAAC2O,aAAa,CAACtuB,MAAM,EAAE;KAC7C,MAAM;MACH2f,YAAY,GAAG1xB,iBAAM+R,MAAM,WAAE;MAE7B,IAAI2f,YAAY,EAAE;QACdA,YAAY,CAACjvB,SAAS,CAACC,GAAG,CAAC,IAAI,CAACrJ,UAAU,CAACS,gBAAgB,CAAC,iBAAiB,CAAC,CAAC;QAE/E;QACA;QACA;QACA;QACA;QACA,IAAIiC,uBAAc,CAACklC,qBAAqB,EAAE;UACtCvP,YAAY,CAACzT,QAAQ,GAAG,CAAC;;QAG7B,IAAI,IAAI,CAACijB,KAAK,EAAE;UACZxP,YAAY,CAACx3B,YAAY,CAAC,YAAY,EAAE,IAAI,CAACgnC,KAAK,CAAC;;;;IAK/D,IAAI96B,MAAM,EAAE;MACR/L,KAAK,CAACuV,WAAW,CAACxJ,MAAM,EAAEsrB,YAAY,CAAC;MAEvC,IAAI,CAAC7uB,YAAY,EAAE;;IAGvB,OAAO6uB,YAAY;EACvB,CAAC;EAEDhuB,mCAAY,GAAZ,UAAawL,eAA+B;IAA/B;MAAAA,sBAA+B;IAAA;IACxClP,iBAAM6C,YAAY,YAACqM,eAAe,CAAC;IAEnC,IAAInT,uBAAc,CAACC,+BAA+B,IAAI,IAAI,CAACmT,WAAW,EAAE,EAAE;MACtE,IAAMxQ,OAAO,GAAG,IAAI,CAACtF,UAAU,CAACmD,mBAAmB,CAACzC,KAAK,CAACwH,OAAO,CAACzB,OAAO,CAAC;MAE1E;MACA,IAAI,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAACd,eAAgB,CAACC,YAAY,GAAGN,OAAO,CAAC;;EAE5E,CAAC;EAED+E,qCAAc,GAAd;IACI,OAAO1D,iBAAMghC,cAAc,WAAE,IAAI,CAAC,IAAI,CAACH,kBAAkB,EAAE;EAC/D,CAAC;EAEDvlC,sBAAIoI,6CAAmB;SAAvB;MACI,OAAO,KAAK;IAChB,CAAC;;;;EAnWeA,sBAAS,GAAG,oDAAoD;EAEhF;EAEA;EAC0BA,4BAAe,GAAG,IAAI0B,8BAAc,CAC1DA,wBAAQ,CAACG,IAAI,EACb,SAAS,EACT,UACIW,MAA0B,EAC1Bu1B,QAA4B,EAC5B17B,MAAmB,EACnBL,OAAiC;IAEjC,OAAOgE,YAAY,CAACy9B,SAAS;EACjC,CAAC,EACD,UACIj7B,MAA0B,EAC1BgiB,IAAwB,EACxB9hB,MAAmB,EACnBxK,KAA2B,EAC3B8D,OAAiC;IAEjCA,OAAO,CAAC2G,cAAc,CAACD,MAAM,EAAE8hB,IAAI,CAACniB,IAAI,EAAErC,YAAY,CAACy9B,SAAS,CAAC;EACrE,CAAC,CACJ;EAEez9B,4BAAe,GAAG,IAAI0B,8BAAc,CAChDA,wBAAQ,CAACG,IAAI,EACb,SAAS,EACT,UACIW,MAA0B,EAC1BgiB,IAAwB,EACxBnoB,MAAmB,EACnBL,OAAiC;IAEjC,IAAIugC,OAAO,GAAG76B,uBAAO,CAACnF,KAAK,CAACF,MAAM,CAACmoB,IAAI,CAACniB,IAAI,CAAC,EAAErG,OAAO,CAAC;IAEvD,IAAIugC,OAAO,KAAK/kC,SAAS,EAAE;MACvB+kC,OAAO,GAAG76B,wBAAQ,CAACg8B,MAAM;MAEzB1hC,OAAO,CAACmU,aAAa,CACjB3N,MAAM,EACNnM,KAAK,CAAC+Z,eAAe,CAACC,oBAAoB,EAC1CnS,iBAAO,CAACC,MAAM,CAACw/B,kBAAkB,CAACpB,OAAO,CAAC3jC,QAAQ,EAAE,CAAC,CACxD;;IAGL,OAAO2jC,OAAO;EAClB,CAAC,EACD,UACI/5B,MAA0B,EAC1BgiB,IAAwB,EACxB9hB,MAAmB,EACnBxK,KAA0B,EAC1B8D,OAAiC;IAEjC,IAAI9D,KAAK,KAAKV,SAAS,EAAE;MACrBwE,OAAO,CAAC2G,cAAc,CAACD,MAAM,EAAE8hB,IAAI,CAACniB,IAAI,EAAEnK,KAAK,CAACU,QAAQ,EAAE,CAAC;;EAEnE,CAAC,EACD8I,wBAAQ,CAACG,IAAI,CAChB;EAEe7B,iCAAoB,GAAG,IAAI0B,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,cAAc,CAAC;EACxE7B,0BAAa,GAAG,IAAI0B,8BAAc,CAACA,wBAAQ,CAACG,IAAI,EAAE,OAAO,CAAC;EAC1D7B,4BAAe,GAAG,IAAI0B,0CAA0B,CAC5DA,wBAAQ,CAAC2nB,IAAI,EACb,SAAS,EACTyR,iBAAiB,EACjB,IAAI,CACP;EACe96B,mCAAsB,GAAG,IAAI0B,0CAA0B,CACnEA,wBAAQ,CAAC2nB,IAAI,EACb,gBAAgB,EAChBmS,cAAc,EACd,IAAI,CACP;EA2BD;EAEex7B,iDAAoC,GAAG,KAAK;EA1B3D8B,YADC,4BAAQ,EAAC9B,YAAY,CAAC88B,eAAe,CAAC,6CACtB;EAGjBh7B,YADC,4BAAQ,EAAC9B,YAAY,CAAC49B,oBAAoB,CAAC,kDACtB;EAGtB97B,YADC,4BAAQ,EAAC9B,YAAY,CAAC69B,aAAa,CAAC,2CACtB;EAGf/7B,YADC,4BAAQ,EAAC9B,YAAY,CAAC47B,eAAe,CAAC,2CAGtC;EAWD95B,YADC,4BAAQ,EAAC9B,YAAY,CAAC89B,sBAAsB,CAAC,oDACd;EA8PpC,mBAAC;CAAA,CArWiC1O,oBAAoB;AAAzC33B;AAuWb;EAAiCC;EAAjC;IACI;IADJ;IAsCIC,mBAAa,GAAY,KAAK;;EAYlC;EA/Ccg0B,yCAAY,GAAtB;IACI,OAAO,oBAAoB;EAC/B,CAAC;EAESA,2CAAc,GAAxB,UAAyB5oB,MAAgC;IACrDzG,iBAAM0G,cAAc,YAACD,MAAM,CAAC;IAE5BA,MAAM,CAACE,MAAM,CAACjD,YAAY,CAAC+9B,eAAe,EAAE/9B,YAAY,CAAC88B,eAAe,CAAC;EAC7E,CAAC;EAED;EAEUnR,8CAAiB,GAA3B;IACI,OAAO,IAAItzB,0BAAiB,CACxB,IAAI,CAACy1B,aAAa,GAAGz3B,KAAK,CAACwH,OAAO,CAACC,IAAI,GAAGzH,KAAK,CAACwH,OAAO,CAACy0B,OAAO,EAC/Dj8B,KAAK,CAACwH,OAAO,CAACy0B,OAAO,EACrB,IAAI,CAACxE,aAAa,GAAGz3B,KAAK,CAACwH,OAAO,CAACC,IAAI,GAAGzH,KAAK,CAACwH,OAAO,CAACy0B,OAAO,EAC/Dj8B,KAAK,CAACwH,OAAO,CAACy0B,OAAO,CACxB;EACL,CAAC;EAED16B,sBAAc+zB,kDAAkB;SAAhC;MACI,OAAO,IAAI;IACf,CAAC;;;;EAED/zB,sBAAc+zB,4CAAY;SAA1B;MACI,IAAI,IAAI,CAACmC,aAAa,EAAE;QACpB,OAAOz3B,KAAK,CAAC8F,cAAc,CAACC,OAAO;OACtC,MAAM;QACH,OAAO,IAAI,CAACzG,UAAU,CAACwvB,OAAO,CAAC8G,QAAQ,CAACp1B,KAAK,GACvC,IAAI,CAAClB,UAAU,CAACwvB,OAAO,CAAC8G,QAAQ,CAACp1B,KAAK,GACtCR,KAAK,CAAC8F,cAAc,CAACy1B,QAAQ;;IAE3C,CAAC;;;;EAIDjG,mCAAM,GAAN,UAAOjpB,MAAoB;IACvB,IAAMsrB,YAAY,GAAG1xB,iBAAM+R,MAAM,YAAC3L,MAAM,CAAC;IAEzC,IAAIsrB,YAAY,EAAE;MACdA,YAAY,CAACx3B,YAAY,CAAC,WAAW,EAAE,QAAQ,CAAC;MAChDw3B,YAAY,CAACzR,eAAe,CAAC,UAAU,CAAC;;IAG5C,OAAOyR,YAAY;EACvB,CAAC;EACL,yBAAC;AAAD,CAAC,CAlDgChuB,YAAY;AAoD7C;EAA0CtI;EAA1C;IAAA;IAIYC,qBAAe,GAAgB,IAAIqmC,GAAG,EAAU;;EA4M5D;EA3MYvjC,sDAAuB,GAA/B,UACIxC,MAA+B,EAC/BoE,MAAW,EACXgxB,cAA2B,EAC3B4Q,aAAsB,EACtBC,sBAAuE,EACvE/tB,aAAqF,EACrFguB,sBAAuC;IAP3C;IAOI;MAAAA,8BAAuC;IAAA;IAEvC,IAAIrhC,MAAM,GAAkBtF,SAAS;IAErC,IAAI6E,MAAM,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAE;MACtC,IAAM+hC,mBAAiB,GAAG,IAAIJ,GAAG,EAAU;MAC3C,IAAI,CAACK,eAAe,CAAC5N,OAAO,CAAC,UAACjb,IAAI;QAC9B4oB,mBAAiB,CAACp/B,GAAG,CAACwW,IAAI,CAAC;MAC/B,CAAC,CAAC;MACF6X,cAAc,CAACoD,OAAO,CAAC,UAACjb,IAAI;QACxB7d,KAAI,CAAC0mC,eAAe,CAACr/B,GAAG,CAACwW,IAAI,CAAC;MAClC,CAAC,CAAC;MAEF,IAAMsgB,QAAQ,GAAGn/B,KAAK,CAACwzB,WAAW,CAAC9tB,MAAM,CAAC,MAAM,CAAC,CAAC;MAElD,IAAMiiC,mBAAmB,GAAGH,sBAAsB,IAAIrI,QAAQ,KAAK,UAAU;MAE7E,IAAIA,QAAQ,IAAI,IAAI,CAACuI,eAAe,CAACE,GAAG,CAACzI,QAAQ,CAAC,IAAI,CAACwI,mBAAmB,EAAE;QACxEnuB,aAAa,CAAC2lB,QAAQ,EAAEz/B,KAAK,CAACmoC,aAAa,CAACC,aAAa,CAAC;OAC7D,MAAM;QACH,IAAIC,aAAa,GAAG,KAAK;QAEzB5hC,MAAM,GAAGohC,sBAAsB,CAACpI,QAAQ,CAAC;QAEzC,IAAI,CAACh5B,MAAM,EAAE;UACT4hC,aAAa,GAAGrmC,uBAAc,CAACsmC,cAAc,IAAIV,aAAa;UAE9D9tB,aAAa,CAAC2lB,QAAQ,EAAEz/B,KAAK,CAACmoC,aAAa,CAACI,WAAW,CAAC;SAC3D,MAAM;UACH9hC,MAAM,CAACyQ,SAAS,CAACtV,MAAM,CAAC;UACxB6E,MAAM,CAACP,KAAK,CAACF,MAAM,EAAE,IAAI,CAAC;UAE1BqiC,aAAa,GACTrmC,uBAAc,CAACsmC,cAAc,IAAIV,aAAa,IAAInhC,MAAM,CAACwgC,cAAc,EAAE;;QAGjF,IAAIoB,aAAa,EAAE;UACf,IAAMG,QAAQ,GAAGxiC,MAAM,CAAC,UAAU,CAAC;UAEnC,IAAI,CAACwiC,QAAQ,IAAI5mC,MAAM,EAAE;YACrBA,MAAM,CAACy9B,iBAAiB,CAAC,IAAI,CAAC;;UAElC,IAAI,OAAOmJ,QAAQ,KAAK,QAAQ,IAAIA,QAAQ,CAACr3B,WAAW,EAAE,KAAK,MAAM,EAAE;YACnE1K,MAAM,GAAGtF,SAAS;WACrB,MAAM,IAAI,OAAOqnC,QAAQ,KAAK,QAAQ,EAAE;YACrC/hC,MAAM,GAAG,IAAI,CAACgiC,uBAAuB,CACjC7mC,MAAM,EACN4mC,QAAQ,EACRxR,cAAc,EACd,IAAI,EACJ6Q,sBAAsB,EACtB/tB,aAAa,CAChB;;;;MAKb,IAAI,CAACkuB,eAAe,GAAGD,mBAAiB;;IAG5C,OAAOthC,MAAM;EACjB,CAAC;EAESrC,+CAAgB,GAA1B,UAA2BskC,CAAqB,EAAE1iC,MAAW;IACzD,IAAI0iC,CAAC,YAAY9Z,MAAM,IAAI,IAAI,CAAC+Z,aAAa,EAAE;MAC3C,IAAI,CAACA,aAAa,CAACD,CAAC,EAAE1iC,MAAM,EAAE,IAAI,CAAC;KACtC,MAAM,IAAI0iC,CAAC,YAAYlnC,WAAW,IAAI,IAAI,CAAConC,cAAc,EAAE;MACxD,IAAI,CAACA,cAAc,CAACF,CAAC,EAAE1iC,MAAM,EAAE,IAAI,CAAC;;EAE5C,CAAC;EAKD5B,8CAAe,GAAf,UAAgBskC,CAAqB;IACjC,IAAIA,CAAC,YAAY9Z,MAAM,EAAE;MACrB,OAAO,IAAI,CAACmB,cAAc,CAAClqB,UAAU,CAAC6iC,CAAC,CAAC1jC,eAAe,EAAE,CAAC,KAAK7D,SAAS;KAC3E,MAAM,IAAIunC,CAAC,YAAYlnC,WAAW,EAAE;MACjC,OAAO,IAAI,CAACoE,eAAe,CAACC,UAAU,CAAC6iC,CAAC,CAAC1jC,eAAe,EAAE,CAAC,KAAK7D,SAAS;KAC5E,MAAM;MACH,OAAO,IAAI;;EAEnB,CAAC;EAEDiD,8CAAe,GAAf,UACIxC,MAA+B,EAC/BoE,MAAW,EACX6iC,kBAA4B,EAC5BjB,aAAsB,EACtBC,sBAA2D,EAC3D/tB,aAAyE,EACzEguB,sBAAuC;IAAvC;MAAAA,8BAAuC;IAAA;IAEvC,IAAM9Q,cAAc,GAAG,IAAI2Q,GAAG,CAASkB,kBAAkB,CAAC;IAC1D,IAAMpiC,MAAM,GAAG,IAAI,CAACgiC,uBAAuB,CACvC7mC,MAAM,EACNoE,MAAM,EACNgxB,cAAc,EACd4Q,aAAa,EACbC,sBAAsB,EACtB/tB,aAAa,EACbguB,sBAAsB,CACzB;IAED,IAAIrhC,MAAM,KAAKtF,SAAS,EAAE;MACtB,IAAI,CAAC2nC,gBAAgB,CAACriC,MAAM,EAAET,MAAM,CAAC;;IAGzC,OAAOS,MAAM;EACjB,CAAC;EAEDrC,2CAAY,GAAZ,UACIxC,MAA+B,EAC/BoE,MAAW,EACXgxB,cAAwB,EACxB4Q,aAAsB,EACtBmB,uBAAwC;IAL5C;IAKI;MAAAA,+BAAwC;IAAA;IAExC,OAAO,IAAI,CAAClH,eAAe,CACvBjgC,MAAM,EACNoE,MAAM,EACNgxB,cAAc,EACd4Q,aAAa,EACb,UAACnI,QAAgB;MACb,OAAOn+B,KAAI,CAACsE,eAAe,CAACojC,cAAc,CAACvJ,QAAQ,EAAEn+B,KAAI,CAACyK,aAAa,CAAC;IAC5E,CAAC,EACD,UAAC0zB,QAAgB,EAAEwJ,SAA8B;MAC7C,IAAIA,SAAS,KAAKjpC,KAAK,CAACmoC,aAAa,CAACI,WAAW,EAAE;QAC/CjnC,KAAI,CAACwY,aAAa,CACd3Y,SAAS,EACTnB,KAAK,CAAC+Z,eAAe,CAACmvB,kBAAkB,EACxCrhC,iBAAO,CAACC,MAAM,CAACqhC,kBAAkB,CAAC1J,QAAQ,CAAC,CAC9C;OACJ,MAAM;QACHn+B,KAAI,CAACwY,aAAa,CACd3Y,SAAS,EACTnB,KAAK,CAAC+Z,eAAe,CAACgoB,qBAAqB,EAC3Cl6B,iBAAO,CAACC,MAAM,CAACqV,qBAAqB,CAACsiB,QAAQ,CAAC,CACjD;;IAET,CAAC,EACDsJ,uBAAuB,CAC1B;EACL,CAAC;EAED3kC,0CAAW,GAAX,UACIxC,MAAmB,EACnBoE,MAAW,EACXiG,oBAA8B,EAC9B27B,aAAsB;IAJ1B;IAMI,OAAO,IAAI,CAAC/F,eAAe,CACvBjgC,MAAM,EACNoE,MAAM,EACNiG,oBAAoB,EACpB27B,aAAa,EACb,UAACnI,QAAgB;MACb,OAAOn+B,KAAI,CAACyuB,cAAc,CAACiZ,cAAc,CAACvJ,QAAQ,EAAEn+B,KAAI,CAACyK,aAAa,CAAC;IAC3E,CAAC,EACD,UAAC0zB,QAAgB,EAAEwJ,SAA8B;MAC7C,IAAIA,SAAS,KAAKjpC,KAAK,CAACmoC,aAAa,CAACI,WAAW,EAAE;QAC/CjnC,KAAI,CAACwY,aAAa,CACd3Y,SAAS,EACTnB,KAAK,CAAC+Z,eAAe,CAACqvB,iBAAiB,EACvCvhC,iBAAO,CAACC,MAAM,CAACuhC,iBAAiB,CAAC5J,QAAQ,CAAC,CAC7C;OACJ,MAAM;QACHn+B,KAAI,CAACwY,aAAa,CACd3Y,SAAS,EACTnB,KAAK,CAAC+Z,eAAe,CAACyf,oBAAoB,EAC1C3xB,iBAAO,CAACC,MAAM,CAAC2xB,oBAAoB,CAACgG,QAAQ,CAAC,CAChD;;IAET,CAAC,CACJ;EACL,CAAC;EAEDl+B,sBAAI6C,iDAAe;SAAnB;;MACI,OAAO,UAAI,CAACklC,gBAAgB,mCAAIn+B,yBAAc,CAACo+B,QAAQ;IAC3D,CAAC;;;;EAED;EACA;EACAnlC,iDAAkB,GAAlB,UAAmBvC,KAAkD;IACjE,IAAI,CAACynC,gBAAgB,GAAGznC,KAAK;EACjC,CAAC;EAEDN,sBAAI6C,gDAAc;SAAlB;;MACI,OAAO,UAAI,CAAColC,eAAe,mCAAIr+B,yBAAc,CAAC2jB,OAAO;IACzD,CAAC;;;;EAED;EACA;EACA1qB,gDAAiB,GAAjB,UAAkBvC,KAA6C;IAC3D,IAAI,CAAC2nC,eAAe,GAAG3nC,KAAK;EAChC,CAAC;EACL,2BAAC;AAAD,CAAC,CAhNyCwJ,wCAAwB;AAArDjK;AAkNb+J,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,WAAW,EAAEr/B,SAAS,CAAC;AAC/Dc,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,WAAW,EAAEn5B,SAAS,CAAC;AAC/DpF,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,eAAe,EAAE/yB,aAAa,EAAEtL,wBAAQ,CAACE,IAAI,CAAC;AACtFJ,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,SAAS,EAAEh0B,OAAO,EAAErK,wBAAQ,CAACE,IAAI,CAAC;AAC1EJ,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,OAAO,EAAEpvB,KAAK,CAAC;AACvDnP,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,UAAU,EAAE5rB,QAAQ,CAAC;AAC7D3S,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,OAAO,EAAElnB,KAAK,EAAEnX,wBAAQ,CAACC,IAAI,CAAC;AACtEH,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,SAAS,EAAEpxB,OAAO,CAAC;AAC3DnN,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,WAAW,EAAErI,SAAS,CAAC;AAC/Dl2B,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,WAAW,EAAExO,SAAS,EAAE7vB,wBAAQ,CAACE,IAAI,CAAC;AAC9EJ,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,YAAY,EAAEjhB,SAAS,CAAC;AAChEtd,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,YAAY,EAAE7b,SAAS,CAAC;AAChE1iB,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,YAAY,EAAEtb,SAAS,CAAC;AAChEjjB,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,cAAc,EAAEpc,WAAW,CAAC;AACpEniB,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,iBAAiB,EAAEte,cAAc,CAAC;AAC1EjgB,yBAAc,CAACs+B,eAAe,CAACC,QAAQ,CAAC,cAAc,EAAEpf,WAAW,CAAC;AAEpEnf,yBAAc,CAACw+B,cAAc,CAACD,QAAQ,CAACxW,aAAa,CAACJ,YAAY,EAAEI,aAAa,CAAC;AACjF/nB,yBAAc,CAACw+B,cAAc,CAACD,QAAQ,CAAC7W,YAAY,CAACC,YAAY,EAAED,YAAY,CAAC;AAC/E1nB,yBAAc,CAACw+B,cAAc,CAACD,QAAQ,CAACnU,cAAc,CAACzC,YAAY,EAAEyC,cAAc,CAAC;AACnFpqB,yBAAc,CAACw+B,cAAc,CAACD,QAAQ,CAClCtW,sBAAsB,CAACN,YAAY,EACnCM,sBAAsB,EACtB/nB,wBAAQ,CAACE,IAAI,CAChB;AACDJ,yBAAc,CAACw+B,cAAc,CAACD,QAAQ,CAAC3W,aAAa,CAACD,YAAY,EAAEC,aAAa,EAAE1nB,wBAAQ,CAAC2nB,IAAI,CAAC","names":["clearElement","element","trustedHtml","window","trustedTypes","emptyHTML","innerHTML","renderSeparation","hostConfig","separationDefinition","orientation","spacing","lineThickness","separator","document","createElement","className","makeCssClassName","Enums","Orientation","Horizontal","setAttribute","color","lineColor","Utils","stringToCssColor","style","paddingTop","marginBottom","borderBottom","height","paddingLeft","marginRight","borderRight","width","overflow","flex","undefined","exports","__extends","_this","Object","CardElement","lang","getValue","langProperty","parent","value","setValue","isVisibleProperty","shared_1","useAdvancedCardBottomTruncation","undoOverflowTruncation","isVisible","updateRenderedElementVisibility","_renderedElement","raiseElementVisibilityChangedEvent","toString","renderedSeparator","getEffectiveSpacing","separatorOrientation","alwaysBleedSeparators","parentContainer","getParentContainer","getEffectivePadding","parentPhysicalPadding","paddingDefinitionToSpacingDefinition","marginLeft","left","right","displayMode","isDesignMode","_defaultRenderedElementDisplayMode","display","removeProperty","_separatorElement","isFirstElement","visibility","maxHeight","isHiddenDueToOverflow","handled","truncateOverflow","_truncatedDueToOverflow","hideElementDueToOverflow","showElementHiddenDueToOverflow","sizeChanged","SerializationContext","styleDefinition","getEffectiveStyleDefinition","foregroundCssColor","foregroundColors","default","subtle","border","padding","minHeight","fontSize","innerText","getJsonTypeName","renderedElement","offsetHeight","internalRender","separatorElement","isBleeding","getImmediateSurroundingPadding","physicalPadding","_maxHeight","ignoreBackgroundImages","_padding","context","elementRegistry","findByName","ContainerStyle","Default","source","_super","parse","getEffectiveStyle","defaultStyle","containerStyles","getStyleByName","getEffectiveTextStyleDefinition","textStyles","result","processTop","processRight","processBottom","processLeft","doProcessTop","isTopElement","doProcessRight","isRightMostElement","doProcessBottom","isBottomElement","doProcessLeft","isLeftMostElement","effectivePadding","top","Spacing","None","bottom","index","Error","strings_1","errors","indexOutOfRange","action","i","getActionCount","getActionAt","CardElementContainer","removeItem","overrideInternalRender","internalRenderSeparator","id","customCssSelector","classList","add","boxSizing","adjustRenderedElementSize","updateLayout","createPlaceholderElement","getRootElement","updateActionsEnabledState","_processChildren","applyPadding","allActions","getAllActions","allActions_1","_i","updateEnabledState","_cardElement","rootElement","AdaptiveCard","designMode","_element","isAtTheVeryLeft","isAtTheVeryRight","isAtTheVeryTop","isLastElement","isAtTheVeryBottom","getRootObject","currentElement","Container","processActions","push","_id","getPadding","getDefaultPadding","horizontalAlignment","getEffectiveHorizontalAlignment","HorizontalAlignment","Left","_hostConfig","host_config_1","indexOf","_parent","registry_1","NotAllowed","serialization_1","v1_1","v1_2","v1_0","__decorate","horizontalAlignmentProperty","spacingProperty","separatorProperty","heightProperty","card_object_1","targetVersion","name","forbiddenActionTypes","ActionProperty","sender","parseAction","target","serializeValue","toJSON","text","BaseTextBlock","schema","populateSchema","remove","selectActionProperty","textProperty","setText","fontType","effectiveSize","TextSize","Small","fontSizes","small","Medium","medium","Large","large","ExtraLarge","extraLarge","colorSet","TextColor","Accent","accent","Dark","dark","Light","light","Good","good","Warning","warning","Attention","attention","textDefinition","size","weight","isSubtle","targetElement","getFontTypeDefinition","effectiveFontType","fontFamily","colorDefinition","getColorDefinition","effectiveColor","targetColor","effectiveIsSubtle","fontWeight","effectiveWeight","TextWeight","Lighter","fontWeights","lighter","Bolder","bolder","ariaHidden","selectAction","FontType","sizeProperty","weightProperty","colorProperty","fontTypeProperty","isSubtleProperty","TextBlock","maxLines","_computedLineHeight","originalHtml","_ttRoundtripPolicy","createHTML","_originalInnerHtml","children","isTextOnly","length","truncationSupported","tagName","toLowerCase","truncateText","_processedText","preProcessedText","preProcessPropertyValue","forElementId","labelElement","htmlFor","applyStylesTo","headingLevel","textBlock","supportsInteractivity","onclick","e","isEffectivelyEnabled","preventDefault","cancelBubble","execute","setupElementForAccessibility","_treatAsPlainText","formattedText","TextFormatters","formatText","useMarkdown","allowMarkForTextHighlighting","replace","markdownProcessingResult","applyMarkdown","didProcess","outputHtml","markStyle","effectiveStyle","highlightBackgroundColor","highlightForegroundColor","processedHtml","_ttMarkdownPolicy","firstElementChild","HTMLElement","marginTop","wrap","textOverflow","lastElementChild","anchors","getElementsByTagName","anchor","raiseAnchorClickedEvent","oncontextmenu","_c","from","wordWrap","isInternetExplorer","useWebkitLineClamp","webkitBoxOrient","webkitLineClamp","whiteSpace","useAdvancedTextBlockTruncation","truncateIfSupported","restoreOriginalContent","Center","textAlign","Right","lineHeights","getFontSize","lineHeight","processChildren","isDisplayed","v1_5","createPolicy","wrapProperty","maxLinesProperty","styleProperty","TextRun","href","getHref","appendChild","italic","fontStyle","strikethrough","textDecoration","highlight","backgroundColor","highlightColors","underline","v1_3","italicProperty","strikethroughProperty","highlightProperty","underlineProperty","RichTextBlock","inline","forceAdd","isInline","elementCannotBeUsedAsInline","doAdd","inlineAlreadyParented","setParent","_inlines","internalParse","Array","isArray","_a","jsonInline","textRun","parseElement","internalAddInline","internalToJSON","jsonInlines","renderedInlines","renderedInline","render","asString","splice","Fact","titleProperty","valueProperty","FactSet","facts","borderWidth","borderSpacing","borderStyle","borderCollapse","trElement","factSet","tdElement","title","maxWidth","verticalAlign","factsProperty","internalName","fallbackProperty","ImageDimensionProperty","sourceValue","defaultValue","isValid","unit","SizeUnit","Pixel","physicalSize","isValidValue","logParseEvent","ValidationEvent","InvalidPropertyValue","invalidPropertyValue","isNaN","Size","Auto","ImageStyle","Image","pixelWidth","pixelHeight","imageSizes","Stretch","url","alignItems","justifyContent","imageElement","onload","_e","raiseImageLoadedEvent","onerror","card","errorElement","applySize","minWidth","onkeypress","code","Person","borderRadius","backgroundPosition","backgroundRepeat","src","urlProperty","altTextProperty","alt","getActionById","mimeType","backgroundColorProperty","pixelWidthProperty","pixelHeightProperty","isSelectable","isInteractive","paddingRight","paddingBottom","releaseDOMResources","getItemCount","getItemAt","internalValidateProperties","item","addFailure","InteractivityNotAllowed","interactivityNotAllowed","isElementAllowed","elementTypeNotAllowed","_selectAction","allowVerticalOverflow","overflowX","overflowY","getAllInputs","getResourceInformation","getElementById","node","findDOMNodeOwner","ImageSize","ImageSet","_images","flexWrap","image","imageSize","imageSet","maxImageHeight","renderedImage","margin","itemIndex","cardElement","imagesProperty","imageSizeProperty","ContentSource","mimeTypeProperty","label","CaptionSource","kind","v1_6","labelProperty","MediaSource","type","MediaPlayer","_posterUrl","owner","processSources","HTML5MediaPlayer","_selectedSources","_captionSources","_selectedMediaType","_b","sources","mimeComponents","split","supportedMediaTypes","captionSources","_mediaElement","altText","defaults","mediaPlayerAriaLabel","autoplay","controls","isMobileOS","muted","preload","renderedSource","captionSource","renderedCaptionSource","play","matches","iFrameTitle","_videoId","IFrameMediaMediaPlayer","container","position","iFrame","getEmbedVideoUrl","frameBorder","allow","allowFullscreen","CustomMediaPlayer","VimeoPlayer","oEmbedUrl","fetch","response","ok","json","posterUrl","videoId","DailymotionPlayer","apiUrl","_startTimeIndex","parseInt","YouTubePlayer","Media","customMediaPlayers","provider","_f","urlPatterns","_d","pattern","exec","createMediaPlayer","event","media","allowInlinePlayback","mediaPlayerElement","_mediaPlayer","focus","onPlay","playButtonArrowWidth","playButtonArrowHeight","posterRootElement_1","poster","defaultPoster","posterImageElement_1","parentNode","removeChild","canPlay","playButtonOuterElement","tabIndex","mediaPlayerPlayMedia","handlePlayButtonInvoke","playButtonInnerElement","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopColor","borderRightColor","borderBottomColor","transform","playButtonContainer","fetchVideoDetails","then","displayPoster","mediaSource","selectedMediaType","youTubeVideoPlayer","vimeoVideoPlayer","dailymotionVideoPlayer","sourcesProperty","captionSourcesProperty","posterProperty","Input","labelIds","labelledBy","_renderedLabelElement","_renderedErrorMessageElement","_renderedInputControlElement","getAllLabelIds","join","removeAttribute","_inputControlContainerElement","_outerContainerElement","flexDirection","renderedInputControlId","generateUniqueId","labelRichTextBlock","labelInline","addInline","isRequired","init","inputs","requiredInputs","isRequiredCueInline","suffix","suffixColor","optionalInputs","inputSpacing","isNullable","updateInputControlAriaLabelledBy","resetDirtyState","resetValidationFailureCue","onValueChanged","raiseInputValueChangedEvent","renderedInputControlElement","errorMessage","displayInputValidationErrors","errorMessageTextBlock","_oldValue","PropertyCantBeNull","inputsMustHaveUniqueId","RequiredInputsShouldHaveLabel","RequiredInputsShouldHaveErrorMessage","isSet","showValidationErrorMessage","isRequiredProperty","errorMessageProperty","InputTextStyle","Text","TextInput","input","placeholder","maxLength","oninput","valueChanged","ctrlKey","inlineAction","isMultiline","Password","setupInput","renderedInputControl","button_1","iconUrl","icon_1","textContent","inlineActionTitle","inputControlContainerElement","regex","RegExp","test","Tel","Url","Email","maxLengthProperty","isMultilineProperty","placeholderProperty","inlineActionProperty","regexProperty","ToggleInput","_checkboxInputElement","joinedLabelIds","_checkboxInputLabelElement","valueOn","checked","_oldCheckboxValue","onchange","useMarkdownInRadioButtonAndCheckbox","spacerElement","valueOff","valueOnProperty","valueOffProperty","Choice","ChoiceSetInput","uniqueCategoryName","_uniqueCategoryCounter","_selectElement","options","option","selected","cssClassName","defaultValues","_toggleInputs","_labels","choices","choice","_uniqueCategoryName","compoundInput","isMultiSelect","getUniqueCategoryName","renderCompoundInput","choiceSetInputValueSeparator","inputContainer","_textInput","dataList","append","placeholderOption","disabled","hidden","internalApplyAriaCurrent","CollectionCantBeEmpty","choiceSetMustHaveAtLeastOneChoice","choiceSetChoicesMustHaveTitleAndValue","selectedIndex","toggleInput","isMultiSelectProperty","choicesProperty","NumberInput","_numberInputElement","min","max","valueAsNumber","minProperty","maxProperty","DateInput","_dateInputElement","valueAsDate","Date","minDate","maxDate","prop","TimeInput","timeString","_timeInputElement","convertTimeStringToDate","TimeProperty","ActionStyle","ActionMode","Primary","Action","titleElement","actions","iconPlacement","ActionIconPlacement","AboveTitle","allowTitleToWrap","iconElement","iconSize","parentContainerStyle","isFocusable","_state","Positive","makeCssClassNames","_inputs","referencedInputs","keys","key","validateValue","actionRegistry","onExecute","raiseExecuteActionEvent","rootObject","promoteTooltipToLabel","getAriaRole","HTMLButtonElement","tooltip","targetAriaAttribute","buttonElement","renderButtonContent","updateCssClasses","_actionCollection","actionExecuted","internalAfterExecute","getReferencedInputs","invalidInputs","internalValidateInputs","internalPrepareForExecution","removeAction","internalGetReferencedInputs","isEnabled","_isFocusable","Destructive","Secondary","iconUrlProperty","modeProperty","tooltipProperty","isEnabledProperty","SubmitActionBase","associatedInputs","current","inputs_1","_originalData","_processedData","JSON","stringify","_isPrepared","resetInputsDirtyStateAfterActionExecution","resetReferencedInputsDirtyState","_areReferencedInputsDirty","isDirty","disabledUnlessAssociatedInputsChange","dataProperty","associatedInputsProperty","disabledUnlessAssociatedInputsChangeProperty","SubmitAction","JsonTypeName","ExecuteAction","v1_4","verbProperty","OpenUrlAction","propertyMustBeSet","ToggleVisibilityAction","targetElements","elementIds","updateAriaControlsAttribute","elementId","parseBool","serializeArray","targetElementsProperty","StringWithSubstitutionProperty","set","parseString","getOriginal","HttpHeader","_value","substituteInputValues","applicationXWwwFormUrlencoded","get","newValue","nameProperty","HttpAction","allInputs","_url","headers","header","_body","contentType","applicationJson","prepareForExecution","actionHttpHeadersMustHaveNameAndValue","_ignoreInputValidation","bodyProperty","methodProperty","headersProperty","ignoreInputValidationProperty","InlineAdaptiveCard","ShowCardAction","effectiveHostConfig","state","jsonCard","showCardMustHaveCard","showCard","actionMode","ShowCardActionMode","Popup","_actions","overflowButtonText","OverflowAction","shouldDisplayPopupMenu","raiseDisplayOverflowActionMenuEvent","contextMenu_1","controls_1","menuItem","this_1","onClick","actionToExecute","closePopup","items","popup","_owner","ActionCollection","forbiddenTypes","getForbiddenActionTypes","forbiddenTypes_1","forbiddenType","constructor","_actionCardContainer","_actionCard","renderedActionCount","inlineTopMargin","suppressStyle","raiseEvent","renderedCard","_expandedAction","refreshContainer","layoutChanged","raiseInlineCardExpandedEvent","_renderedActions","previouslyExpandedAction","afterSelectedAction","renderedAction","actionsOrientation","onblur","ra","showActionCard","collapseExpandedAction","Inline","expandShowCardAction","clear","source_1","jsonAction","forbiddenActions","ContainerWithActions","getForbiddenActionNames","addAction","propertyName","_items","maxActions","TooManyActions","tooManyActions","isActionAllowed","ActionTypeNotAllowed","actionTypeNotAllowed","Math","preExpandSingleShowCardAction","buttonStrip","actionAlignment","ActionAlignment","allowedActions","filter","bind","primaryActions_1","secondaryActions_1","forEach","mode","overflowPrimaryActions","allowMoreThanMaxActionsInOverflowMenu","shouldRenderOverflowActionButton","_overflowAction","isRootAction","raiseRenderOverflowActionsEvent","buttonSpacing","spacer","buttonStripContainer","actionAlreadyParented","expandedAction","actionIndex","ActionSet","isBleedingAtBottom","validateProperties","orientationProperty","onGetInitialValue","Emphasis","StylableCardElementContainer","allowCustomStyle","bgColor","surroundingPadding","currentElementHasBackgroundImage","backgroundImage","hasExplicitStyle","getHasBackground","getHasBorder","Padding","explicitStyle","applyBackground","applyBorder","ContainerStyleProperty","ContainerBase","minPixelHeight","_bleed","alwaysAllowBleed","getBleed","bleedProperty","minHeightProperty","BackgroundImage","resetDefaultValues","fillMode","FillMode","Repeat","RepeatHorizontally","RepeatVertically","Cover","backgroundSize","backgroundPositionX","verticalAlignment","VerticalAlignment","Top","backgroundPositionY","Bottom","fillModeProperty","verticalAlignmentProperty","backgroundImageProperty","forceInsert","isStandalone","elementTypeNotStandalone","elementAlreadyParented","apply","rtl","dir","_renderedItems","applyRTL","getEffectiveVerticalContentAlignment","renderedItem","placeholderElement","boundary_1","offsetTop","handleElement_1","elt","getFitStatus","ContainerFitStatus","FullyInContainer","Overflowing","containerMaxHeight","FullyOutOfContainer","setShouldFallback","jsonItems","getItemsCollectionPropertyName","canHostSingletons","typeName","registration","singletonBehavior","insertItemAt","jsonItems_1","forbiddenChildElements","collectionPropertyName","getElementSingletonBehavior","Only","removePaddingFromContainersWithBackgroundImage","verticalContentAlignment","isRtl","firstRenderedItem","getFirstVisibleRenderedItem","isBleedingAtTop","lastRenderedItem","getLastVisibleRenderedItem","insertBefore","insertAfter","setPadding","setBleed","verticalContentAlignmentProperty","rtlProperty","Column","minDesignTimeColumnHeight","_computedWeight","_context","Vertical","ColumnSet","invalidWidth","Weight","compareTo","invalidColumnWidth","property","serializeNumber","widthProperty","parseCardObject","_errorType","ElementTypeNotAllowed","_renderedColumns","_columns","totalWeight","column","computedWeight","renderedColumn","jsonColumns","jsonColumns_1","createColumnInstance","getColumnAt","weightedColumns","stretchedColumns","Hint","hints","dontUseWeightedAndStrecthedColumnsInSameSet","columnAlreadyBelongsToAnotherSet","onImageLoadedHandler","onImageLoaded","ev","onAnchorClickedHandler","onAnchorClicked","onExecuteActionHandler","onExecuteAction","isExpanded","onInlineCardExpandedHandler","onInlineCardExpanded","onInputValueChangedHandler","onInputValueChanged","shouldUpdateLayout","onElementVisibilityChangedHandler","onElementVisibilityChanged","onDisplayOverflowActionMenuHandler","onDisplayOverflowActionMenu","getActions","isAtRootLevelActions","onRenderOverflowActionsHandler","onRenderOverflowActions","parseActions","renderedActions","renderIfEmpty","RefreshActionProperty","RefreshDefinition","actionProperty","userIdsProperty","AuthCardButton","typeProperty","imageProperty","TokenExchangeResource","idProperty","uriProperty","providerIdProperty","Authentication","connectionNameProperty","buttonsProperty","tokenExchangeResourceProperty","refreshProperty","processMarkdownEventRemoved","onProcessMarkdown","markdownit","markdownIt","_haveWarnedAboutNoMarkdownProcessing","console","warn","markdownProcessingNotEnabled","bypassVersionCheck","unsupportedVersion","version","maxVersion","major","minor","_fallbackCard","fallbackElement","addItem","versionProperty","adaptiveCard","typeNameProperty","MissingCardType","invalidCardType","isVersionSupported","UnsupportedCardVersion","unsupportedCardVersion","shouldFallback","setTabIndexAtCardRoot","speak","schemaUrl","latest","invalidCardVersion","fallbackTextProperty","speakProperty","authenticationProperty","$schemaProperty","Set","allowFallback","createInstanceCallback","parsingSingletonObject","oldForbiddenTypes_1","_forbiddenTypes","ignoreForbiddenType","has","TypeErrorType","ForbiddenType","tryToFallback","enableFallback","UnknownType","fallback","internalParseCardObject","o","onParseAction","onParseElement","forbiddenTypeNames","cardObjectParsed","_parsingSingletonObject","createInstance","errorType","UnknownElementType","unknownElementType","UnknownActionType","unknownActionType","_elementRegistry","elements","_actionRegistry","defaultElements","register","defaultActions"],"sourceRoot":"","sources":["../src/card-elements.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}